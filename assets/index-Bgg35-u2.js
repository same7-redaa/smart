(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function oE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Yd={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function Gw(){if(hv)return xl;hv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return xl.Fragment=t,xl.jsx=n,xl.jsxs=n,xl}var fv;function Qw(){return fv||(fv=1,Yd.exports=Gw()),Yd.exports}var y=Qw(),Xd={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function Kw(){if(dv)return Et;dv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function H(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,W={};function dt(M,V,J){this.props=M,this.context=V,this.refs=W,this.updater=J||Z}dt.prototype.isReactComponent={},dt.prototype.setState=function(M,V){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,V,"setState")},dt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function yt(){}yt.prototype=dt.prototype;function ht(M,V,J){this.props=M,this.context=V,this.refs=W,this.updater=J||Z}var kt=ht.prototype=new yt;kt.constructor=ht,et(kt,dt.prototype),kt.isPureReactComponent=!0;var Wt=Array.isArray;function St(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(M,V,J){var it=J.ref;return{$$typeof:r,type:M,key:V,ref:it!==void 0?it:null,props:J}}function j(M,V){return C(M.type,V,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var V={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(J){return V[J]})}var I=/\/+/g;function ee(M,V){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):V.toString(36)}function he(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(St,St):(M.status="pending",M.then(function(V){M.status==="pending"&&(M.status="fulfilled",M.value=V)},function(V){M.status==="pending"&&(M.status="rejected",M.reason=V)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,V,J,it,mt){var vt=typeof M;(vt==="undefined"||vt==="boolean")&&(M=null);var Lt=!1;if(M===null)Lt=!0;else switch(vt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(M.$$typeof){case r:case t:Lt=!0;break;case b:return Lt=M._init,G(Lt(M._payload),V,J,it,mt)}}if(Lt)return mt=mt(M),Lt=it===""?"."+ee(M,0):it,Wt(mt)?(J="",Lt!=null&&(J=Lt.replace(I,"$&/")+"/"),G(mt,V,J,"",function(cs){return cs})):mt!=null&&(O(mt)&&(mt=j(mt,J+(mt.key==null||M&&M.key===mt.key?"":(""+mt.key).replace(I,"$&/")+"/")+Lt)),V.push(mt)),1;Lt=0;var De=it===""?".":it+":";if(Wt(M))for(var se=0;se<M.length;se++)it=M[se],vt=De+ee(it,se),Lt+=G(it,V,J,vt,mt);else if(se=H(M),typeof se=="function")for(M=se.call(M),se=0;!(it=M.next()).done;)it=it.value,vt=De+ee(it,se++),Lt+=G(it,V,J,vt,mt);else if(vt==="object"){if(typeof M.then=="function")return G(he(M),V,J,it,mt);throw V=String(M),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function nt(M,V,J){if(M==null)return M;var it=[],mt=0;return G(M,it,"","",function(vt){return V.call(J,vt,mt++)}),it}function lt(M){if(M._status===-1){var V=M._result;V=V(),V.then(function(J){(M._status===0||M._status===-1)&&(M._status=1,M._result=J)},function(J){(M._status===0||M._status===-1)&&(M._status=2,M._result=J)}),M._status===-1&&(M._status=0,M._result=V)}if(M._status===1)return M._result.default;throw M._result}var Vt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Bt={map:nt,forEach:function(M,V,J){nt(M,function(){V.apply(this,arguments)},J)},count:function(M){var V=0;return nt(M,function(){V++}),V},toArray:function(M){return nt(M,function(V){return V})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=A,Et.Children=Bt,Et.Component=dt,Et.Fragment=n,Et.Profiler=o,Et.PureComponent=ht,Et.StrictMode=s,Et.Suspense=p,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,V,J){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var it=et({},M.props),mt=M.key;if(V!=null)for(vt in V.key!==void 0&&(mt=""+V.key),V)!S.call(V,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&V.ref===void 0||(it[vt]=V[vt]);var vt=arguments.length-2;if(vt===1)it.children=J;else if(1<vt){for(var Lt=Array(vt),De=0;De<vt;De++)Lt[De]=arguments[De+2];it.children=Lt}return C(M.type,mt,it)},Et.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Et.createElement=function(M,V,J){var it,mt={},vt=null;if(V!=null)for(it in V.key!==void 0&&(vt=""+V.key),V)S.call(V,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=V[it]);var Lt=arguments.length-2;if(Lt===1)mt.children=J;else if(1<Lt){for(var De=Array(Lt),se=0;se<Lt;se++)De[se]=arguments[se+2];mt.children=De}if(M&&M.defaultProps)for(it in Lt=M.defaultProps,Lt)mt[it]===void 0&&(mt[it]=Lt[it]);return C(M,vt,mt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:g,render:M}},Et.isValidElement=O,Et.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:lt}},Et.memo=function(M,V){return{$$typeof:_,type:M,compare:V===void 0?null:V}},Et.startTransition=function(M){var V=x.T,J={};x.T=J;try{var it=M(),mt=x.S;mt!==null&&mt(J,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(St,Vt)}catch(vt){Vt(vt)}finally{V!==null&&J.types!==null&&(V.types=J.types),x.T=V}},Et.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Et.use=function(M){return x.H.use(M)},Et.useActionState=function(M,V,J){return x.H.useActionState(M,V,J)},Et.useCallback=function(M,V){return x.H.useCallback(M,V)},Et.useContext=function(M){return x.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,V){return x.H.useDeferredValue(M,V)},Et.useEffect=function(M,V){return x.H.useEffect(M,V)},Et.useEffectEvent=function(M){return x.H.useEffectEvent(M)},Et.useId=function(){return x.H.useId()},Et.useImperativeHandle=function(M,V,J){return x.H.useImperativeHandle(M,V,J)},Et.useInsertionEffect=function(M,V){return x.H.useInsertionEffect(M,V)},Et.useLayoutEffect=function(M,V){return x.H.useLayoutEffect(M,V)},Et.useMemo=function(M,V){return x.H.useMemo(M,V)},Et.useOptimistic=function(M,V){return x.H.useOptimistic(M,V)},Et.useReducer=function(M,V,J){return x.H.useReducer(M,V,J)},Et.useRef=function(M){return x.H.useRef(M)},Et.useState=function(M){return x.H.useState(M)},Et.useSyncExternalStore=function(M,V,J){return x.H.useSyncExternalStore(M,V,J)},Et.useTransition=function(){return x.H.useTransition()},Et.version="19.2.0",Et}var mv;function Qm(){return mv||(mv=1,Xd.exports=Kw()),Xd.exports}var Nt=Qm();const Yw=oE(Nt);var $d={exports:{}},Il={},Zd={exports:{}},Jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function Xw(){return gv||(gv=1,(function(r){function t(G,nt){var lt=G.length;G.push(nt);t:for(;0<lt;){var Vt=lt-1>>>1,Bt=G[Vt];if(0<o(Bt,nt))G[Vt]=nt,G[lt]=Bt,lt=Vt;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var nt=G[0],lt=G.pop();if(lt!==nt){G[0]=lt;t:for(var Vt=0,Bt=G.length,M=Bt>>>1;Vt<M;){var V=2*(Vt+1)-1,J=G[V],it=V+1,mt=G[it];if(0>o(J,lt))it<Bt&&0>o(mt,J)?(G[Vt]=mt,G[it]=lt,Vt=it):(G[Vt]=J,G[V]=lt,Vt=V);else if(it<Bt&&0>o(mt,lt))G[Vt]=mt,G[it]=lt,Vt=it;else break t}}return nt}function o(G,nt){var lt=G.sortIndex-nt.sortIndex;return lt!==0?lt:G.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],_=[],b=1,A=null,N=3,H=!1,Z=!1,et=!1,W=!1,dt=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function kt(G){for(var nt=n(_);nt!==null;){if(nt.callback===null)s(_);else if(nt.startTime<=G)s(_),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=n(_)}}function Wt(G){if(et=!1,kt(G),!Z)if(n(p)!==null)Z=!0,St||(St=!0,L());else{var nt=n(_);nt!==null&&he(Wt,nt.startTime-G)}}var St=!1,x=-1,S=5,C=-1;function j(){return W?!0:!(r.unstable_now()-C<S)}function O(){if(W=!1,St){var G=r.unstable_now();C=G;var nt=!0;try{t:{Z=!1,et&&(et=!1,yt(x),x=-1),H=!0;var lt=N;try{e:{for(kt(G),A=n(p);A!==null&&!(A.expirationTime>G&&j());){var Vt=A.callback;if(typeof Vt=="function"){A.callback=null,N=A.priorityLevel;var Bt=Vt(A.expirationTime<=G);if(G=r.unstable_now(),typeof Bt=="function"){A.callback=Bt,kt(G),nt=!0;break e}A===n(p)&&s(p),kt(G)}else s(p);A=n(p)}if(A!==null)nt=!0;else{var M=n(_);M!==null&&he(Wt,M.startTime-G),nt=!1}}break t}finally{A=null,N=lt,H=!1}nt=void 0}}finally{nt?L():St=!1}}}var L;if(typeof ht=="function")L=function(){ht(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ee=I.port2;I.port1.onmessage=O,L=function(){ee.postMessage(null)}}else L=function(){dt(O,0)};function he(G,nt){x=dt(function(){G(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(G){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var lt=N;N=nt;try{return G()}finally{N=lt}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var lt=N;N=G;try{return nt()}finally{N=lt}},r.unstable_scheduleCallback=function(G,nt,lt){var Vt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Vt+lt:Vt):lt=Vt,G){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=lt+Bt,G={id:b++,callback:nt,priorityLevel:G,startTime:lt,expirationTime:Bt,sortIndex:-1},lt>Vt?(G.sortIndex=lt,t(_,G),n(p)===null&&G===n(_)&&(et?(yt(x),x=-1):et=!0,he(Wt,lt-Vt))):(G.sortIndex=Bt,t(p,G),Z||H||(Z=!0,St||(St=!0,L()))),G},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(G){var nt=N;return function(){var lt=N;N=nt;try{return G.apply(this,arguments)}finally{N=lt}}}})(Jd)),Jd}var pv;function $w(){return pv||(pv=1,Zd.exports=Xw()),Zd.exports}var Wd={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function Zw(){if(yv)return Ye;yv=1;var r=Qm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:_,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(p,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(p,_,null,b)},Ye.flushSync=function(p){var _=f.T,b=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=b,s.d.f()}},Ye.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Ye.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ye.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var b=_.as,A=g(b,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:H}):b==="script"&&s.d.X(p,{crossOrigin:A,integrity:N,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Ye.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=g(b,_.crossOrigin);s.d.L(p,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(p,_){if(typeof p=="string")if(_){var b=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Ye.requestFormReset=function(p){s.d.r(p)},Ye.unstable_batchedUpdates=function(p,_){return p(_)},Ye.useFormState=function(p,_,b){return f.H.useFormState(p,_,b)},Ye.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var _v;function Jw(){if(_v)return Wd.exports;_v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Wd.exports=Zw(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function Ww(){if(vv)return Il;vv=1;var r=$w(),t=Qm(),n=Jw();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function _(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function b(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=b(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case dt:return"Profiler";case W:return"StrictMode";case Wt:return"Suspense";case St:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ht:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case kt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return i=e.displayName||null,i!==null?i:ee(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return ee(e(i))}catch{}}return null}var he=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Vt=[],Bt=-1;function M(e){return{current:e}}function V(e){0>Bt||(e.current=Vt[Bt],Vt[Bt]=null,Bt--)}function J(e,i){Bt++,Vt[Bt]=e.current,e.current=i}var it=M(null),mt=M(null),vt=M(null),Lt=M(null);function De(e,i){switch(J(vt,i),J(mt,e),J(it,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?V_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=V_(i),e=j_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(it),J(it,e)}function se(){V(it),V(mt),V(vt)}function cs(e){e.memoizedState!==null&&J(Lt,e);var i=it.current,a=j_(i,e.type);i!==a&&(J(mt,e),J(it,a))}function ra(e){mt.current===e&&(V(it),V(mt)),Lt.current===e&&(V(Lt),bl._currentValue=lt)}var sa,aa;function ai(e){if(sa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);sa=i&&i[1]||"",aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sa+e+aa}var bo=!1;function hs(e,i){if(!e||bo)return"";bo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var B=F}Reflect.construct(e,[],X)}else{try{X.call()}catch(F){B=F}e.call(X.prototype)}}else{try{throw Error()}catch(F){B=F}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),z=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var Q=`
`+R[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{bo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ai(a):""}function wo(e,i){switch(e.tag){case 26:case 27:case 5:return ai(e.type);case 16:return ai("Lazy");case 13:return e.child!==i&&i!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return hs(e.type,!1);case 11:return hs(e.type.render,!1);case 1:return hs(e.type,!0);case 31:return ai("Activity");default:return""}}function Ao(e){try{var i="",a=null;do i+=wo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ve=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,ur=r.unstable_cancelCallback,Xh=r.unstable_shouldYield,lu=r.unstable_requestPaint,We=r.unstable_now,fs=r.unstable_getCurrentPriorityLevel,So=r.unstable_ImmediatePriority,xo=r.unstable_UserBlockingPriority,cr=r.unstable_NormalPriority,$h=r.unstable_LowPriority,uu=r.unstable_IdlePriority,cu=r.log,hu=r.unstable_setDisableYieldValue,zn=null,Ue=null;function An(e){if(typeof cu=="function"&&hu(e),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(zn,e)}catch{}}var fe=Math.clz32?Math.clz32:du,fu=Math.log,oa=Math.LN2;function du(e){return e>>>=0,e===0?32:31-(fu(e)/oa|0)|0}var oi=256,ds=262144,Ee=4194304;function li(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=li(l):(v&=T,v!==0?h=li(v):a||(a=T&~e,a!==0&&(h=li(a))))):(T=l&~d,T!==0?h=li(T):v!==0?h=li(v):a||(a=l&~e,a!==0&&(h=li(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Bn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Zh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function ci(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ms(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jh(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-fe(a),X=1<<Q;T[Q]=0,R[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var F=B[Q];F!==null&&(F.lane&=-536870913)}a&=~X}l!==0&&gs(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function gs(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-fe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Io(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-fe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Ro(e,i){var a=i&-i;return a=(a&42)!==0?1:ps(a),(a&(e.suspendedLanes|i))!==0?0:a}function ps(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:rv(e.type))}function qn(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var Fn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Fn,je="__reactProps$"+Fn,hi="__reactContainer$"+Fn,la="__reactEvents$"+Fn,Wh="__reactListeners$"+Fn,pu="__reactHandles$"+Fn,yu="__reactResources$"+Fn,fi="__reactMarker$"+Fn;function ua(e){delete e[Te],delete e[je],delete e[la],delete e[Wh],delete e[pu]}function di(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[hi]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=q_(e);e!==null;){if(a=e[Te])return a;e=q_(e)}return i}e=a,a=e.parentNode}return null}function Sn(e){if(e=e[Te]||e[hi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function mi(e){var i=e[yu];return i||(i=e[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function be(e){e[fi]=!0}var Co=new Set,No={};function gi(e,i){pi(e,i),pi(e+"Capture",i)}function pi(e,i){for(No[e]=i,e=0;e<i.length;e++)Co.add(i[e])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function _u(e){return ve.call(Mo,e)?!0:ve.call(Oo,e)?!1:Do.test(e)?Mo[e]=!0:(Oo[e]=!0,!1)}function ca(e,i,a){if(_u(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function mn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function we(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Gt(e){if(!e._valueTracker){var i=hr(e)?"checked":"value";e._valueTracker=Vo(e,i,""+e[i])}}function ys(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=hr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _s=/[\n"\\]/g;function rn(e){return e.replace(_s,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ha(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ke(i)):e.value!==""+ke(i)&&(e.value=""+ke(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?jo(e,v,ke(i)):a!=null?jo(e,v,ke(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+ke(T):e.removeAttribute("name")}function vu(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Gt(e);return}a=a!=null?""+ke(a):"",i=i!=null?""+ke(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Gt(e)}function jo(e,i,a){i==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function fr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ke(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Eu(e,i,a){if(i!=null&&(i=""+ke(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+ke(a):""}function dr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(he(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ke(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Gt(e)}function sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Tu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Lo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ko(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ko(e,d,i[d])}function fa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(e){return mr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Po=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gr=null,_i=null;function vs(e){var i=Sn(e);if(i&&(e=i.stateNode)){var a=e[je]||null;t:switch(e=i.stateNode,i.type){case"input":if(ha(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[je]||null;if(!h)throw Error(s(90));ha(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&ys(l)}break t;case"textarea":Eu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&fr(e,!!a.multiple,i,!1)}}}var ma=!1;function pr(e,i,a){if(ma)return e(i,a);ma=!0;try{var l=e(i);return l}finally{if(ma=!1,(gr!==null||_i!==null)&&(gc(),gr&&(i=gr,e=_i,_i=gr=null,vs(i),e)))for(i=0;i<e.length;i++)vs(e[i])}}function Gn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[je]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(In)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){Es=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{Es=!1}var vi=null,Uo=null,Ts=null;function zo(){if(Ts)return Ts;var e,i=Uo,a=i.length,l,h="value"in vi?vi.value:vi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ts=h.slice(e,1<l?1-l:void 0)}function bs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Qn(){return!1}function ze(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Pi:Qn,this.isPropagationStopped=Qn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),i}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=ze(Ui),yr=A({},Ui,{view:0,detail:0}),Bo=ze(yr),_r,ga,Ti,pa=A({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(_r=e.screenX-Ti.screenX,ga=e.screenY-Ti.screenY):ga=_r=0,Ti=e),_r)},movementY:function(e){return"movementY"in e?e.movementY:ga}}),qo=ze(pa),ws=A({},pa,{dataTransfer:0}),wu=ze(ws),Au=A({},yr,{relatedTarget:0}),As=ze(Au),Fo=A({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=ze(Fo),ya=A({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xu=ze(ya),Iu=A({},Ui,{data:0}),bi=ze(Iu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Nu[e])?!!i[e]:!1}function vr(){return Du}var tn=A({},yr,{key:function(e){if(e.key){var i=Ru[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ou=ze(tn),Mu=A({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=ze(Mu),c=A({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),m=ze(c),E=A({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=ze(E),P=A({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=ze(P),tt=A({},Ui,{newState:0,oldState:0}),bt=ze(tt),de=[9,13,27,32],qt=In&&"CompositionEvent"in window,ae=null;In&&"documentMode"in document&&(ae=document.documentMode);var Rn=In&&"TextEvent"in window&&!ae,wi=In&&(!qt||ae&&8<ae&&11>=ae),Kn=" ",Yn=!1;function Ss(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function gb(e,i){switch(e){case"compositionend":return _a(i);case"keypress":return i.which!==32?null:(Yn=!0,Kn);case"textInput":return e=i.data,e===Kn&&Yn?null:e;default:return null}}function pb(e,i){if(va)return e==="compositionend"||!qt&&Ss(e,i)?(e=zo(),Ts=Uo=vi=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var yb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!yb[e.type]:i==="textarea"}function Qg(e,i,a,l){gr?_i?_i.push(l):_i=[l]:gr=l,i=bc(i,"onChange"),0<i.length&&(a=new Ei("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ho=null,Go=null;function _b(e){R_(e,0)}function Vu(e){var i=dn(e);if(ys(i))return e}function Kg(e,i){if(e==="change")return i}var Yg=!1;if(In){var tf;if(In){var ef="oninput"in document;if(!ef){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),ef=typeof Xg.oninput=="function"}tf=ef}else tf=!1;Yg=tf&&(!document.documentMode||9<document.documentMode)}function $g(){Ho&&(Ho.detachEvent("onpropertychange",Zg),Go=Ho=null)}function Zg(e){if(e.propertyName==="value"&&Vu(Go)){var i=[];Qg(i,Go,e,xn(e)),pr(_b,i)}}function vb(e,i,a){e==="focusin"?($g(),Ho=i,Go=a,Ho.attachEvent("onpropertychange",Zg)):e==="focusout"&&$g()}function Eb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vu(Go)}function Tb(e,i){if(e==="click")return Vu(i)}function bb(e,i){if(e==="input"||e==="change")return Vu(i)}function wb(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var gn=typeof Object.is=="function"?Object.is:wb;function Qo(e,i){if(gn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ve.call(i,h)||!gn(e[h],i[h]))return!1}return!0}function Jg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wg(e,i){var a=Jg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Jg(a)}}function tp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?tp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ep(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=yi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=yi(e.document)}return i}function nf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Ab=In&&"documentMode"in document&&11>=document.documentMode,Ea=null,rf=null,Ko=null,sf=!1;function np(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||Ea==null||Ea!==yi(l)||(l=Ea,"selectionStart"in l&&nf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Qo(Ko,l)||(Ko=l,l=bc(rf,"onSelect"),0<l.length&&(i=new Ei("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ea)))}function xs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ta={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},af={},ip={};In&&(ip=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Is(e){if(af[e])return af[e];if(!Ta[e])return e;var i=Ta[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ip)return af[e]=i[a];return e}var rp=Is("animationend"),sp=Is("animationiteration"),ap=Is("animationstart"),Sb=Is("transitionrun"),xb=Is("transitionstart"),Ib=Is("transitioncancel"),op=Is("transitionend"),lp=new Map,of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");of.push("scrollEnd");function Xn(e,i){lp.set(e,i),gi(i,[e])}var ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ba=0,lf=0;function ku(){for(var e=ba,i=lf=ba=0;i<e;){var a=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&up(a,h,d)}}function Lu(e,i,a,l){Cn[ba++]=e,Cn[ba++]=i,Cn[ba++]=a,Cn[ba++]=l,lf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function uf(e,i,a,l){return Lu(e,i,a,l),Pu(e)}function Rs(e,i){return Lu(e,null,null,i),Pu(e)}function up(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-fe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Pu(e){if(50<gl)throw gl=0,_d=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var wa={};function Rb(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,i,a,l){return new Rb(e,i,a,l)}function cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bi(e,i){var a=e.alternate;return a===null?(a=pn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function cp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Uu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")cf(e)&&(v=1);else if(typeof e=="string")v=Mw(e,a,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=pn(31,a,i,h),e.elementType=C,e.lanes=d,e;case et:return Cs(a.children,h,d,i);case W:v=8,h|=24;break;case dt:return e=pn(12,a,i,h|2),e.elementType=dt,e.lanes=d,e;case Wt:return e=pn(13,a,i,h),e.elementType=Wt,e.lanes=d,e;case St:return e=pn(19,a,i,h),e.elementType=St,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:v=10;break t;case yt:v=9;break t;case kt:v=11;break t;case x:v=14;break t;case S:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=pn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Cs(e,i,a,l){return e=pn(7,e,l,i),e.lanes=a,e}function hf(e,i,a){return e=pn(6,e,null,i),e.lanes=a,e}function hp(e){var i=pn(18,null,null,0);return i.stateNode=e,i}function ff(e,i,a){return i=pn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var fp=new WeakMap;function Nn(e,i){if(typeof e=="object"&&e!==null){var a=fp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ao(i)},fp.set(e,i),i)}return{value:e,source:i,stack:Ao(i)}}var Aa=[],Sa=0,zu=null,Yo=0,Dn=[],On=0,Er=null,Ai=1,Si="";function qi(e,i){Aa[Sa++]=Yo,Aa[Sa++]=zu,zu=e,Yo=i}function dp(e,i,a){Dn[On++]=Ai,Dn[On++]=Si,Dn[On++]=Er,Er=e;var l=Ai;e=Si;var h=32-fe(l)-1;l&=~(1<<h),a+=1;var d=32-fe(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ai=1<<32-fe(i)+h|a<<h|l,Si=d+e}else Ai=1<<d|a<<h|l,Si=e}function df(e){e.return!==null&&(qi(e,1),dp(e,1,0))}function mf(e){for(;e===zu;)zu=Aa[--Sa],Aa[Sa]=null,Yo=Aa[--Sa],Aa[Sa]=null;for(;e===Er;)Er=Dn[--On],Dn[On]=null,Si=Dn[--On],Dn[On]=null,Ai=Dn[--On],Dn[On]=null}function mp(e,i){Dn[On++]=Ai,Dn[On++]=Si,Dn[On++]=Er,Ai=i.id,Si=i.overflow,Er=e}var Be=null,ie=null,jt=!1,Tr=null,Mn=!1,gf=Error(s(519));function br(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(Nn(i,e)),gf}function gp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Te]=e,i[je]=l,a){case"dialog":It("cancel",i),It("close",i);break;case"iframe":case"object":case"embed":It("load",i);break;case"video":case"audio":for(a=0;a<yl.length;a++)It(yl[a],i);break;case"source":It("error",i);break;case"img":case"image":case"link":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"input":It("invalid",i),vu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",i);break;case"textarea":It("invalid",i),dr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||O_(i.textContent,a)?(l.popover!=null&&(It("beforetoggle",i),It("toggle",i)),l.onScroll!=null&&It("scroll",i),l.onScrollEnd!=null&&It("scrollend",i),l.onClick!=null&&(i.onclick=Hn),i=!0):i=!1,i||br(e,!0)}function pp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Be=Be.return}}function xa(e){if(e!==Be)return!1;if(!jt)return pp(e),jt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Md(e.type,e.memoizedProps)),a=!a),a&&ie&&br(e),pp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=B_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=B_(e)}else i===27?(i=ie,kr(e.type)?(e=Pd,Pd=null,ie=e):ie=i):ie=Be?jn(e.stateNode.nextSibling):null;return!0}function Ns(){ie=Be=null,jt=!1}function pf(){var e=Tr;return e!==null&&(un===null?un=e:un.push.apply(un,e),Tr=null),e}function Xo(e){Tr===null?Tr=[e]:Tr.push(e)}var yf=M(null),Ds=null,Fi=null;function wr(e,i,a){J(yf,i._currentValue),i._currentValue=a}function Hi(e){e._currentValue=yf.current,V(yf)}function _f(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function vf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),_f(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),_f(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ia(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;gn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Lt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}h=h.return}e!==null&&vf(i,e,a,l),i.flags|=262144}function Bu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Os(e){Ds=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return yp(Ds,e)}function qu(e,i){return Ds===null&&Os(e),yp(e,i)}function yp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(e===null)throw Error(s(308));Fi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Fi=Fi.next=i;return a}var Cb=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},Nb=r.unstable_scheduleCallback,Db=r.unstable_NormalPriority,Ae={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new Cb,data:new Map,refCount:0}}function $o(e){e.refCount--,e.refCount===0&&Nb(Db,function(){e.controller.abort()})}var Zo=null,Tf=0,Ra=0,Ca=null;function Ob(e,i){if(Zo===null){var a=Zo=[];Tf=0,Ra=Ad(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Tf++,i.then(_p,_p),i}function _p(){if(--Tf===0&&Zo!==null){Ca!==null&&(Ca.status="fulfilled");var e=Zo;Zo=null,Ra=0,Ca=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Mb(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var vp=G.S;G.S=function(e,i){n_=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Ob(e,i),vp!==null&&vp(e,i)};var Ms=M(null);function bf(){var e=Ms.current;return e!==null?e:te.pooledCache}function Fu(e,i){i===null?J(Ms,Ms.current):J(Ms,i.pool)}function Ep(){var e=bf();return e===null?null:{parent:Ae._currentValue,pool:e}}var Na=Error(s(460)),wf=Error(s(474)),Hu=Error(s(542)),Gu={then:function(){}};function Tp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Hn,Hn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ap(e),e;default:if(typeof i.status=="string")i.then(Hn,Hn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ap(e),e}throw js=i,Na}}function Vs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(js=a,Na):a}}var js=null;function wp(){if(js===null)throw Error(s(459));var e=js;return js=null,e}function Ap(e){if(e===Na||e===Hu)throw Error(s(483))}var Da=null,Jo=0;function Qu(e){var i=Jo;return Jo+=1,Da===null&&(Da=[]),bp(Da,e,i)}function Wo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ku(e,i){throw i.$$typeof===N?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Sp(e){function i(k,D){if(e){var U=k.deletions;U===null?(k.deletions=[D],k.flags|=16):U.push(D)}}function a(k,D){if(!e)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Bi(k,D),k.index=0,k.sibling=null,k}function d(k,D,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<D?(k.flags|=67108866,D):U):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function v(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,U,K){return D===null||D.tag!==6?(D=hf(U,k.mode,K),D.return=k,D):(D=h(D,U),D.return=k,D)}function R(k,D,U,K){var ut=U.type;return ut===et?Q(k,D,U.props.children,K,U.key):D!==null&&(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&Vs(ut)===D.type)?(D=h(D,U.props),Wo(D,U),D.return=k,D):(D=Uu(U.type,U.key,U.props,null,k.mode,K),Wo(D,U),D.return=k,D)}function z(k,D,U,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=ff(U,k.mode,K),D.return=k,D):(D=h(D,U.children||[]),D.return=k,D)}function Q(k,D,U,K,ut){return D===null||D.tag!==7?(D=Cs(U,k.mode,K,ut),D.return=k,D):(D=h(D,U),D.return=k,D)}function X(k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=hf(""+D,k.mode,U),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return U=Uu(D.type,D.key,D.props,null,k.mode,U),Wo(U,D),U.return=k,U;case Z:return D=ff(D,k.mode,U),D.return=k,D;case S:return D=Vs(D),X(k,D,U)}if(he(D)||L(D))return D=Cs(D,k.mode,U,null),D.return=k,D;if(typeof D.then=="function")return X(k,Qu(D),U);if(D.$$typeof===ht)return X(k,qu(k,D),U);Ku(k,D)}return null}function B(k,D,U,K){var ut=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ut!==null?null:T(k,D,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case H:return U.key===ut?R(k,D,U,K):null;case Z:return U.key===ut?z(k,D,U,K):null;case S:return U=Vs(U),B(k,D,U,K)}if(he(U)||L(U))return ut!==null?null:Q(k,D,U,K,null);if(typeof U.then=="function")return B(k,D,Qu(U),K);if(U.$$typeof===ht)return B(k,D,qu(k,U),K);Ku(k,U)}return null}function F(k,D,U,K,ut){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(U)||null,T(D,k,""+K,ut);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return k=k.get(K.key===null?U:K.key)||null,R(D,k,K,ut);case Z:return k=k.get(K.key===null?U:K.key)||null,z(D,k,K,ut);case S:return K=Vs(K),F(k,D,U,K,ut)}if(he(K)||L(K))return k=k.get(U)||null,Q(D,k,K,ut,null);if(typeof K.then=="function")return F(k,D,U,Qu(K),ut);if(K.$$typeof===ht)return F(k,D,U,qu(D,K),ut);Ku(D,K)}return null}function at(k,D,U,K){for(var ut=null,Ut=null,ot=D,At=D=0,Ct=null;ot!==null&&At<U.length;At++){ot.index>At?(Ct=ot,ot=null):Ct=ot.sibling;var zt=B(k,ot,U[At],K);if(zt===null){ot===null&&(ot=Ct);break}e&&ot&&zt.alternate===null&&i(k,ot),D=d(zt,D,At),Ut===null?ut=zt:Ut.sibling=zt,Ut=zt,ot=Ct}if(At===U.length)return a(k,ot),jt&&qi(k,At),ut;if(ot===null){for(;At<U.length;At++)ot=X(k,U[At],K),ot!==null&&(D=d(ot,D,At),Ut===null?ut=ot:Ut.sibling=ot,Ut=ot);return jt&&qi(k,At),ut}for(ot=l(ot);At<U.length;At++)Ct=F(ot,k,At,U[At],K),Ct!==null&&(e&&Ct.alternate!==null&&ot.delete(Ct.key===null?At:Ct.key),D=d(Ct,D,At),Ut===null?ut=Ct:Ut.sibling=Ct,Ut=Ct);return e&&ot.forEach(function(Br){return i(k,Br)}),jt&&qi(k,At),ut}function ft(k,D,U,K){if(U==null)throw Error(s(151));for(var ut=null,Ut=null,ot=D,At=D=0,Ct=null,zt=U.next();ot!==null&&!zt.done;At++,zt=U.next()){ot.index>At?(Ct=ot,ot=null):Ct=ot.sibling;var Br=B(k,ot,zt.value,K);if(Br===null){ot===null&&(ot=Ct);break}e&&ot&&Br.alternate===null&&i(k,ot),D=d(Br,D,At),Ut===null?ut=Br:Ut.sibling=Br,Ut=Br,ot=Ct}if(zt.done)return a(k,ot),jt&&qi(k,At),ut;if(ot===null){for(;!zt.done;At++,zt=U.next())zt=X(k,zt.value,K),zt!==null&&(D=d(zt,D,At),Ut===null?ut=zt:Ut.sibling=zt,Ut=zt);return jt&&qi(k,At),ut}for(ot=l(ot);!zt.done;At++,zt=U.next())zt=F(ot,k,At,zt.value,K),zt!==null&&(e&&zt.alternate!==null&&ot.delete(zt.key===null?At:zt.key),D=d(zt,D,At),Ut===null?ut=zt:Ut.sibling=zt,Ut=zt);return e&&ot.forEach(function(Hw){return i(k,Hw)}),jt&&qi(k,At),ut}function Zt(k,D,U,K){if(typeof U=="object"&&U!==null&&U.type===et&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case H:t:{for(var ut=U.key;D!==null;){if(D.key===ut){if(ut=U.type,ut===et){if(D.tag===7){a(k,D.sibling),K=h(D,U.props.children),K.return=k,k=K;break t}}else if(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&Vs(ut)===D.type){a(k,D.sibling),K=h(D,U.props),Wo(K,U),K.return=k,k=K;break t}a(k,D);break}else i(k,D);D=D.sibling}U.type===et?(K=Cs(U.props.children,k.mode,K,U.key),K.return=k,k=K):(K=Uu(U.type,U.key,U.props,null,k.mode,K),Wo(K,U),K.return=k,k=K)}return v(k);case Z:t:{for(ut=U.key;D!==null;){if(D.key===ut)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(k,D.sibling),K=h(D,U.children||[]),K.return=k,k=K;break t}else{a(k,D);break}else i(k,D);D=D.sibling}K=ff(U,k.mode,K),K.return=k,k=K}return v(k);case S:return U=Vs(U),Zt(k,D,U,K)}if(he(U))return at(k,D,U,K);if(L(U)){if(ut=L(U),typeof ut!="function")throw Error(s(150));return U=ut.call(U),ft(k,D,U,K)}if(typeof U.then=="function")return Zt(k,D,Qu(U),K);if(U.$$typeof===ht)return Zt(k,D,qu(k,U),K);Ku(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(a(k,D.sibling),K=h(D,U),K.return=k,k=K):(a(k,D),K=hf(U,k.mode,K),K.return=k,k=K),v(k)):a(k,D)}return function(k,D,U,K){try{Jo=0;var ut=Zt(k,D,U,K);return Da=null,ut}catch(ot){if(ot===Na||ot===Hu)throw ot;var Ut=pn(29,ot,null,k.mode);return Ut.lanes=K,Ut.return=k,Ut}finally{}}}var ks=Sp(!0),xp=Sp(!1),Ar=!1;function Af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Pu(e),up(e,null,a),i}return Lu(e,l,i,a),Pu(e)}function tl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Io(e,a)}}function xf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var If=!1;function el(){if(If){var e=Ca;if(e!==null)throw e}}function nl(e,i,a,l){If=!1;var h=e.updateQueue;Ar=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,z=R.next;R.next=null,v===null?d=z:v.next=z,v=R;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=R))}if(d!==null){var X=h.baseState;v=0,Q=z=R=null,T=d;do{var B=T.lane&-536870913,F=B!==T.lane;if(F?(Rt&B)===B:(l&B)===B){B!==0&&B===Ra&&(If=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var at=e,ft=T;B=i;var Zt=a;switch(ft.tag){case 1:if(at=ft.payload,typeof at=="function"){X=at.call(Zt,X,B);break t}X=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ft.payload,B=typeof at=="function"?at.call(Zt,X,B):at,B==null)break t;X=A({},X,B);break t;case 2:Ar=!0}}B=T.callback,B!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=F,R=X):Q=Q.next=F,v|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(R=X),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Dr|=v,e.lanes=v,e.memoizedState=X}}function Ip(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Rp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ip(a[e],i)}var Oa=M(null),Yu=M(0);function Cp(e,i){e=Wi,J(Yu,e),J(Oa,i),Wi=e|i.baseLanes}function Rf(){J(Yu,Wi),J(Oa,Oa.current)}function Cf(){Wi=Yu.current,V(Oa),V(Yu)}var yn=M(null),Vn=null;function Ir(e){var i=e.alternate;J(me,me.current&1),J(yn,e),Vn===null&&(i===null||Oa.current!==null||i.memoizedState!==null)&&(Vn=e)}function Nf(e){J(me,me.current),J(yn,e),Vn===null&&(Vn=e)}function Np(e){e.tag===22?(J(me,me.current),J(yn,e),Vn===null&&(Vn=e)):Rr()}function Rr(){J(me,me.current),J(yn,yn.current)}function _n(e){V(yn),Vn===e&&(Vn=null),V(me)}var me=M(0);function Xu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||Ld(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gi=0,wt=null,Xt=null,Se=null,$u=!1,Ma=!1,Ls=!1,Zu=0,il=0,Va=null,Vb=0;function ue(){throw Error(s(321))}function Df(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!gn(e[a],i[a]))return!1;return!0}function Of(e,i,a,l,h,d){return Gi=d,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?dy:Kf,Ls=!1,d=a(l,h),Ls=!1,Ma&&(d=Op(i,a,l,h)),Dp(e),d}function Dp(e){G.H=al;var i=Xt!==null&&Xt.next!==null;if(Gi=0,Se=Xt=wt=null,$u=!1,il=0,Va=null,i)throw Error(s(300));e===null||xe||(e=e.dependencies,e!==null&&Bu(e)&&(xe=!0))}function Op(e,i,a,l){wt=e;var h=0;do{if(Ma&&(Va=null),il=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,Se=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=my,d=i(a,l)}while(Ma);return d}function jb(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?rl(i):i,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(wt.flags|=1024),i}function Mf(){var e=Zu!==0;return Zu=0,e}function Vf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function jf(e){if($u){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}$u=!1}Gi=0,Se=Xt=wt=null,Ma=!1,il=Zu=0,Va=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?wt.memoizedState=Se=e:Se=Se.next=e,Se}function ge(){if(Xt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var i=Se===null?wt.memoizedState:Se.next;if(i!==null)Se=i,Xt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?wt.memoizedState=Se=e:Se=Se.next=e}return Se}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(e){var i=il;return il+=1,Va===null&&(Va=[]),e=bp(Va,e,i),i=wt,(Se===null?i.memoizedState:Se.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?dy:Kf),e}function Wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rl(e);if(e.$$typeof===ht)return qe(e)}throw Error(s(438,String(e)))}function kf(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ju(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=j;return i.index++,a}function Qi(e,i){return typeof i=="function"?i(e):i}function tc(e){var i=ge();return Lf(i,Xt,e)}function Lf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,R=null,z=i,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Rt&X)===X:(Gi&X)===X){var B=z.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ra&&(Q=!0);else if((Gi&B)===B){z=z.next,B===Ra&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=X,v=d):R=R.next=X,wt.lanes|=B,Dr|=B;X=z.action,Ls&&a(d,X),d=z.hasEagerState?z.eagerState:a(d,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=B,v=d):R=R.next=B,wt.lanes|=X,Dr|=X;z=z.next}while(z!==null&&z!==i);if(R===null?v=d:R.next=T,!gn(d,e.memoizedState)&&(xe=!0,Q&&(a=Ca,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Pf(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);gn(d,i.memoizedState)||(xe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Mp(e,i,a){var l=wt,h=ge(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!gn((Xt||h).memoizedState,a);if(v&&(h.memoizedState=a,xe=!0),h=h.queue,Bf(kp.bind(null,l,h,e),[e]),h.getSnapshot!==i||v||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,ja(9,{destroy:void 0},jp.bind(null,l,h,a,i),null),te===null)throw Error(s(349));d||(Gi&127)!==0||Vp(l,i,a)}return a}function Vp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=Ju(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function jp(e,i,a,l){i.value=a,i.getSnapshot=l,Lp(i)&&Pp(e)}function kp(e,i,a){return a(function(){Lp(i)&&Pp(e)})}function Lp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!gn(e,a)}catch{return!0}}function Pp(e){var i=Rs(e,2);i!==null&&cn(i,e,2)}function Uf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),Ls){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},i}function Up(e,i,a,l){return e.baseState=a,Lf(e,Xt,typeof l=="function"?l:Qi)}function kb(e,i,a,l,h){if(ic(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,zp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function zp(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=G.T,v={};G.T=v;try{var T=a(h,l),R=G.S;R!==null&&R(v,T),Bp(e,i,T)}catch(z){zf(e,i,z)}finally{d!==null&&v.types!==null&&(d.types=v.types),G.T=d}}else try{d=a(h,l),Bp(e,i,d)}catch(z){zf(e,i,z)}}function Bp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){qp(e,i,l)},function(l){return zf(e,i,l)}):qp(e,i,a)}function qp(e,i,a){i.status="fulfilled",i.value=a,Fp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,zp(e,a)))}function zf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Fp(i),i=i.next;while(i!==l)}e.action=null}function Fp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Hp(e,i){return i}function Gp(e,i){if(jt){var a=te.formState;if(a!==null){t:{var l=wt;if(jt){if(ie){e:{for(var h=ie,d=Mn;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ie=jn(h.nextSibling),l=h.data==="F!";break t}}br(l)}l=!1}l&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hp,lastRenderedState:i},a.queue=l,a=cy.bind(null,wt,l),l.dispatch=a,l=Uf(!1),d=Qf.bind(null,wt,!1,l.queue),l=en(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=kb.bind(null,wt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Qp(e){var i=ge();return Kp(i,Xt,e)}function Kp(e,i,a){if(i=Lf(e,i,Hp)[0],e=tc(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=rl(i)}catch(v){throw v===Na?Hu:v}else l=i;i=ge();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(wt.flags|=2048,ja(9,{destroy:void 0},Lb.bind(null,h,a),null)),[l,d,e]}function Lb(e,i){e.action=i}function Yp(e){var i=ge(),a=Xt;if(a!==null)return Kp(i,a,e);ge(),i=i.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function ja(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=wt.updateQueue,i===null&&(i=Ju(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Xp(){return ge().memoizedState}function ec(e,i,a,l){var h=en();wt.flags|=e,h.memoizedState=ja(1|i,{destroy:void 0},a,l===void 0?null:l)}function nc(e,i,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Xt!==null&&l!==null&&Df(l,Xt.memoizedState.deps)?h.memoizedState=ja(i,d,a,l):(wt.flags|=e,h.memoizedState=ja(1|i,d,a,l))}function $p(e,i){ec(8390656,8,e,i)}function Bf(e,i){nc(2048,8,e,i)}function Pb(e){wt.flags|=4;var i=wt.updateQueue;if(i===null)i=Ju(),wt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Zp(e){var i=ge().memoizedState;return Pb({ref:i,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Jp(e,i){return nc(4,2,e,i)}function Wp(e,i){return nc(4,4,e,i)}function ty(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ey(e,i,a){a=a!=null?a.concat([e]):null,nc(4,4,ty.bind(null,i,e),a)}function qf(){}function ny(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Df(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function iy(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Df(i,l[1]))return l[0];if(l=e(),Ls){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[l,i],l}function Ff(e,i,a){return a===void 0||(Gi&1073741824)!==0&&(Rt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=r_(),wt.lanes|=e,Dr|=e,a)}function ry(e,i,a,l){return gn(a,i)?a:Oa.current!==null?(e=Ff(e,a,l),gn(e,i)||(xe=!0),e):(Gi&42)===0||(Gi&1073741824)!==0&&(Rt&261930)===0?(xe=!0,e.memoizedState=a):(e=r_(),wt.lanes|=e,Dr|=e,i)}function sy(e,i,a,l,h){var d=nt.p;nt.p=d!==0&&8>d?d:8;var v=G.T,T={};G.T=T,Qf(e,!1,i,a);try{var R=h(),z=G.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=Mb(R,l);sl(e,i,Q,Tn(e))}else sl(e,i,l,Tn(e))}catch(X){sl(e,i,{then:function(){},status:"rejected",reason:X},Tn())}finally{nt.p=d,v!==null&&T.types!==null&&(v.types=T.types),G.T=v}}function Ub(){}function Hf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=ay(e).queue;sy(e,h,i,lt,a===null?Ub:function(){return oy(e),a(l)})}function ay(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:lt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function oy(e){var i=ay(e);i.next===null&&(i=e.alternate.memoizedState),sl(e,i.next.queue,{},Tn())}function Gf(){return qe(bl)}function ly(){return ge().memoizedState}function uy(){return ge().memoizedState}function zb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();e=Sr(a);var l=xr(i,e,a);l!==null&&(cn(l,i,a),tl(l,i,a)),i={cache:Ef()},e.payload=i;return}i=i.return}}function Bb(e,i,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ic(e)?hy(i,a):(a=uf(e,i,a,l),a!==null&&(cn(a,e,l),fy(a,i,l)))}function cy(e,i,a){var l=Tn();sl(e,i,a,l)}function sl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(e))hy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,gn(T,v))return Lu(e,i,h,0),te===null&&ku(),!1}catch{}finally{}if(a=uf(e,i,h,l),a!==null)return cn(a,e,l),fy(a,i,l),!0}return!1}function Qf(e,i,a,l){if(l={lane:2,revertLane:Ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ic(e)){if(i)throw Error(s(479))}else i=uf(e,a,l,2),i!==null&&cn(i,e,2)}function ic(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function hy(e,i){Ma=$u=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function fy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Io(e,a)}}var al={readContext:qe,use:Wu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};al.useEffectEvent=ue;var dy={readContext:qe,use:Wu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:qe,useEffect:$p,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ec(4194308,4,ty.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ec(4194308,4,e,i)},useInsertionEffect:function(e,i){ec(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var l=e();if(Ls){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=en();if(a!==void 0){var h=a(i);if(Ls){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=Bb.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=Uf(e);var i=e.queue,a=cy.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(e,i){var a=en();return Ff(a,e,i)},useTransition:function(){var e=Uf(!1);return e=sy.bind(null,wt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=wt,h=en();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),te===null)throw Error(s(349));(Rt&127)!==0||Vp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,$p(kp.bind(null,l,d,e),[e]),l.flags|=2048,ja(9,{destroy:void 0},jp.bind(null,l,d,a,i),null),a},useId:function(){var e=en(),i=te.identifierPrefix;if(jt){var a=Si,l=Ai;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Zu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Vb++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Gf,useFormState:Gp,useActionState:Gp,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Qf.bind(null,wt,!0,a),a.dispatch=i,[e,i]},useMemoCache:kf,useCacheRefresh:function(){return en().memoizedState=zb.bind(null,wt)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((Ft&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:qe,use:Wu,useCallback:ny,useContext:qe,useEffect:Bf,useImperativeHandle:ey,useInsertionEffect:Jp,useLayoutEffect:Wp,useMemo:iy,useReducer:tc,useRef:Xp,useState:function(){return tc(Qi)},useDebugValue:qf,useDeferredValue:function(e,i){var a=ge();return ry(a,Xt.memoizedState,e,i)},useTransition:function(){var e=tc(Qi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:rl(e),i]},useSyncExternalStore:Mp,useId:ly,useHostTransitionStatus:Gf,useFormState:Qp,useActionState:Qp,useOptimistic:function(e,i){var a=ge();return Up(a,Xt,e,i)},useMemoCache:kf,useCacheRefresh:uy};Kf.useEffectEvent=Zp;var my={readContext:qe,use:Wu,useCallback:ny,useContext:qe,useEffect:Bf,useImperativeHandle:ey,useInsertionEffect:Jp,useLayoutEffect:Wp,useMemo:iy,useReducer:Pf,useRef:Xp,useState:function(){return Pf(Qi)},useDebugValue:qf,useDeferredValue:function(e,i){var a=ge();return Xt===null?Ff(a,e,i):ry(a,Xt.memoizedState,e,i)},useTransition:function(){var e=Pf(Qi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:rl(e),i]},useSyncExternalStore:Mp,useId:ly,useHostTransitionStatus:Gf,useFormState:Yp,useActionState:Yp,useOptimistic:function(e,i){var a=ge();return Xt!==null?Up(a,Xt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:uy};my.useEffectEvent=Zp;function Yf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Xf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Tn(),h=Sr(l);h.payload=i,a!=null&&(h.callback=a),i=xr(e,h,l),i!==null&&(cn(i,e,l),tl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Tn(),h=Sr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=xr(e,h,l),i!==null&&(cn(i,e,l),tl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Tn(),l=Sr(a);l.tag=2,i!=null&&(l.callback=i),i=xr(e,l,a),i!==null&&(cn(i,e,a),tl(i,e,a))}};function gy(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function py(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Xf.enqueueReplaceState(i,i.state,null)}function Ps(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function yy(e){ju(e)}function _y(e){console.error(e)}function vy(e){ju(e)}function rc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ey(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $f(e,i,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(e,i)},a}function Ty(e){return e=Sr(e),e.tag=3,e}function by(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Ey(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Ey(i,a,l),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function qb(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ia(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?pc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Gu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Td(e,l,h)),!1;case 22:return a.flags|=65536,l===Gu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Td(e,l,h)),!1}throw Error(s(435,a.tag))}return Td(e,l,h),pc(),!1}if(jt)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==gf&&(e=Error(s(422),{cause:l}),Xo(Nn(e,a)))):(l!==gf&&(i=Error(s(423),{cause:l}),Xo(Nn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,a),h=$f(e.stateNode,l,h),xf(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),ml===null?ml=[d]:ml.push(d),ce!==4&&(ce=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=$f(a.stateNode,l,e),xf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ty(h),by(h,e,a,l),xf(a,h),!1}a=a.return}while(a!==null);return!1}var Zf=Error(s(461)),xe=!1;function Fe(e,i,a,l){i.child=e===null?xp(i,null,a,l):ks(i,e.child,a,l)}function wy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Os(i),l=Of(e,i,a,v,d,h),T=Mf(),e!==null&&!xe?(Vf(e,i,h),Ki(e,i,h)):(jt&&T&&df(i),i.flags|=1,Fe(e,i,l,h),i.child)}function Ay(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!cf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Sy(e,i,d,l,h)):(e=Uu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!sd(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(v,l)&&e.ref===i.ref)return Ki(e,i,h)}return i.flags|=1,e=Bi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Sy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Qo(d,l)&&e.ref===i.ref)if(xe=!1,i.pendingProps=l=d,sd(e,h))(e.flags&131072)!==0&&(xe=!0);else return i.lanes=e.lanes,Ki(e,i,h)}return Jf(e,i,a,l,h)}function xy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Iy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fu(i,d!==null?d.cachePool:null),d!==null?Cp(i,d):Rf(),Np(i);else return l=i.lanes=536870912,Iy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Fu(i,d.cachePool),Cp(i,d),Rr(),i.memoizedState=null):(e!==null&&Fu(i,null),Rf(),Rr());return Fe(e,i,h,a),i.child}function ol(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Iy(e,i,a,l,h){var d=bf();return d=d===null?null:{parent:Ae._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Fu(i,null),Rf(),Np(i),e!==null&&Ia(e,i,l,!0),i.childLanes=h,null}function sc(e,i){return i=oc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Ry(e,i,a){return ks(i,e.child,null,a),e=sc(i,i.pendingProps),e.flags|=2,_n(i),i.memoizedState=null,e}function Fb(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(jt){if(l.mode==="hidden")return e=sc(i,l),i.lanes=536870912,ol(null,e);if(Nf(i),(e=ie)?(e=z_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Er!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=hp(e),a.return=i,i.child=a,Be=i,ie=null)):e=null,e===null)throw br(i);return i.lanes=536870912,null}return sc(i,l)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(Nf(i),h)if(i.flags&256)i.flags&=-257,i=Ry(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(xe||Ia(e,i,a,!1),h=(a&e.childLanes)!==0,xe||h){if(l=te,l!==null&&(v=Ro(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Rs(e,v),cn(l,e,v),Zf;pc(),i=Ry(e,i,a)}else e=d.treeContext,ie=jn(v.nextSibling),Be=i,jt=!0,Tr=null,Mn=!1,e!==null&&mp(i,e),i=sc(i,l),i.flags|=4096;return i}return e=Bi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ac(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Jf(e,i,a,l,h){return Os(i),a=Of(e,i,a,l,void 0,h),l=Mf(),e!==null&&!xe?(Vf(e,i,h),Ki(e,i,h)):(jt&&l&&df(i),i.flags|=1,Fe(e,i,a,h),i.child)}function Cy(e,i,a,l,h,d){return Os(i),i.updateQueue=null,a=Op(i,l,a,h),Dp(e),l=Mf(),e!==null&&!xe?(Vf(e,i,d),Ki(e,i,d)):(jt&&l&&df(i),i.flags|=1,Fe(e,i,a,d),i.child)}function Ny(e,i,a,l,h){if(Os(i),i.stateNode===null){var d=wa,v=a.contextType;typeof v=="object"&&v!==null&&(d=qe(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Af(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?qe(v):wa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Yf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Xf.enqueueReplaceState(d,d.state,null),nl(i,l,d,h),el(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,R=Ps(a,T);d.props=R;var z=d.context,Q=a.contextType;v=wa,typeof Q=="object"&&Q!==null&&(v=qe(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==v)&&py(i,d,l,v),Ar=!1;var B=i.memoizedState;d.state=B,nl(i,l,d,h),el(),z=i.memoizedState,T||B!==z||Ar?(typeof X=="function"&&(Yf(i,a,X,l),z=i.memoizedState),(R=Ar||gy(i,a,R,l,B,z,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Sf(e,i),v=i.memoizedProps,Q=Ps(a,v),d.props=Q,X=i.pendingProps,B=d.context,z=a.contextType,R=wa,typeof z=="object"&&z!==null&&(R=qe(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||B!==R)&&py(i,d,l,R),Ar=!1,B=i.memoizedState,d.state=B,nl(i,l,d,h),el();var F=i.memoizedState;v!==X||B!==F||Ar||e!==null&&e.dependencies!==null&&Bu(e.dependencies)?(typeof T=="function"&&(Yf(i,a,T,l),F=i.memoizedState),(Q=Ar||gy(i,a,Q,l,B,F,R)||e!==null&&e.dependencies!==null&&Bu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=R,l=Q):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,ac(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=ks(i,e.child,null,h),i.child=ks(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Ki(e,i,h),e}function Dy(e,i,a,l){return Ns(),i.flags|=256,Fe(e,i,a,l),i.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function td(e){return{baseLanes:e,cachePool:Ep()}}function ed(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=En),e}function Oy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(h?Ir(i):Rr(),(e=ie)?(e=z_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Er!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=hp(e),a.return=i,i.child=a,Be=i,ie=null)):e=null,e===null)throw br(i);return Ld(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Rr(),h=i.mode,T=oc({mode:"hidden",children:T},h),l=Cs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=td(a),l.childLanes=ed(e,v,a),i.memoizedState=Wf,ol(null,l)):(Ir(i),nd(i,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(Ir(i),i.flags&=-257,i=id(e,i,a)):i.memoizedState!==null?(Rr(),i.child=e.child,i.flags|=128,i=null):(Rr(),T=l.fallback,h=i.mode,l=oc({mode:"visible",children:l.children},h),T=Cs(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,ks(i,e.child,null,a),l=i.child,l.memoizedState=td(a),l.childLanes=ed(e,v,a),i.memoizedState=Wf,i=ol(null,l));else if(Ir(i),Ld(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,Xo({value:l,source:null,stack:null}),i=id(e,i,a)}else if(xe||Ia(e,i,a,!1),v=(a&e.childLanes)!==0,xe||v){if(v=te,v!==null&&(l=Ro(v,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,Rs(e,l),cn(v,e,l),Zf;kd(T)||pc(),i=id(e,i,a)}else kd(T)?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,ie=jn(T.nextSibling),Be=i,jt=!0,Tr=null,Mn=!1,e!==null&&mp(i,e),i=nd(i,l.children),i.flags|=4096);return i}return h?(Rr(),T=l.fallback,h=i.mode,R=e.child,z=R.sibling,l=Bi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?T=Bi(z,T):(T=Cs(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,ol(null,l),l=i.child,T=e.child.memoizedState,T===null?T=td(a):(h=T.cachePool,h!==null?(R=Ae._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Ep(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=ed(e,v,a),i.memoizedState=Wf,ol(e.child,l)):(Ir(i),a=e.child,e=a.sibling,a=Bi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function nd(e,i){return i=oc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function oc(e,i){return e=pn(22,e,null,i),e.lanes=0,e}function id(e,i,a){return ks(i,e.child,null,a),e=nd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function My(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),_f(e.return,i,a)}function rd(e,i,a,l,h,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function Vy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=me.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,J(me,v),Fe(e,i,l,a),l=jt?Yo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&My(e,a,i);else if(e.tag===19)My(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Xu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),rd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Xu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}rd(i,!0,a,null,d,l);break;case"together":rd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ki(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Dr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ia(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Bi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Bi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function sd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Bu(e)))}function Hb(e,i,a){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),wr(i,Ae,e.memoizedState.cache),Ns();break;case 27:case 5:cs(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:wr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Nf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ir(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Oy(e,i,a):(Ir(i),e=Ki(e,i,a),e!==null?e.sibling:null);Ir(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ia(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Vy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(me,me.current),l)break;return null;case 22:return i.lanes=0,xy(e,i,a,i.pendingProps);case 24:wr(i,Ae,e.memoizedState.cache)}return Ki(e,i,a)}function jy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)xe=!0;else{if(!sd(e,a)&&(i.flags&128)===0)return xe=!1,Hb(e,i,a);xe=(e.flags&131072)!==0}else xe=!1,jt&&(i.flags&1048576)!==0&&dp(i,Yo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Vs(i.elementType),i.type=e,typeof e=="function")cf(e)?(l=Ps(e,l),i.tag=1,i=Ny(null,i,e,l,a)):(i.tag=0,i=Jf(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===kt){i.tag=11,i=wy(null,i,e,l,a);break t}else if(h===x){i.tag=14,i=Ay(null,i,e,l,a);break t}}throw i=ee(e)||e,Error(s(306,i,""))}}return i;case 0:return Jf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ps(l,i.pendingProps),Ny(e,i,l,h,a);case 3:t:{if(De(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Sf(e,i),nl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,wr(i,Ae,l),l!==d.cache&&vf(i,[Ae],a,!0),el(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Dy(e,i,l,a);break t}else if(l!==h){h=Nn(Error(s(424)),i),Xo(h),i=Dy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=jn(e.firstChild),Be=i,jt=!0,Tr=null,Mn=!0,a=xp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ns(),l===h){i=Ki(e,i,a);break t}Fe(e,i,l,a)}i=i.child}return i;case 26:return ac(e,i),e===null?(a=Q_(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,e=i.pendingProps,l=wc(vt.current).createElement(a),l[Te]=i,l[je]=e,He(l,a,e),be(l),i.stateNode=l):i.memoizedState=Q_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return cs(i),e===null&&jt&&(l=i.stateNode=F_(i.type,i.pendingProps,vt.current),Be=i,Mn=!0,h=ie,kr(i.type)?(Pd=h,ie=jn(l.firstChild)):ie=h),Fe(e,i,i.pendingProps.children,a),ac(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&jt&&((h=l=ie)&&(l=Ew(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,Be=i,ie=jn(l.firstChild),Mn=!1,h=!0):h=!1),h||br(i)),cs(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Md(h,d)?l=null:v!==null&&Md(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Of(e,i,jb,null,null,a),bl._currentValue=h),ac(e,i),Fe(e,i,l,a),i.child;case 6:return e===null&&jt&&((e=a=ie)&&(a=Tw(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,Be=i,ie=null,e=!0):e=!1),e||br(i)),null;case 13:return Oy(e,i,a);case 4:return De(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ks(i,null,l,a):Fe(e,i,l,a),i.child;case 11:return wy(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,wr(i,i.type,l.value),Fe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Os(i),h=qe(h),l=l(h),i.flags|=1,Fe(e,i,l,a),i.child;case 14:return Ay(e,i,i.type,i.pendingProps,a);case 15:return Sy(e,i,i.type,i.pendingProps,a);case 19:return Vy(e,i,a);case 31:return Fb(e,i,a);case 22:return xy(e,i,a,i.pendingProps);case 24:return Os(i),l=qe(Ae),e===null?(h=bf(),h===null&&(h=te,d=Ef(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Af(i),wr(i,Ae,h)):((e.lanes&a)!==0&&(Sf(e,i),nl(i,null,null,a),el()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),wr(i,Ae,l)):(l=d.cache,wr(i,Ae,l),l!==h.cache&&vf(i,[Ae],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Yi(e){e.flags|=4}function ad(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(l_())e.flags|=8192;else throw js=Gu,wf}else e.flags&=-16777217}function ky(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Z_(i))if(l_())e.flags|=8192;else throw js=Gu,wf}function lc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?mu():536870912,e.lanes|=i,Ua|=i)}function ll(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function Gb(e,i,a){var l=i.pendingProps;switch(mf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(Ae),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(xa(i)?Yi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,pf())),re(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Yi(i),d!==null?(re(i),ky(i,d)):(re(i),ad(i,h,null,l,a))):d?d!==e.memoizedState?(Yi(i),re(i),ky(i,d)):(re(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Yi(i),re(i),ad(i,h,e,l,a)),null;case 27:if(ra(i),a=vt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Yi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=it.current,xa(i)?gp(i):(e=F_(h,l,a),i.stateNode=e,Yi(i))}return re(i),null;case 5:if(ra(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Yi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(d=it.current,xa(i))gp(i);else{var v=wc(vt.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Te]=i,d[je]=l;t:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break t;for(;v.sibling===null;){if(v.return===null||v.return===i)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;t:switch(He(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Yi(i)}}return re(i),ad(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Yi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=vt.current,xa(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||O_(e.nodeValue,a)),e||br(i,!0)}else e=wc(e).createTextNode(l),e[Te]=i,i.stateNode=e}return re(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=xa(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Te]=i}else Ns(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),e=!1}else a=pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=xa(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=i}else Ns(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),lc(i,i.updateQueue),re(i),null);case 4:return se(),e===null&&Rd(i.stateNode.containerInfo),re(i),null;case 10:return Hi(i.type),re(i),null;case 19:if(V(me),l=i.memoizedState,l===null)return re(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ll(l,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Xu(e),d!==null){for(i.flags|=128,ll(l,!1),e=d.updateQueue,i.updateQueue=e,lc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)cp(a,e),a=a.sibling;return J(me,me.current&1|2),jt&&qi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&We()>dc&&(i.flags|=128,h=!0,ll(l,!1),i.lanes=4194304)}else{if(!h)if(e=Xu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,lc(i,e),ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!jt)return re(i),null}else 2*We()-l.renderingStartTime>dc&&a!==536870912&&(i.flags|=128,h=!0,ll(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=We(),e.sibling=null,a=me.current,J(me,h?a&1|2:a&1),jt&&qi(i,l.treeForkCount),e):(re(i),null);case 22:case 23:return _n(i),Cf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&lc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&V(Ms),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(Ae),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Qb(e,i){switch(mf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Hi(Ae),se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ra(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(s(340));Ns()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(_n(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ns()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return V(me),null;case 4:return se(),null;case 10:return Hi(i.type),null;case 22:case 23:return _n(i),Cf(),e!==null&&V(Ms),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Hi(Ae),null;case 25:return null;default:return null}}function Ly(e,i){switch(mf(i),i.tag){case 3:Hi(Ae),se();break;case 26:case 27:case 5:ra(i);break;case 4:se();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:V(me);break;case 10:Hi(i.type);break;case 22:case 23:_n(i),Cf(),e!==null&&V(Ms);break;case 24:Hi(Ae)}}function ul(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Kt(i,i.return,T)}}function Cr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var R=a,z=T;try{z()}catch(Q){Kt(h,R,Q)}}}l=l.next}while(l!==d)}}catch(Q){Kt(i,i.return,Q)}}function Py(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Rp(i,a)}catch(l){Kt(e,e.return,l)}}}function Uy(e,i,a){a.props=Ps(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(e,i,l)}}function cl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Kt(e,i,h)}}function xi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Kt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Kt(e,i,h)}else a.current=null}function zy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Kt(e,e.return,h)}}function od(e,i,a){try{var l=e.stateNode;mw(l,e.type,a,i),l[je]=i}catch(h){Kt(e,e.return,h)}}function By(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kr(e.type)||e.tag===4}function ld(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||By(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ud(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Hn));else if(l!==4&&(l===27&&kr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(ud(e,i,a),e=e.sibling;e!==null;)ud(e,i,a),e=e.sibling}function uc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&kr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(uc(e,i,a),e=e.sibling;e!==null;)uc(e,i,a),e=e.sibling}function qy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);He(i,l,a),i[Te]=e,i[je]=a}catch(d){Kt(e,e.return,d)}}var Xi=!1,Ie=!1,cd=!1,Fy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Kb(e,i){if(e=e.containerInfo,Dd=Nc,e=ep(e),nf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,R=-1,z=0,Q=0,X=e,B=null;e:for(;;){for(var F;X!==a||h!==0&&X.nodeType!==3||(T=v+h),X!==d||l!==0&&X.nodeType!==3||(R=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(F=X.firstChild)!==null;)B=X,X=F;for(;;){if(X===e)break e;if(B===a&&++z===h&&(T=v),B===d&&++Q===l&&(R=v),(F=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=F}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:e,selectionRange:a},Nc=!1,Le=i;Le!==null;)if(i=Le,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Le=e;else for(;Le!==null;){switch(i=Le,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var at=Ps(a.type,h);e=l.getSnapshotBeforeUpdate(at,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Kt(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)jd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Le=e;break}Le=i.return}}function Hy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(e,a),l&4&&ul(5,a);break;case 1:if(Zi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Kt(a,a.return,v)}else{var h=Ps(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Kt(a,a.return,v)}}l&64&&Py(a),l&512&&cl(a,a.return);break;case 3:if(Zi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Rp(e,i)}catch(v){Kt(a,a.return,v)}}break;case 27:i===null&&l&4&&qy(a);case 26:case 5:Zi(e,a),i===null&&l&4&&zy(a),l&512&&cl(a,a.return);break;case 12:Zi(e,a);break;case 31:Zi(e,a),l&4&&Ky(e,a);break;case 13:Zi(e,a),l&4&&Yy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=nw.bind(null,a),bw(e,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||Ie,h=Xi;var d=Ie;Xi=l,(Ie=i)&&!d?Ji(e,a,(a.subtreeFlags&8772)!==0):Zi(e,a),Xi=h,Ie=d}break;case 30:break;default:Zi(e,a)}}function Gy(e){var i=e.alternate;i!==null&&(e.alternate=null,Gy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ua(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function $i(e,i,a){for(a=a.child;a!==null;)Qy(e,i,a),a=a.sibling}function Qy(e,i,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Ie||xi(a,i),$i(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||xi(a,i);var l=oe,h=an;kr(a.type)&&(oe=a.stateNode,an=!1),$i(e,i,a),vl(a.stateNode),oe=l,an=h;break;case 5:Ie||xi(a,i);case 6:if(l=oe,h=an,oe=null,$i(e,i,a),oe=l,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){Kt(a,i,d)}else try{oe.removeChild(a.stateNode)}catch(d){Kt(a,i,d)}break;case 18:oe!==null&&(an?(e=oe,P_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ka(e)):P_(oe,a.stateNode));break;case 4:l=oe,h=an,oe=a.stateNode.containerInfo,an=!0,$i(e,i,a),oe=l,an=h;break;case 0:case 11:case 14:case 15:Cr(2,a,i),Ie||Cr(4,a,i),$i(e,i,a);break;case 1:Ie||(xi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Uy(a,i,l)),$i(e,i,a);break;case 21:$i(e,i,a);break;case 22:Ie=(l=Ie)||a.memoizedState!==null,$i(e,i,a),Ie=l;break;default:$i(e,i,a)}}function Ky(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ka(e)}catch(a){Kt(i,i.return,a)}}}function Yy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ka(e)}catch(a){Kt(i,i.return,a)}}function Yb(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Fy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Fy),i;default:throw Error(s(435,e.tag))}}function cc(e,i){var a=Yb(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=iw.bind(null,e,l);l.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(kr(T.type)){oe=T.stateNode,an=!1;break t}break;case 5:oe=T.stateNode,an=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(oe===null)throw Error(s(160));Qy(d,v,h),oe=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Xy(i,e),i=i.sibling}var $n=null;function Xy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),l&4&&(Cr(3,e,e.return),ul(3,e),Cr(5,e,e.return));break;case 1:on(i,e),ln(e),l&512&&(Ie||a===null||xi(a,a.return)),l&64&&Xi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=$n;if(on(i,e),ln(e),l&512&&(Ie||a===null||xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[fi]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),He(d,l,a),d[Te]=e,be(d),l=d;break t;case"link":var v=X_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),He(d,l,a),h.head.appendChild(d);break;case"meta":if(v=X_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),He(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Te]=e,be(d),l=d}e.stateNode=l}else $_(h,e.type,e.stateNode);else e.stateNode=Y_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?$_(h,e.type,e.stateNode):Y_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&od(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),l&512&&(Ie||a===null||xi(a,a.return)),a!==null&&l&4&&od(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),l&512&&(Ie||a===null||xi(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Kt(e,e.return,at)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,od(e,h,a!==null?a.memoizedProps:h)),l&1024&&(cd=!0);break;case 6:if(on(i,e),ln(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(at){Kt(e,e.return,at)}}break;case 3:if(xc=null,h=$n,$n=Ac(i.containerInfo),on(i,e),$n=h,ln(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ka(i.containerInfo)}catch(at){Kt(e,e.return,at)}cd&&(cd=!1,$y(e));break;case 4:l=$n,$n=Ac(e.stateNode.containerInfo),on(i,e),ln(e),$n=l;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cc(e,l)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fc=We()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cc(e,l)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=Xi,Q=Ie;if(Xi=z||h,Ie=Q||R,on(i,e),Ie=Q,Xi=z,ln(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||Xi||Ie||Us(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=R.stateNode;var X=R.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){Kt(R,R.return,at)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Kt(R,R.return,at)}}}else if(i.tag===18){if(a===null){R=i;try{var F=R.stateNode;h?U_(F,!0):U_(R.stateNode,!1)}catch(at){Kt(R,R.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,cc(e,a))));break;case 19:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cc(e,l)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(By(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ld(e);uc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(sn(v,""),a.flags&=-33);var T=ld(e);uc(e,T,v);break;case 3:case 4:var R=a.stateNode.containerInfo,z=ld(e);ud(e,z,R);break;default:throw Error(s(161))}}catch(Q){Kt(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function $y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;$y(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Zi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hy(e,i.alternate,i),i=i.sibling}function Us(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Cr(4,i,i.return),Us(i);break;case 1:xi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Uy(i,i.return,a),Us(i);break;case 27:vl(i.stateNode);case 26:case 5:xi(i,i.return),Us(i);break;case 22:i.memoizedState===null&&Us(i);break;case 30:Us(i);break;default:Us(i)}e=e.sibling}}function Ji(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ji(h,d,a),ul(4,d);break;case 1:if(Ji(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Kt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Ip(R[h],T)}catch(z){Kt(l,l.return,z)}}a&&v&64&&Py(d),cl(d,d.return);break;case 27:qy(d);case 26:case 5:Ji(h,d,a),a&&l===null&&v&4&&zy(d),cl(d,d.return);break;case 12:Ji(h,d,a);break;case 31:Ji(h,d,a),a&&v&4&&Ky(h,d);break;case 13:Ji(h,d,a),a&&v&4&&Yy(h,d);break;case 22:d.memoizedState===null&&Ji(h,d,a),cl(d,d.return);break;case 30:break;default:Ji(h,d,a)}i=i.sibling}}function hd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&$o(a))}function fd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&$o(e))}function Zn(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Zy(e,i,a,l),i=i.sibling}function Zy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(e,i,a,l),h&2048&&ul(9,i);break;case 1:Zn(e,i,a,l);break;case 3:Zn(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&$o(e)));break;case 12:if(h&2048){Zn(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Kt(i,i.return,R)}}else Zn(e,i,a,l);break;case 31:Zn(e,i,a,l);break;case 13:Zn(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(e,i,a,l):hl(e,i):d._visibility&2?Zn(e,i,a,l):(d._visibility|=2,ka(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&hd(v,i);break;case 24:Zn(e,i,a,l),h&2048&&fd(i.alternate,i);break;default:Zn(e,i,a,l)}}function ka(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,v=i,T=a,R=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:ka(d,v,T,R,h),ul(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?ka(d,v,T,R,h):hl(d,v):(Q._visibility|=2,ka(d,v,T,R,h)),h&&z&2048&&hd(v.alternate,v);break;case 24:ka(d,v,T,R,h),h&&z&2048&&fd(v.alternate,v);break;default:ka(d,v,T,R,h)}i=i.sibling}}function hl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:hl(a,l),h&2048&&hd(l.alternate,l);break;case 24:hl(a,l),h&2048&&fd(l.alternate,l);break;default:hl(a,l)}i=i.sibling}}var fl=8192;function La(e,i,a){if(e.subtreeFlags&fl)for(e=e.child;e!==null;)Jy(e,i,a),e=e.sibling}function Jy(e,i,a){switch(e.tag){case 26:La(e,i,a),e.flags&fl&&e.memoizedState!==null&&Vw(a,$n,e.memoizedState,e.memoizedProps);break;case 5:La(e,i,a);break;case 3:case 4:var l=$n;$n=Ac(e.stateNode.containerInfo),La(e,i,a),$n=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=fl,fl=16777216,La(e,i,a),fl=l):La(e,i,a));break;default:La(e,i,a)}}function Wy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function dl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Le=l,e_(l,e)}Wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)t_(e),e=e.sibling}function t_(e){switch(e.tag){case 0:case 11:case 15:dl(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:dl(e);break;case 12:dl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,hc(e)):dl(e);break;default:dl(e)}}function hc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Le=l,e_(l,e)}Wy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Cr(8,i,i.return),hc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,hc(i));break;default:hc(i)}e=e.sibling}}function e_(e,i){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Cr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Le=l;else t:for(a=e;Le!==null;){l=Le;var h=l.sibling,d=l.return;if(Gy(l),l===a){Le=null;break t}if(h!==null){h.return=d,Le=h;break t}Le=d}}}var Xb={getCacheForType:function(e){var i=qe(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},$b=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,xt=null,Rt=0,Qt=0,vn=null,Nr=!1,Pa=!1,dd=!1,Wi=0,ce=0,Dr=0,zs=0,md=0,En=0,Ua=0,ml=null,un=null,gd=!1,fc=0,n_=0,dc=1/0,mc=null,Or=null,Me=0,Mr=null,za=null,tr=0,pd=0,yd=null,i_=null,gl=0,_d=null;function Tn(){return(Ft&2)!==0&&Rt!==0?Rt&-Rt:G.T!==null?Ad():gu()}function r_(){if(En===0)if((Rt&536870912)===0||jt){var e=ds;ds<<=1,(ds&3932160)===0&&(ds=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,i,a){(e===te&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Ba(e,0),Vr(e,Rt,En,!1)),ms(e,a),((Ft&2)===0||e!==te)&&(e===te&&((Ft&2)===0&&(zs|=a),ce===4&&Vr(e,Rt,En,!1)),Ii(e))}function s_(e,i,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Bn(e,i),h=l?Wb(e,i):Ed(e,i,!0),d=l;do{if(h===0){Pa&&!l&&Vr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!Zb(a)){h=Ed(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=ml;var R=T.current.memoizedState.isDehydrated;if(R&&(Ba(T,v).flags|=256),v=Ed(T,v,!1),v!==2){if(dd&&!R){T.errorRecoveryDisabledLanes|=d,zs|=d,h=4;break t}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ba(e,0),Vr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Vr(l,i,En,!Nr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=fc+300-We(),10<h)){if(Vr(l,i,En,!Nr),ui(l,0,!0)!==0)break t;tr=i,l.timeoutHandle=k_(a_.bind(null,l,a,un,mc,gd,i,En,zs,Ua,Nr,d,"Throttled",-0,0),h);break t}a_(l,a,un,mc,gd,i,En,zs,Ua,Nr,d,null,-0,0)}}break}while(!0);Ii(e)}function a_(e,i,a,l,h,d,v,T,R,z,Q,X,B,F){if(e.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Jy(i,d,X);var at=(d&62914560)===d?fc-We():(d&4194048)===d?n_-We():0;if(at=jw(X,at),at!==null){tr=d,e.cancelPendingCommit=at(m_.bind(null,e,i,d,a,l,h,v,T,R,Q,X,null,B,F)),Vr(e,d,v,!z);return}}m_(e,i,d,a,l,h,v,T,R)}function Zb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vr(e,i,a,l){i&=~md,i&=~zs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-fe(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&gs(e,a,i)}function gc(){return(Ft&6)===0?(pl(0),!1):!0}function vd(){if(xt!==null){if(Qt===0)var e=xt.return;else e=xt,Fi=Ds=null,jf(e),Da=null,Jo=0,e=xt;for(;e!==null;)Ly(e.alternate,e),e=e.return;xt=null}}function Ba(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,yw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),tr=0,vd(),te=e,xt=a=Bi(e.current,null),Rt=i,Qt=0,vn=null,Nr=!1,Pa=Bn(e,i),dd=!1,Ua=En=md=zs=Dr=ce=0,un=ml=null,gd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-fe(l),d=1<<h;i|=e[h],l&=~d}return Wi=i,ku(),a}function o_(e,i){wt=null,G.H=al,i===Na||i===Hu?(i=wp(),Qt=3):i===wf?(i=wp(),Qt=4):Qt=i===Zf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,xt===null&&(ce=1,rc(e,Nn(i,e.current)))}function l_(){var e=yn.current;return e===null?!0:(Rt&4194048)===Rt?Vn===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?e===Vn:!1}function u_(){var e=G.H;return G.H=al,e===null?al:e}function c_(){var e=G.A;return G.A=Xb,e}function pc(){ce=4,Nr||(Rt&4194048)!==Rt&&yn.current!==null||(Pa=!0),(Dr&134217727)===0&&(zs&134217727)===0||te===null||Vr(te,Rt,En,!1)}function Ed(e,i,a){var l=Ft;Ft|=2;var h=u_(),d=c_();(te!==e||Rt!==i)&&(mc=null,Ba(e,i)),i=!1;var v=ce;t:do try{if(Qt!==0&&xt!==null){var T=xt,R=vn;switch(Qt){case 8:vd(),v=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var z=Qt;if(Qt=0,vn=null,qa(e,T,R,z),a&&Pa){v=0;break t}break;default:z=Qt,Qt=0,vn=null,qa(e,T,R,z)}}Jb(),v=ce;break}catch(Q){o_(e,Q)}while(!0);return i&&e.shellSuspendCounter++,Fi=Ds=null,Ft=l,G.H=h,G.A=d,xt===null&&(te=null,Rt=0,ku()),v}function Jb(){for(;xt!==null;)h_(xt)}function Wb(e,i){var a=Ft;Ft|=2;var l=u_(),h=c_();te!==e||Rt!==i?(mc=null,dc=We()+500,Ba(e,i)):Pa=Bn(e,i);t:do try{if(Qt!==0&&xt!==null){i=xt;var d=vn;e:switch(Qt){case 1:Qt=0,vn=null,qa(e,i,d,1);break;case 2:case 9:if(Tp(d)){Qt=0,vn=null,f_(i);break}i=function(){Qt!==2&&Qt!==9||te!==e||(Qt=7),Ii(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Tp(d)?(Qt=0,vn=null,f_(i)):(Qt=0,vn=null,qa(e,i,d,7));break;case 5:var v=null;switch(xt.tag){case 26:v=xt.memoizedState;case 5:case 27:var T=xt;if(v?Z_(v):T.stateNode.complete){Qt=0,vn=null;var R=T.sibling;if(R!==null)xt=R;else{var z=T.return;z!==null?(xt=z,yc(z)):xt=null}break e}}Qt=0,vn=null,qa(e,i,d,5);break;case 6:Qt=0,vn=null,qa(e,i,d,6);break;case 8:vd(),ce=6;break t;default:throw Error(s(462))}}tw();break}catch(Q){o_(e,Q)}while(!0);return Fi=Ds=null,G.H=l,G.A=h,Ft=a,xt!==null?0:(te=null,Rt=0,ku(),ce)}function tw(){for(;xt!==null&&!Xh();)h_(xt)}function h_(e){var i=jy(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,i===null?yc(e):xt=i}function f_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Cy(a,i,i.pendingProps,i.type,void 0,Rt);break;case 11:i=Cy(a,i,i.pendingProps,i.type.render,i.ref,Rt);break;case 5:jf(i);default:Ly(a,i),i=xt=cp(i,Wi),i=jy(a,i,Wi)}e.memoizedProps=e.pendingProps,i===null?yc(e):xt=i}function qa(e,i,a,l){Fi=Ds=null,jf(i),Da=null,Jo=0;var h=i.return;try{if(qb(e,h,i,a,Rt)){ce=1,rc(e,Nn(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;ce=1,rc(e,Nn(a,e.current)),xt=null;return}i.flags&32768?(jt||l===1?e=!0:Pa||(Rt&536870912)!==0?e=!1:(Nr=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),d_(i,e)):yc(i)}function yc(e){var i=e;do{if((i.flags&32768)!==0){d_(i,Nr);return}e=i.return;var a=Gb(i.alternate,i,Wi);if(a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=e}while(i!==null);ce===0&&(ce=5)}function d_(e,i){do{var a=Qb(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);ce=6,xt=null}function m_(e,i,a,l,h,d,v,T,R){e.cancelPendingCommit=null;do _c();while(Me!==0);if((Ft&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=lf,Jh(e,a,d,v,T,R),e===te&&(xt=te=null,Rt=0),za=i,Mr=e,tr=a,pd=d,yd=h,i_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,rw(cr,function(){return v_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=nt.p,nt.p=2,v=Ft,Ft|=4;try{Kb(e,i,a)}finally{Ft=v,nt.p=h,G.T=l}}Me=1,g_(),p_(),y_()}}function g_(){if(Me===1){Me=0;var e=Mr,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=nt.p;nt.p=2;var h=Ft;Ft|=4;try{Xy(i,e);var d=Od,v=ep(e.containerInfo),T=d.focusedElem,R=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&tp(T.ownerDocument.documentElement,T)){if(R!==null&&nf(T)){var z=R.start,Q=R.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var F=B.getSelection(),at=T.textContent.length,ft=Math.min(R.start,at),Zt=R.end===void 0?ft:Math.min(R.end,at);!F.extend&&ft>Zt&&(v=Zt,Zt=ft,ft=v);var k=Wg(T,ft),D=Wg(T,Zt);if(k&&D&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var U=X.createRange();U.setStart(k.node,k.offset),F.removeAllRanges(),ft>Zt?(F.addRange(U),F.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),F.addRange(U))}}}}for(X=[],F=T;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Nc=!!Dd,Od=Dd=null}finally{Ft=h,nt.p=l,G.T=a}}e.current=i,Me=2}}function p_(){if(Me===2){Me=0;var e=Mr,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=nt.p;nt.p=2;var h=Ft;Ft|=4;try{Hy(e,i.alternate,i)}finally{Ft=h,nt.p=l,G.T=a}}Me=3}}function y_(){if(Me===4||Me===3){Me=0,lu();var e=Mr,i=za,a=tr,l=i_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Me=5:(Me=0,za=Mr=null,__(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Or=null),Li(a),i=i.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(zn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{G.T=i,nt.p=h}}(tr&3)!==0&&_c(),Ii(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===_d?gl++:(gl=0,_d=e):gl=0,pl(0)}}function __(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,$o(i)))}function _c(){return g_(),p_(),y_(),v_()}function v_(){if(Me!==5)return!1;var e=Mr,i=pd;pd=0;var a=Li(tr),l=G.T,h=nt.p;try{nt.p=32>a?32:a,G.T=null,a=yd,yd=null;var d=Mr,v=tr;if(Me=0,za=Mr=null,tr=0,(Ft&6)!==0)throw Error(s(331));var T=Ft;if(Ft|=4,t_(d.current),Zy(d,d.current,v,a),Ft=T,pl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(zn,d)}catch{}return!0}finally{nt.p=h,G.T=l,__(e,i)}}function E_(e,i,a){i=Nn(a,i),i=$f(e.stateNode,i,2),e=xr(e,i,2),e!==null&&(ms(e,2),Ii(e))}function Kt(e,i,a){if(e.tag===3)E_(e,e,a);else for(;i!==null;){if(i.tag===3){E_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Or===null||!Or.has(l))){e=Nn(a,e),a=Ty(2),l=xr(i,a,2),l!==null&&(by(a,l,i,e),ms(l,2),Ii(l));break}}i=i.return}}function Td(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new $b;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(dd=!0,h.add(a),e=ew.bind(null,e,i,a),i.then(e,e))}function ew(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Rt&a)===a&&(ce===4||ce===3&&(Rt&62914560)===Rt&&300>We()-fc?(Ft&2)===0&&Ba(e,0):md|=a,Ua===Rt&&(Ua=0)),Ii(e)}function T_(e,i){i===0&&(i=mu()),e=Rs(e,i),e!==null&&(ms(e,i),Ii(e))}function nw(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),T_(e,a)}function iw(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),T_(e,a)}function rw(e,i){return Oe(e,i)}var vc=null,Fa=null,bd=!1,Ec=!1,wd=!1,jr=0;function Ii(e){e!==Fa&&e.next===null&&(Fa===null?vc=Fa=e:Fa=Fa.next=e),Ec=!0,bd||(bd=!0,aw())}function pl(e,i){if(!wd&&Ec){wd=!0;do for(var a=!1,l=vc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-fe(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,S_(l,d))}else d=Rt,d=ui(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Bn(l,d)||(a=!0,S_(l,d));l=l.next}while(a);wd=!1}}function sw(){b_()}function b_(){Ec=bd=!1;var e=0;jr!==0&&pw()&&(e=jr);for(var i=We(),a=null,l=vc;l!==null;){var h=l.next,d=w_(l,i);d===0?(l.next=null,a===null?vc=h:a.next=h,h===null&&(Fa=a)):(a=l,(e!==0||(d&3)!==0)&&(Ec=!0)),l=h}Me!==0&&Me!==5||pl(e),jr!==0&&(jr=0)}function w_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-fe(d),T=1<<v,R=h[v];R===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Zh(T,i)):R<=i&&(e.expiredLanes|=T),d&=~T}if(i=te,a=Rt,a=ui(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ur(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&ur(l),Li(a)){case 2:case 8:a=xo;break;case 32:a=cr;break;case 268435456:a=uu;break;default:a=cr}return l=A_.bind(null,e),a=Oe(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&ur(l),e.callbackPriority=2,e.callbackNode=null,2}function A_(e,i){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(_c()&&e.callbackNode!==a)return null;var l=Rt;return l=ui(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(s_(e,l,i),w_(e,We()),e.callbackNode!=null&&e.callbackNode===a?A_.bind(null,e):null)}function S_(e,i){if(_c())return null;s_(e,i,!0)}function aw(){_w(function(){(Ft&6)!==0?Oe(So,sw):b_()})}function Ad(){if(jr===0){var e=Ra;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),jr=e}return jr}function x_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:da(""+e)}function I_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function ow(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=x_((h[je]||null).action),v=l.submitter;v&&(i=(i=v[je]||null)?x_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Ei("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(jr!==0){var R=v?I_(h,v):new FormData(h);Hf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?I_(h,v):new FormData(h),Hf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var Sd=0;Sd<of.length;Sd++){var xd=of[Sd],lw=xd.toLowerCase(),uw=xd[0].toUpperCase()+xd.slice(1);Xn(lw,"on"+uw)}Xn(rp,"onAnimationEnd"),Xn(sp,"onAnimationIteration"),Xn(ap,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Sb,"onTransitionRun"),Xn(xb,"onTransitionStart"),Xn(Ib,"onTransitionCancel"),Xn(op,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function R_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Q){ju(Q)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,z=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Q){ju(Q)}h.currentTarget=null,d=R}}}}function It(e,i){var a=i[la];a===void 0&&(a=i[la]=new Set);var l=e+"__bubble";a.has(l)||(C_(i,e,2,!1),a.add(l))}function Id(e,i,a){var l=0;i&&(l|=4),C_(a,e,l,i)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Rd(e){if(!e[Tc]){e[Tc]=!0,Co.forEach(function(a){a!=="selectionchange"&&(cw.has(a)||Id(a,!1,e),Id(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Tc]||(i[Tc]=!0,Id("selectionchange",!1,i))}}function C_(e,i,a,l){switch(rv(i)){case 2:var h=Pw;break;case 8:h=Uw;break;default:h=Fd}a=h.bind(null,i,a,e),h=void 0,!Es||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Cd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=di(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue t}T=T.parentNode}}l=l.return}pr(function(){var z=d,Q=xn(a),X=[];t:{var B=lp.get(e);if(B!==void 0){var F=Ei,at=e;switch(e){case"keypress":if(bs(a)===0)break t;case"keydown":case"keyup":F=Ou;break;case"focusin":at="focus",F=As;break;case"focusout":at="blur",F=As;break;case"beforeblur":case"afterblur":F=As;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case rp:case sp:case ap:F=Su;break;case op:F=w;break;case"scroll":case"scrollend":F=Bo;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=zi;break;case"toggle":case"beforetoggle":F=bt}var ft=(i&4)!==0,Zt=!ft&&(e==="scroll"||e==="scrollend"),k=ft?B!==null?B+"Capture":null:B;ft=[];for(var D=z,U;D!==null;){var K=D;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||k===null||(K=Gn(D,k),K!=null&&ft.push(_l(D,K,U))),Zt)break;D=D.return}0<ft.length&&(B=new F(B,at,null,a,Q),X.push({event:B,listeners:ft}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",B&&a!==Po&&(at=a.relatedTarget||a.fromElement)&&(di(at)||at[hi]))break t;if((F||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,F?(at=a.relatedTarget||a.toElement,F=z,at=at?di(at):null,at!==null&&(Zt=u(at),ft=at.tag,at!==Zt||ft!==5&&ft!==27&&ft!==6)&&(at=null)):(F=null,at=z),F!==at)){if(ft=qo,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ft=zi,K="onPointerLeave",k="onPointerEnter",D="pointer"),Zt=F==null?B:dn(F),U=at==null?B:dn(at),B=new ft(K,D+"leave",F,a,Q),B.target=Zt,B.relatedTarget=U,K=null,di(Q)===z&&(ft=new ft(k,D+"enter",at,a,Q),ft.target=U,ft.relatedTarget=Zt,K=ft),Zt=K,F&&at)e:{for(ft=hw,k=F,D=at,U=0,K=k;K;K=ft(K))U++;K=0;for(var ut=D;ut;ut=ft(ut))K++;for(;0<U-K;)k=ft(k),U--;for(;0<K-U;)D=ft(D),K--;for(;U--;){if(k===D||D!==null&&k===D.alternate){ft=k;break e}k=ft(k),D=ft(D)}ft=null}else ft=null;F!==null&&N_(X,B,F,ft,!1),at!==null&&Zt!==null&&N_(X,Zt,at,ft,!0)}}t:{if(B=z?dn(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Ut=Kg;else if(Gg(B))if(Yg)Ut=bb;else{Ut=Eb;var ot=vb}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&fa(z.elementType)&&(Ut=Kg):Ut=Tb;if(Ut&&(Ut=Ut(e,z))){Qg(X,Ut,a,Q);break t}ot&&ot(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&jo(B,"number",B.value)}switch(ot=z?dn(z):window,e){case"focusin":(Gg(ot)||ot.contentEditable==="true")&&(Ea=ot,rf=z,Ko=null);break;case"focusout":Ko=rf=Ea=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,np(X,a,Q);break;case"selectionchange":if(Ab)break;case"keydown":case"keyup":np(X,a,Q)}var At;if(qt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else va?Ss(e,a)&&(Ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(wi&&a.locale!=="ko"&&(va||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&va&&(At=zo()):(vi=Q,Uo="value"in vi?vi.value:vi.textContent,va=!0)),ot=bc(z,Ct),0<ot.length&&(Ct=new bi(Ct,e,null,a,Q),X.push({event:Ct,listeners:ot}),At?Ct.data=At:(At=_a(a),At!==null&&(Ct.data=At)))),(At=Rn?gb(e,a):pb(e,a))&&(Ct=bc(z,"onBeforeInput"),0<Ct.length&&(ot=new bi("onBeforeInput","beforeinput",null,a,Q),X.push({event:ot,listeners:Ct}),ot.data=At)),ow(X,e,z,a,Q)}R_(X,i)})}function _l(e,i,a){return{instance:e,listener:i,currentTarget:a}}function bc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Gn(e,a),h!=null&&l.unshift(_l(e,h,d)),h=Gn(e,i),h!=null&&l.push(_l(e,h,d))),e.tag===3)return l;e=e.return}return[]}function hw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function N_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||z===null||(R=z,h?(z=Gn(a,d),z!=null&&v.unshift(_l(a,z,R))):h||(z=Gn(a,d),z!=null&&v.push(_l(a,z,R)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var fw=/\r\n?/g,dw=/\u0000|\uFFFD/g;function D_(e){return(typeof e=="string"?e:""+e).replace(fw,`
`).replace(dw,"")}function O_(e,i){return i=D_(i),D_(e)===i}function $t(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,l);break;case"style":Lo(e,l,d);break;case"data":if(i!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=da(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$t(e,i,"name",h.name,h,null),$t(e,i,"formEncType",h.formEncType,h,null),$t(e,i,"formMethod",h.formMethod,h,null),$t(e,i,"formTarget",h.formTarget,h,null)):($t(e,i,"encType",h.encType,h,null),$t(e,i,"method",h.method,h,null),$t(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=da(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=da(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":It("beforetoggle",e),It("toggle",e),ca(e,"popover",l);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,ca(e,a,l))}}function Nd(e,i,a,l,h,d){switch(a){case"style":Lo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?sn(e,l):(typeof l=="number"||typeof l=="bigint")&&sn(e,""+l);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[je]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ca(e,a,l)}}}function He(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$t(e,i,d,v,a,null)}}h&&$t(e,i,"srcSet",a.srcSet,a,null),l&&$t(e,i,"src",a.src,a,null);return;case"input":It("invalid",e);var T=d=v=h=null,R=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":R=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:$t(e,i,l,Q,a,null)}}vu(e,d,T,R,z,v,h,!1);return;case"select":It("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$t(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?fr(e,!!l,i,!1):a!=null&&fr(e,!!l,a,!0);return;case"textarea":It("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$t(e,i,v,T,a,null)}dr(e,l,h,d);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(e,i,R,l,a,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(l=0;l<yl.length;l++)It(yl[l],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$t(e,i,z,l,a,null)}return;default:if(fa(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Nd(e,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$t(e,i,T,l,a,null))}function mw(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,R=null,z=null,Q=null;for(F in a){var X=a[F];if(a.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(F)||$t(e,i,F,null,l,X)}}for(var B in l){var F=l[B];if(X=a[B],l.hasOwnProperty(B)&&(F!=null||X!=null))switch(B){case"type":d=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==X&&$t(e,i,B,F,l,X)}}ha(e,v,T,R,z,Q,d,h);return;case"select":F=v=T=B=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":F=R;default:l.hasOwnProperty(d)||$t(e,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&$t(e,i,h,d,l,R)}i=T,a=v,l=F,B!=null?fr(e,!!a,B,!1):!!l!=!!a&&(i!=null?fr(e,!!a,i,!0):fr(e,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$t(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$t(e,i,v,h,l,d)}Eu(e,B,F);return;case"option":for(var at in a)if(B=a[at],a.hasOwnProperty(at)&&B!=null&&!l.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:$t(e,i,at,null,l,B)}for(R in l)if(B=l[R],F=a[R],l.hasOwnProperty(R)&&B!==F&&(B!=null||F!=null))switch(R){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:$t(e,i,R,B,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)B=a[ft],a.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft)&&$t(e,i,ft,null,l,B);for(z in l)if(B=l[z],F=a[z],l.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:$t(e,i,z,B,l,F)}return;default:if(fa(i)){for(var Zt in a)B=a[Zt],a.hasOwnProperty(Zt)&&B!==void 0&&!l.hasOwnProperty(Zt)&&Nd(e,i,Zt,void 0,l,B);for(Q in l)B=l[Q],F=a[Q],!l.hasOwnProperty(Q)||B===F||B===void 0&&F===void 0||Nd(e,i,Q,B,l,F);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!l.hasOwnProperty(k)&&$t(e,i,k,null,l,B);for(X in l)B=l[X],F=a[X],!l.hasOwnProperty(X)||B===F||B==null&&F==null||$t(e,i,X,B,l,F)}function M_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,T=h.duration;if(d&&T&&M_(v)){for(v=0,T=h.responseEnd,l+=1;l<a.length;l++){var R=a[l],z=R.startTime;if(z>T)break;var Q=R.transferSize,X=R.initiatorType;Q&&M_(X)&&(R=R.responseEnd,v+=Q*(R<T?1:(T-z)/(R-z)))}if(--l,i+=8*(d+v)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Dd=null,Od=null;function wc(e){return e.nodeType===9?e:e.ownerDocument}function V_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Md(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vd=null;function pw(){var e=window.event;return e&&e.type==="popstate"?e===Vd?!1:(Vd=e,!0):(Vd=null,!1)}var k_=typeof setTimeout=="function"?setTimeout:void 0,yw=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,_w=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(e){return L_.resolve(null).then(e).catch(vw)}:k_;function vw(e){setTimeout(function(){throw e})}function kr(e){return e==="head"}function P_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Ka(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")vl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,vl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[fi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&vl(e.ownerDocument.body);a=h}while(a);Ka(i)}function U_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function jd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jd(a),ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ew(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[fi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function Tw(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function z_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=jn(e.nextSibling),e===null))return null;return e}function kd(e){return e.data==="$?"||e.data==="$~"}function Ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function bw(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Pd=null;function B_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return jn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function q_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function F_(e,i,a){switch(i=wc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function vl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ua(e)}var kn=new Map,H_=new Set;function Ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var er=nt.d;nt.d={f:ww,r:Aw,D:Sw,C:xw,L:Iw,m:Rw,X:Nw,S:Cw,M:Dw};function ww(){var e=er.f(),i=gc();return e||i}function Aw(e){var i=Sn(e);i!==null&&i.tag===5&&i.type==="form"?oy(i):er.r(e)}var Ha=typeof document>"u"?null:document;function G_(e,i,a){var l=Ha;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),H_.has(h)||(H_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),He(i,"link",e),be(i),l.head.appendChild(i)))}}function Sw(e){er.D(e),G_("dns-prefetch",e,null)}function xw(e,i){er.C(e,i),G_("preconnect",e,i)}function Iw(e,i,a){er.L(e,i,a);var l=Ha;if(l&&e&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var d=h;switch(i){case"style":d=Ga(e);break;case"script":d=Qa(e)}kn.has(d)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),kn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(El(d))||i==="script"&&l.querySelector(Tl(d))||(i=l.createElement("link"),He(i,"link",e),be(i),l.head.appendChild(i)))}}function Rw(e,i){er.m(e,i);var a=Ha;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qa(e)}if(!kn.has(d)&&(e=A({rel:"modulepreload",href:e},i),kn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tl(d)))return}l=a.createElement("link"),He(l,"link",e),be(l),a.head.appendChild(l)}}}function Cw(e,i,a){er.S(e,i,a);var l=Ha;if(l&&e){var h=mi(l).hoistableStyles,d=Ga(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(El(d)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=kn.get(d))&&Ud(e,a);var R=v=l.createElement("link");be(R),He(R,"link",e),R._p=new Promise(function(z,Q){R.onload=z,R.onerror=Q}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Sc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function Nw(e,i){er.X(e,i);var a=Ha;if(a&&e){var l=mi(a).hoistableScripts,h=Qa(e),d=l.get(h);d||(d=a.querySelector(Tl(h)),d||(e=A({src:e,async:!0},i),(i=kn.get(h))&&zd(e,i),d=a.createElement("script"),be(d),He(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Dw(e,i){er.M(e,i);var a=Ha;if(a&&e){var l=mi(a).hoistableScripts,h=Qa(e),d=l.get(h);d||(d=a.querySelector(Tl(h)),d||(e=A({src:e,async:!0,type:"module"},i),(i=kn.get(h))&&zd(e,i),d=a.createElement("script"),be(d),He(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Q_(e,i,a,l){var h=(h=vt.current)?Ac(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ga(a.href),a=mi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ga(a.href);var d=mi(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(El(e)))&&!d._p&&(v.instance=d,v.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),d||Ow(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qa(a),a=mi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ga(e){return'href="'+rn(e)+'"'}function El(e){return'link[rel="stylesheet"]['+e+"]"}function K_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Ow(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),He(i,"link",a),be(i),e.head.appendChild(i))}function Qa(e){return'[src="'+rn(e)+'"]'}function Tl(e){return"script[async]"+e}function Y_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,be(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),be(l),He(l,"style",h),Sc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ga(a.href);var d=e.querySelector(El(h));if(d)return i.state.loading|=4,i.instance=d,be(d),d;l=K_(a),(h=kn.get(h))&&Ud(l,h),d=(e.ownerDocument||e).createElement("link"),be(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),He(d,"link",l),i.state.loading|=4,Sc(d,a.precedence,e),i.instance=d;case"script":return d=Qa(a.src),(h=e.querySelector(Tl(d)))?(i.instance=h,be(h),h):(l=a,(h=kn.get(d))&&(l=A({},a),zd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),be(h),He(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Sc(l,a.precedence,e));return i.instance}function Sc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Ud(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function zd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var xc=null;function X_(e,i,a){if(xc===null){var l=new Map,h=xc=new Map;h.set(a,l)}else h=xc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[fi]||d[Te]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function $_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Mw(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Z_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vw(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ga(l.href),d=i.querySelector(El(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ic.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,be(d);return}d=i.ownerDocument||i,l=K_(l),(h=kn.get(h))&&Ud(l,h),d=d.createElement("link"),be(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),He(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ic.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Bd=0;function jw(e,i){return e.stylesheets&&e.count===0&&Cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Bd===0&&(Bd=62500*gw());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Bd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rc=null;function Cc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rc=new Map,i.forEach(kw,e),Rc=null,Ic.call(e))}function kw(e,i){if(!(i.state.loading&4)){var a=Rc.get(e);if(a)var l=a.get(null);else{a=new Map,Rc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Ic.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var bl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function Lw(e,i,a,l,h,d,v,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function J_(e,i,a,l,h,d,v,T,R,z,Q,X){return e=new Lw(e,i,a,v,R,z,Q,X,T),i=1,d===!0&&(i|=24),d=pn(3,null,null,i),e.current=d,d.stateNode=e,i=Ef(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Af(d),e}function W_(e){return e?(e=wa,e):wa}function tv(e,i,a,l,h,d){h=W_(h),l.context===null?l.context=h:l.pendingContext=h,l=Sr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=xr(e,l,i),a!==null&&(cn(a,e,i),tl(a,e,i))}function ev(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function qd(e,i){ev(e,i),(e=e.alternate)&&ev(e,i)}function nv(e){if(e.tag===13||e.tag===31){var i=Rs(e,67108864);i!==null&&cn(i,e,67108864),qd(e,67108864)}}function iv(e){if(e.tag===13||e.tag===31){var i=Tn();i=ps(i);var a=Rs(e,i);a!==null&&cn(a,e,i),qd(e,i)}}var Nc=!0;function Pw(e,i,a,l){var h=G.T;G.T=null;var d=nt.p;try{nt.p=2,Fd(e,i,a,l)}finally{nt.p=d,G.T=h}}function Uw(e,i,a,l){var h=G.T;G.T=null;var d=nt.p;try{nt.p=8,Fd(e,i,a,l)}finally{nt.p=d,G.T=h}}function Fd(e,i,a,l){if(Nc){var h=Hd(l);if(h===null)Cd(e,i,l,Dc,a),sv(e,l);else if(Bw(h,e,i,a,l))l.stopPropagation();else if(sv(e,l),i&4&&-1<zw.indexOf(e)){for(;h!==null;){var d=Sn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=li(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-fe(v);T.entanglements[1]|=R,v&=~R}Ii(d),(Ft&6)===0&&(dc=We()+500,pl(0))}}break;case 31:case 13:T=Rs(d,2),T!==null&&cn(T,d,2),gc(),qd(d,2)}if(d=Hd(l),d===null&&Cd(e,i,l,Dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Cd(e,i,l,null,a)}}function Hd(e){return e=xn(e),Gd(e)}var Dc=null;function Gd(e){if(Dc=null,e=di(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=g(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Dc=e,null}function rv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fs()){case So:return 2;case xo:return 8;case cr:case $h:return 32;case uu:return 268435456;default:return 32}default:return 32}}var Qd=!1,Lr=null,Pr=null,Ur=null,wl=new Map,Al=new Map,zr=[],zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sv(e,i){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(i.pointerId)}}function Sl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Sn(i),i!==null&&nv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Bw(e,i,a,l,h){switch(i){case"focusin":return Lr=Sl(Lr,e,i,a,l,h),!0;case"dragenter":return Pr=Sl(Pr,e,i,a,l,h),!0;case"mouseover":return Ur=Sl(Ur,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return wl.set(d,Sl(wl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Al.set(d,Sl(Al.get(d)||null,e,i,a,l,h)),!0}return!1}function av(e){var i=di(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,qn(e.priority,function(){iv(a)});return}}else if(i===31){if(i=g(a),i!==null){e.blockedOn=i,qn(e.priority,function(){iv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Hd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Po=l,a.target.dispatchEvent(l),Po=null}else return i=Sn(a),i!==null&&nv(i),e.blockedOn=a,!1;i.shift()}return!0}function ov(e,i,a){Oc(e)&&a.delete(i)}function qw(){Qd=!1,Lr!==null&&Oc(Lr)&&(Lr=null),Pr!==null&&Oc(Pr)&&(Pr=null),Ur!==null&&Oc(Ur)&&(Ur=null),wl.forEach(ov),Al.forEach(ov)}function Mc(e,i){e.blockedOn===i&&(e.blockedOn=null,Qd||(Qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qw)))}var Vc=null;function lv(e){Vc!==e&&(Vc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vc===e&&(Vc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Gd(l||a)===null)continue;break}var d=Sn(a);d!==null&&(e.splice(i,3),i-=3,Hf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ka(e){function i(R){return Mc(R,e)}Lr!==null&&Mc(Lr,e),Pr!==null&&Mc(Pr,e),Ur!==null&&Mc(Ur,e),wl.forEach(i),Al.forEach(i);for(var a=0;a<zr.length;a++){var l=zr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)av(a),a.blockedOn===null&&zr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[je]||null;if(typeof d=="function")v||lv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[je]||null)T=v.formAction;else if(Gd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),lv(a)}}}function uv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Kd(e){this._internalRoot=e}jc.prototype.render=Kd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Tn();tv(a,l,e,i,null,null)},jc.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;tv(e.current,2,null,e,null,null),gc(),i[hi]=null}};function jc(e){this._internalRoot=e}jc.prototype.unstable_scheduleHydration=function(e){if(e){var i=gu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<zr.length&&i!==0&&i<zr[a].priority;a++);zr.splice(a,0,e),a===0&&av(e)}};var cv=t.version;if(cv!=="19.2.0")throw Error(s(527,cv,"19.2.0"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(i),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Fw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{zn=kc.inject(Fw),Ue=kc}catch{}}return Il.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=yy,d=_y,v=vy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=J_(e,1,!1,null,null,a,l,null,h,d,v,uv),e[hi]=i.current,Rd(e),new Kd(i)},Il.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=yy,v=_y,T=vy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),i=J_(e,1,!0,i,a??null,l,h,R,d,v,T,uv),i.context=W_(null),a=i.current,l=Tn(),l=ps(l),h=Sr(l),h.callback=null,xr(a,h,l),a=l,i.current.lanes=a,ms(i,a),Ii(i),e[hi]=i.current,Rd(e),new jc(i)},Il.version="19.2.0",Il}var Ev;function tA(){if(Ev)return $d.exports;Ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),$d.exports=Ww(),$d.exports}var eA=tA();const nA=oE(eA),iA=({onNavigateHome:r})=>{const[t,n]=Nt.useState(!1),[s,o]=Nt.useState(!1),u=["","",""," "];return Nt.useEffect(()=>{const f=()=>{o(window.scrollY>100)};return window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),y.jsxs("header",{className:"sticky top-0 z-50 transition-all duration-300 shadow-md rounded-b-3xl border-b border-blue-300 overflow-hidden relative",style:{background:"linear-gradient(135deg, #0A1F44 0%, #1e3a6f 100%)"},children:[y.jsx("div",{className:"container mx-auto px-6 py-2 relative z-10",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{children:y.jsx("button",{onClick:r,"aria-label":"Go to homepage",className:"transition-all duration-300 hover:opacity-90",children:y.jsx("div",{className:"bg-white rounded-xl p-2 shadow-lg",children:y.jsx("img",{src:"./logo.png",alt:"Smart Media Logo",className:"h-8"})})})}),y.jsx("nav",{className:"hidden md:flex items-center space-x-8 space-x-reverse",children:u.map(f=>y.jsx("a",{href:"#",onClick:g=>{g.preventDefault(),f===""&&r()},className:"text-white font-semibold hover:text-[#F59E0B] transition-colors duration-300",children:f},f))}),y.jsx("div",{className:"md:hidden",children:y.jsx("button",{onClick:()=>n(!t),className:"text-white focus:outline-none","aria-expanded":t,"aria-controls":"mobile-menu",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:t?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16m-7 6h7"})})})})]})}),t&&y.jsx("div",{id:"mobile-menu",className:"md:hidden bg-[#0A1F44] shadow-lg",children:y.jsx("nav",{className:"flex flex-col",children:u.map((f,g)=>y.jsx("a",{href:"#",onClick:p=>{p.preventDefault(),n(!1),f===""&&r()},className:`text-white font-semibold hover:bg-white/10 transition-colors duration-200 py-4 px-6 text-right ${g!==u.length-1?"border-b border-white/10":""}`,children:f},f))})})]})},rA=()=>y.jsxs("section",{className:"relative pt-32 pb-10 overflow-hidden -mt-20",style:{background:"linear-gradient(135deg, #0A1F44 0%, #1e3a6f 50%, #2d4a7c 100%)"},children:[y.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 rounded-full filter blur-3xl",style:{background:"radial-gradient(circle, rgba(236, 72, 153, 0.15) 0%, rgba(249, 115, 22, 0.1) 50%, rgba(251, 191, 36, 0.08) 100%)"}}),y.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 rounded-full filter blur-3xl",style:{background:"radial-gradient(circle, rgba(59, 130, 246, 0.12) 0%, rgba(251, 191, 36, 0.08) 100%)"}}),y.jsxs("div",{className:"absolute inset-0 opacity-5",children:[y.jsx("div",{className:"absolute top-20 left-10",children:y.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-blue-300",children:[y.jsx("path",{d:"M3 3v18h18"}),y.jsx("path",{d:"M18 17V9"}),y.jsx("path",{d:"M13 17V5"}),y.jsx("path",{d:"M8 17v-3"})]})}),y.jsx("div",{className:"absolute top-32 right-16 rotate-12",children:y.jsxs("svg",{width:"70",height:"70",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-pink-400",children:[y.jsx("path",{d:"M3 11v3a1 1 0 0 0 1 1h1.5a1 1 0 0 0 .8-.4l2.2-2.9a1 1 0 0 1 .8-.4h9.4a1 1 0 0 1 .9 1.5l-1.4 3a1 1 0 0 1-.9.6H13"}),y.jsx("path",{d:"M13 15v4a1 1 0 0 1-1 1H9"})]})}),y.jsx("div",{className:"absolute bottom-32 left-1/4",children:y.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-orange-400",children:[y.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),y.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),y.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),y.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]})}),y.jsx("div",{className:"absolute top-1/3 right-1/3 -rotate-12",children:y.jsx("svg",{width:"55",height:"55",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-yellow-300",children:y.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),y.jsx("div",{className:"absolute bottom-24 right-12",children:y.jsxs("svg",{width:"75",height:"75",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-blue-300",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("circle",{cx:"12",cy:"12",r:"6"}),y.jsx("circle",{cx:"12",cy:"12",r:"2"})]})}),y.jsx("div",{className:"absolute top-1/2 left-16 rotate-45",children:y.jsx("svg",{width:"50",height:"50",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-pink-400",children:y.jsx("path",{d:"M12 19V5M5 12l7-7 7 7"})})})]}),y.jsx("div",{className:"container mx-auto px-6 z-10 relative text-white",children:y.jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[y.jsxs("div",{className:"lg:w-1/2 text-center lg:text-right mb-10 lg:mb-0",children:[y.jsx("h1",{className:"text-5xl md:text-7xl font-extrabold leading-tight mb-4 tracking-tight",children:"Smart Media"}),y.jsx("p",{className:"text-2xl md:text-3xl font-bold text-[#F59E0B] mb-4",children:"    "}),y.jsx("p",{className:"text-lg md:text-xl text-gray-300 mb-8 max-w-xl mx-auto lg:mx-0",children:"                       ."}),y.jsx("a",{href:"#",className:"inline-block bg-[#F59E0B] hover:bg-[#EF8C00] text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-105 duration-300 shadow-lg",children:"  "})]}),y.jsx("div",{className:"lg:w-1/2 flex justify-center lg:justify-start",children:y.jsxs("div",{className:"relative w-[300px] h-[300px] md:w-[450px] md:h-[450px]",children:[y.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:y.jsxs("div",{className:"relative w-40 h-72 md:w-48 md:h-80 bg-gradient-to-br from-gray-800 to-gray-900 rounded-3xl shadow-2xl border-4 border-gray-700 overflow-hidden",children:[y.jsx("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 w-16 h-1 bg-gray-700 rounded-full"}),y.jsxs("div",{className:"mt-8 p-4 space-y-3",children:[y.jsx("div",{className:"h-3 bg-gradient-to-r from-pink-500 to-orange-400 rounded w-3/4"}),y.jsx("div",{className:"h-3 bg-gradient-to-r from-blue-500 to-blue-300 rounded w-1/2"}),y.jsx("div",{className:"h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-lg"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-pink-400 to-red-500 rounded-lg"}),y.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg"}),y.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-orange-400 to-yellow-500 rounded-lg"})]})]})]})}),y.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 md:w-32 md:h-32 bg-white/95 rounded-2xl shadow-xl p-3 md:p-4 backdrop-blur-sm z-20 transform -rotate-6 hover:rotate-0 transition-transform duration-300",children:y.jsxs("svg",{className:"w-full h-full text-blue-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M3 3v18h18"}),y.jsx("path",{d:"M18 17V9"}),y.jsx("path",{d:"M13 17V5"}),y.jsx("path",{d:"M8 17v-3"})]})}),y.jsx("div",{className:"absolute top-4 right-0 w-20 h-20 md:w-28 md:h-28 bg-gradient-to-br from-pink-500 to-orange-400 rounded-2xl shadow-xl p-3 md:p-4 z-20 transform rotate-12 hover:rotate-6 transition-transform duration-300",children:y.jsxs("svg",{className:"w-full h-full text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),y.jsx("circle",{cx:"12",cy:"13",r:"4"})]})}),y.jsx("div",{className:"absolute bottom-8 left-4 w-28 h-16 md:w-36 md:h-20 bg-white/95 rounded-xl shadow-xl p-2 md:p-3 backdrop-blur-sm z-20 transform -rotate-3 hover:rotate-0 transition-transform duration-300",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-400 to-red-500 rounded-full flex items-center justify-center",children:y.jsx("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:y.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"h-2 bg-gradient-to-r from-orange-400 to-yellow-400 rounded w-full mb-1"}),y.jsx("div",{className:"h-2 bg-gray-200 rounded w-2/3"})]})]})}),y.jsx("div",{className:"absolute bottom-0 right-4 w-20 h-20 md:w-24 md:h-24 bg-gradient-to-br from-blue-600 to-blue-800 rounded-2xl shadow-xl p-3 z-20 transform rotate-6 hover:rotate-0 transition-transform duration-300 flex items-center justify-center",children:y.jsxs("svg",{className:"w-full h-full text-yellow-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),y.jsx("path",{d:"M2 17l10 5 10-5"}),y.jsx("path",{d:"M2 12l10 5 10-5"})]})}),y.jsxs("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-8 hidden md:flex flex-col gap-3",children:[y.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-pink-500 to-orange-400 rounded-full shadow-lg animate-pulse"}),y.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-blue-400 to-blue-600 rounded-full shadow-lg"}),y.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full shadow-lg"})]})]})})]})}),y.jsx("div",{className:"absolute bottom-0 left-0 w-full h-20 overflow-hidden",style:{lineHeight:0},children:y.jsx("svg",{viewBox:"0 0 1440 120",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full block",preserveAspectRatio:"none",children:y.jsx("path",{d:"M1440,80 C1200,80 1200,20 960,20 C720,20 720,80 480,80 C240,80 240,20 0,20 L0,120 L1440,120 Z",fill:"#F9FAFB"})})})]}),sA=({className:r})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:[y.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),y.jsx("path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6"})]}),aA=({className:r})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("circle",{cx:"12",cy:"12",r:"6"}),y.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),oA=({className:r})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:[y.jsx("circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}),y.jsx("circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}),y.jsx("circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}),y.jsx("circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor"}),y.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"})]}),lA=({className:r})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:[y.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),y.jsx("path",{d:"M7 3v18"}),y.jsx("path",{d:"M3 7.5h4"}),y.jsx("path",{d:"M3 12h18"}),y.jsx("path",{d:"M3 16.5h4"}),y.jsx("path",{d:"M17 3v18"}),y.jsx("path",{d:"M17 7.5h4"}),y.jsx("path",{d:"M17 16.5h4"})]}),uA=({className:r})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:[y.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),y.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),y.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"})]}),tm=({className:r})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:[y.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),y.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),lE=({className:r})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:y.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})}),cA=({className:r})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:y.jsx("path",{d:"M22 4s-.7 2.1-2 3.4c1.6 1.4 3.3 4.4 3.3 4.4s-1.4 1.3-3.3 1.3c-2 0-2.7-1.3-2.7-1.3s-1.4 1.3-2.7 1.3c-2 0-6.7-1.3-6.7-1.3s-1.4 1.3-2.7 1.3c-2 0-2.7-1.3-2.7-1.3s-1.4 1.3-2.7 1.3c-2 0-3.3-1.3-3.3-1.3s.7-2.1 2-3.4c-1.6-1.4-3.3-4.4-3.3-4.4s1.4-1.3 3.3-1.3c2 0 2.7 1.3 2.7 1.3s1.4-1.3 2.7-1.3c2 0 6.7 1.3 6.7 1.3s1.4-1.3 2.7-1.3c2 0 2.7 1.3 2.7 1.3s1.4-1.3 3.3-1.3c2 0 3.3 1.3 3.3 1.3z"})}),uE=({className:r})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:[y.jsx("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5"}),y.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),y.jsx("line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5"})]}),hA=({className:r})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:y.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),fA=({className:r})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:y.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),dA=({className:r})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:[y.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),y.jsx("polyline",{points:"22,6 12,13 2,6"})]}),mA=()=>{};var Tv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},gA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],g=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,g=f?r[o+1]:0,p=o+2<r.length,_=p?r[o+2]:0,b=u>>2,A=(u&3)<<4|g>>4;let N=(g&15)<<2|_>>6,H=_&63;p||(H=64,f||(N=64)),s.push(n[b],n[A],n[N],n[H])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(cE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):gA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],g=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||g==null||_==null||A==null)throw new pA;const N=u<<2|g>>4;if(s.push(N),_!==64){const H=g<<4&240|_>>2;if(s.push(H),A!==64){const Z=_<<6&192|A;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class pA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yA=function(r){const t=cE(r);return hE.encodeByteArray(t,!0)},th=function(r){return yA(r).replace(/\./g,"")},fE=function(r){try{return hE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=()=>_A().__FIREBASE_DEFAULTS__,EA=()=>{if(typeof process>"u"||typeof Tv>"u")return;const r=Tv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},TA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&fE(r[1]);return t&&JSON.parse(t)},Th=()=>{try{return mA()||vA()||EA()||TA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},dE=r=>{var t,n;return(n=(t=Th())==null?void 0:t.emulatorHosts)==null?void 0:n[r]},bA=r=>{const t=dE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},mE=()=>{var r;return(r=Th())==null?void 0:r.config},gE=r=>{var t;return(t=Th())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[th(JSON.stringify(n)),th(JSON.stringify(f)),""].join(".")}const Vl={};function SA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Vl))Vl[t]?r.emulator.push(t):r.prod.push(t);return r}function xA(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let bv=!1;function yE(r,t){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Vl[r]===t||Vl[r]||bv)return;Vl[r]=t;function n(N){return`__firebase__banner__${N}`}const s="__firebase__banner",u=SA().prod.length>0;function f(){const N=document.getElementById(s);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,H){N.setAttribute("width","24"),N.setAttribute("id",H),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{bv=!0,f()},N}function b(N,H){N.setAttribute("id",H),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=xA(s),H=n("text"),Z=document.getElementById(H)||document.createElement("span"),et=n("learnmore"),W=document.getElementById(et)||document.createElement("a"),dt=n("preprendIcon"),yt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ht=N.element;g(ht),b(W,et);const kt=_();p(yt,dt),ht.append(yt,Z,W,kt),document.body.appendChild(ht)}u?(Z.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function RA(){var t;const r=(t=Th())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _E(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function NA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DA(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function OA(){return!RA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vE(){try{return typeof indexedDB=="object"}catch{return!1}}function EE(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}function MA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="FirebaseError";class ri extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=VA,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$s.prototype.create)}}class $s{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?jA(u,s):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new ri(o,g,s)}}function jA(r,t){return r.replace(kA,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const kA=/\{\$([^}]+)}/g;function LA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ts(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(wv(u)&&wv(f)){if(!ts(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function wv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Rl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Cl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function PA(r,t){const n=new UA(r,t);return n.subscribe.bind(n)}class UA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");zA(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=em),o.error===void 0&&(o.error=em),o.complete===void 0&&(o.complete=em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zA(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=1e3,qA=2,FA=14400*1e3,HA=.5;function Av(r,t=BA,n=qA){const s=t*Math.pow(n,r),o=Math.round(HA*s*(Math.random()-.5)*2);return Math.min(FA,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r){return r&&r._delegate?r._delegate:r}class ti{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new wA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(KA(t))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bs){return this.instances.has(t)}getOptions(t=Bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QA(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Bs){return this.component?this.component.multipleInstances?t:Bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QA(r){return r===Bs?void 0:r}function KA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new GA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const XA={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},$A=Dt.INFO,ZA={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},JA=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=ZA[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bh{constructor(t){this.name=t,this._logLevel=$A,this._logHandler=JA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const WA=(r,t)=>t.some(n=>r instanceof n);let Sv,xv;function tS(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eS(){return xv||(xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TE=new WeakMap,vm=new WeakMap,bE=new WeakMap,nm=new WeakMap,Km=new WeakMap;function nS(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Xr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&TE.set(n,r)}).catch(()=>{}),Km.set(t,r),t}function iS(r){if(vm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});vm.set(r,t)}let Em={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return vm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||bE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function rS(r){Em=r(Em)}function sS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(im(this),t,...n);return bE.set(s,t.sort?t.sort():[t]),Xr(s)}:eS().includes(r)?function(...t){return r.apply(im(this),t),Xr(TE.get(this))}:function(...t){return Xr(r.apply(im(this),t))}}function aS(r){return typeof r=="function"?sS(r):(r instanceof IDBTransaction&&iS(r),WA(r,tS())?new Proxy(r,Em):r)}function Xr(r){if(r instanceof IDBRequest)return nS(r);if(nm.has(r))return nm.get(r);const t=aS(r);return t!==r&&(nm.set(r,t),Km.set(t,r)),t}const im=r=>Km.get(r);function wE(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),g=Xr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Xr(f.result),p.oldVersion,p.newVersion,Xr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const oS=["get","getKey","getAll","getAllKeys","count"],lS=["put","add","delete","clear"],rm=new Map;function Iv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(rm.get(t))return rm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=lS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||oS.includes(n)))return;const u=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),o&&p.done]))[0]};return rm.set(t,u),u}rS(r=>({...r,get:(t,n,s)=>Iv(t,n)||r.get(t,n,s),has:(t,n)=>!!Iv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function cS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Tm="@firebase/app",Rv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new bh("@firebase/app"),hS="@firebase/app-compat",fS="@firebase/analytics-compat",dS="@firebase/analytics",mS="@firebase/app-check-compat",gS="@firebase/app-check",pS="@firebase/auth",yS="@firebase/auth-compat",_S="@firebase/database",vS="@firebase/data-connect",ES="@firebase/database-compat",TS="@firebase/functions",bS="@firebase/functions-compat",wS="@firebase/installations",AS="@firebase/installations-compat",SS="@firebase/messaging",xS="@firebase/messaging-compat",IS="@firebase/performance",RS="@firebase/performance-compat",CS="@firebase/remote-config",NS="@firebase/remote-config-compat",DS="@firebase/storage",OS="@firebase/storage-compat",MS="@firebase/firestore",VS="@firebase/ai",jS="@firebase/firestore-compat",kS="firebase",LS="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="[DEFAULT]",PS={[Tm]:"fire-core",[hS]:"fire-core-compat",[dS]:"fire-analytics",[fS]:"fire-analytics-compat",[gS]:"fire-app-check",[mS]:"fire-app-check-compat",[pS]:"fire-auth",[yS]:"fire-auth-compat",[_S]:"fire-rtdb",[vS]:"fire-data-connect",[ES]:"fire-rtdb-compat",[TS]:"fire-fn",[bS]:"fire-fn-compat",[wS]:"fire-iid",[AS]:"fire-iid-compat",[SS]:"fire-fcm",[xS]:"fire-fcm-compat",[IS]:"fire-perf",[RS]:"fire-perf-compat",[CS]:"fire-rc",[NS]:"fire-rc-compat",[DS]:"fire-gcs",[OS]:"fire-gcs-compat",[MS]:"fire-fst",[jS]:"fire-fst-compat",[VS]:"fire-vertex","fire-js":"fire-js",[kS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,US=new Map,wm=new Map;function Cv(r,t){try{r.container.addComponent(t)}catch(n){sr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function ji(r){const t=r.name;if(wm.has(t))return sr.debug(`There were multiple attempts to register component ${t}.`),!1;wm.set(t,r);for(const n of eh.values())Cv(n,r);for(const n of US.values())Cv(n,r);return!0}function Zs(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Jn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new $s("app","Firebase",zS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=LS;function AE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:bm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw $r.create("bad-app-name",{appName:String(o)});if(n||(n=mE()),!n)throw $r.create("no-options");const u=eh.get(o);if(u){if(ts(n,u.options)&&ts(s,u.config))return u;throw $r.create("duplicate-app",{appName:o})}const f=new YA(o);for(const p of wm.values())f.addComponent(p);const g=new BS(n,s,f);return eh.set(o,g),g}function Ym(r=bm){const t=eh.get(r);if(!t&&r===bm&&mE())return AE();if(!t)throw $r.create("no-app",{appName:r});return t}function Pn(r,t,n){let s=PS[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),sr.warn(f.join(" "));return}ji(new ti(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firebase-heartbeat-database",FS=1,zl="firebase-heartbeat-store";let sm=null;function SE(){return sm||(sm=wE(qS,FS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw $r.create("idb-open",{originalErrorMessage:r.message})})),sm}async function HS(r){try{const n=(await SE()).transaction(zl),s=await n.objectStore(zl).get(xE(r));return await n.done,s}catch(t){if(t instanceof ri)sr.warn(t.message);else{const n=$r.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});sr.warn(n.message)}}}async function Nv(r,t){try{const s=(await SE()).transaction(zl,"readwrite");await s.objectStore(zl).put(t,xE(r)),await s.done}catch(n){if(n instanceof ri)sr.warn(n.message);else{const s=$r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sr.warn(s.message)}}}function xE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=1024,QS=30;class KS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Dv();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>QS){const f=$S(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){sr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dv(),{heartbeatsToSend:s,unsentEntries:o}=YS(this._heartbeatsCache.heartbeats),u=th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return sr.warn(n),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function YS(r,t=GS){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Ov(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ov(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class XS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vE()?EE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Ov(r){return th(JSON.stringify({version:2,heartbeats:r})).length}function $S(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(r){ji(new ti("platform-logger",t=>new uS(t),"PRIVATE")),ji(new ti("heartbeat",t=>new KS(t),"PRIVATE")),Pn(Tm,Rv,r),Pn(Tm,Rv,"esm2020"),Pn("fire-js","")}ZS("");var JS="firebase",WS="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn(JS,WS,"app");const IE="@firebase/installations",Xm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=1e4,CE=`w:${Xm}`,NE="FIS_v2",t2="https://firebaseinstallations.googleapis.com/v1",e2=3600*1e3,n2="installations",i2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Gs=new $s(n2,i2,r2);function DE(r){return r instanceof ri&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE({projectId:r}){return`${t2}/projects/${r}/installations`}function ME(r){return{token:r.token,requestStatus:2,expiresIn:a2(r.expiresIn),creationTime:Date.now()}}async function VE(r,t){const s=(await t.json()).error;return Gs.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function jE({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function s2(r,{refreshToken:t}){const n=jE(r);return n.append("Authorization",o2(t)),n}async function kE(r){const t=await r();return t.status>=500&&t.status<600?r():t}function a2(r){return Number(r.replace("s","000"))}function o2(r){return`${NE} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const s=OE(r),o=jE(r),u=t.getImmediate({optional:!0});if(u){const _=await u.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const f={fid:n,authVersion:NE,appId:r.appId,sdkVersion:CE},g={method:"POST",headers:o,body:JSON.stringify(f)},p=await kE(()=>fetch(s,g));if(p.ok){const _=await p.json();return{fid:_.fid||n,registrationStatus:2,refreshToken:_.refreshToken,authToken:ME(_.authToken)}}else throw await VE("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=/^[cdef][\w-]{21}$/,Am="";function h2(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=f2(r);return c2.test(n)?n:Am}catch{return Am}}function f2(r){return u2(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;function UE(r,t){const n=wh(r);zE(n,t),d2(n,t)}function zE(r,t){const n=PE.get(r);if(n)for(const s of n)s(t)}function d2(r,t){const n=m2();n&&n.postMessage({key:r,fid:t}),g2()}let qs=null;function m2(){return!qs&&"BroadcastChannel"in self&&(qs=new BroadcastChannel("[Firebase] FID Change"),qs.onmessage=r=>{zE(r.data.key,r.data.fid)}),qs}function g2(){PE.size===0&&qs&&(qs.close(),qs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="firebase-installations-database",y2=1,Qs="firebase-installations-store";let am=null;function $m(){return am||(am=wE(p2,y2,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Qs)}}})),am}async function nh(r,t){const n=wh(r),o=(await $m()).transaction(Qs,"readwrite"),u=o.objectStore(Qs),f=await u.get(n);return await u.put(t,n),await o.done,(!f||f.fid!==t.fid)&&UE(r,t.fid),t}async function BE(r){const t=wh(r),s=(await $m()).transaction(Qs,"readwrite");await s.objectStore(Qs).delete(t),await s.done}async function Ah(r,t){const n=wh(r),o=(await $m()).transaction(Qs,"readwrite"),u=o.objectStore(Qs),f=await u.get(n),g=t(f);return g===void 0?await u.delete(n):await u.put(g,n),await o.done,g&&(!f||f.fid!==g.fid)&&UE(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zm(r){let t;const n=await Ah(r.appConfig,s=>{const o=_2(s),u=v2(r,o);return t=u.registrationPromise,u.installationEntry});return n.fid===Am?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function _2(r){const t=r||{fid:h2(),registrationStatus:0};return qE(t)}function v2(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Gs.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=E2(r,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:T2(r)}:{installationEntry:t}}async function E2(r,t){try{const n=await l2(r,t);return nh(r.appConfig,n)}catch(n){throw DE(n)&&n.customData.serverCode===409?await BE(r.appConfig):await nh(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function T2(r){let t=await Mv(r.appConfig);for(;t.registrationStatus===1;)await LE(100),t=await Mv(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Zm(r);return s||n}return t}function Mv(r){return Ah(r,t=>{if(!t)throw Gs.create("installation-not-found");return qE(t)})}function qE(r){return b2(r)?{fid:r.fid,registrationStatus:0}:r}function b2(r){return r.registrationStatus===1&&r.registrationTime+RE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2({appConfig:r,heartbeatServiceProvider:t},n){const s=A2(r,n),o=s2(r,n),u=t.getImmediate({optional:!0});if(u){const _=await u.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const f={installation:{sdkVersion:CE,appId:r.appId}},g={method:"POST",headers:o,body:JSON.stringify(f)},p=await kE(()=>fetch(s,g));if(p.ok){const _=await p.json();return ME(_)}else throw await VE("Generate Auth Token",p)}function A2(r,{fid:t}){return`${OE(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jm(r,t=!1){let n;const s=await Ah(r.appConfig,u=>{if(!FE(u))throw Gs.create("not-registered");const f=u.authToken;if(!t&&I2(f))return u;if(f.requestStatus===1)return n=S2(r,t),u;{if(!navigator.onLine)throw Gs.create("app-offline");const g=C2(u);return n=x2(r,g),g}});return n?await n:s.authToken}async function S2(r,t){let n=await Vv(r.appConfig);for(;n.authToken.requestStatus===1;)await LE(100),n=await Vv(r.appConfig);const s=n.authToken;return s.requestStatus===0?Jm(r,t):s}function Vv(r){return Ah(r,t=>{if(!FE(t))throw Gs.create("not-registered");const n=t.authToken;return N2(n)?{...t,authToken:{requestStatus:0}}:t})}async function x2(r,t){try{const n=await w2(r,t),s={...t,authToken:n};return await nh(r.appConfig,s),n}catch(n){if(DE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await BE(r.appConfig);else{const s={...t,authToken:{requestStatus:0}};await nh(r.appConfig,s)}throw n}}function FE(r){return r!==void 0&&r.registrationStatus===2}function I2(r){return r.requestStatus===2&&!R2(r)}function R2(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+e2}function C2(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function N2(r){return r.requestStatus===1&&r.requestTime+RE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(r){const t=r,{installationEntry:n,registrationPromise:s}=await Zm(t);return s?s.catch(console.error):Jm(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(r,t=!1){const n=r;return await M2(n),(await Jm(n,t)).token}async function M2(r){const{registrationPromise:t}=await Zm(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(r){if(!r||!r.options)throw om("App Configuration");if(!r.name)throw om("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw om(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function om(r){return Gs.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="installations",j2="installations-internal",k2=r=>{const t=r.getProvider("app").getImmediate(),n=V2(t),s=Zs(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},L2=r=>{const t=r.getProvider("app").getImmediate(),n=Zs(t,HE).getImmediate();return{getId:()=>D2(n),getToken:o=>O2(n,o)}};function P2(){ji(new ti(HE,k2,"PUBLIC")),ji(new ti(j2,L2,"PRIVATE"))}P2();Pn(IE,Xm);Pn(IE,Xm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="analytics",U2="firebase_id",z2="origin",B2=60*1e3,q2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new bh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new $s("analytics","Analytics",F2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(r){if(!r.startsWith(Wm)){const t=wn.create("invalid-gtag-resource",{gtagURL:r});return nn.warn(t.message),""}return r}function GE(r){return Promise.all(r.map(t=>t.catch(n=>n)))}function G2(r,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,t)),n}function Q2(r,t){const n=G2("firebase-js-sdk-policy",{createScriptURL:H2}),s=document.createElement("script"),o=`${Wm}?l=${r}&id=${t}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function K2(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function Y2(r,t,n,s,o,u){const f=s[o];try{if(f)await t[f];else{const p=(await GE(n)).find(_=>_.measurementId===o);p&&await t[p.appId]}}catch(g){nn.error(g)}r("config",o,u)}async function X2(r,t,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const g=await GE(n);for(const p of f){const _=g.find(A=>A.measurementId===p),b=_&&t[_.appId];if(b)u.push(b);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),r("event",s,o||{})}catch(u){nn.error(u)}}function $2(r,t,n,s){async function o(u,...f){try{if(u==="event"){const[g,p]=f;await X2(r,t,n,g,p)}else if(u==="config"){const[g,p]=f;await Y2(r,t,n,s,g,p)}else if(u==="consent"){const[g,p]=f;r("consent",g,p)}else if(u==="get"){const[g,p,_]=f;r("get",g,p,_)}else if(u==="set"){const[g]=f;r("set",g)}else r(u,...f)}catch(g){nn.error(g)}}return o}function Z2(r,t,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=$2(u,r,t,n),{gtagCore:u,wrappedGtag:window[o]}}function J2(r){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Wm)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=30,tx=1e3;class ex{constructor(t={},n=tx){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const QE=new ex;function nx(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function ix(r){var f;const{appId:t,apiKey:n}=r,s={method:"GET",headers:nx(n)},o=q2.replace("{app-id}",t),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let g="";try{const p=await u.json();(f=p.error)!=null&&f.message&&(g=p.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:g})}return u.json()}async function rx(r,t=QE,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw wn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw wn.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new ox;return setTimeout(async()=>{g.abort()},B2),KE({appId:s,apiKey:o,measurementId:u},f,g,t)}async function KE(r,{throttleEndTimeMillis:t,backoffCount:n},s,o=QE){var g;const{appId:u,measurementId:f}=r;try{await sx(s,t)}catch(p){if(f)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:f};throw p}try{const p=await ix(r);return o.deleteThrottleMetadata(u),p}catch(p){const _=p;if(!ax(_)){if(o.deleteThrottleMetadata(u),f)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:u,measurementId:f};throw p}const b=Number((g=_==null?void 0:_.customData)==null?void 0:g.httpStatus)===503?Av(n,o.intervalMillis,W2):Av(n,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+b,backoffCount:n+1};return o.setThrottleMetadata(u,A),nn.debug(`Calling attemptFetch again in ${b} millis`),KE(r,A,s,o)}}function sx(r,t){return new Promise((n,s)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(wn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function ax(r){if(!(r instanceof ri)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class ox{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function lx(r,t,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await t,f={...s,send_to:u};r("event",n,f)}}async function ux(r,t,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return r("set",o),Promise.resolve()}else{const o=await t;r("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(){if(vE())try{await EE()}catch(r){return nn.warn(wn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return nn.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function hx(r,t,n,s,o,u,f){const g=rx(r);g.then(N=>{n[N.measurementId]=N.appId,r.options.measurementId&&N.measurementId!==r.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>nn.error(N)),t.push(g);const p=cx().then(N=>{if(N)return s.getId()}),[_,b]=await Promise.all([g,p]);J2(u)||Q2(u,_.measurementId),o("js",new Date);const A=(f==null?void 0:f.config)??{};return A[z2]="firebase",A.update=!0,b!=null&&(A[U2]=b),o("config",_.measurementId,A),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t){this.app=t}_delete(){return delete Wa[this.app.options.appId],Promise.resolve()}}let Wa={},jv=[];const kv={};let lm="dataLayer",dx="gtag",Lv,tg,Pv=!1;function mx(){const r=[];if(_E()&&r.push("This is a browser extension environment."),MA()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=wn.create("invalid-analytics-context",{errorInfo:t});nn.warn(n.message)}}function gx(r,t,n){mx();const s=r.options.appId;if(!s)throw wn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(Wa[s]!=null)throw wn.create("already-exists",{id:s});if(!Pv){K2(lm);const{wrappedGtag:u,gtagCore:f}=Z2(Wa,jv,kv,lm,dx);tg=u,Lv=f,Pv=!0}return Wa[s]=hx(r,jv,kv,t,Lv,lm,n),new fx(r)}function px(r=Ym()){r=_e(r);const t=Zs(r,ih);return t.isInitialized()?t.getImmediate():yx(r)}function yx(r,t={}){const n=Zs(r,ih);if(n.isInitialized()){const o=n.getImmediate();if(ts(t,n.getOptions()))return o;throw wn.create("already-initialized")}return n.initialize({options:t})}function _x(r,t,n){r=_e(r),ux(tg,Wa[r.app.options.appId],t,n).catch(s=>nn.error(s))}function vx(r,t,n,s){r=_e(r),lx(tg,Wa[r.app.options.appId],t,n,s).catch(o=>nn.error(o))}const Uv="@firebase/analytics",zv="0.10.19";function Ex(){ji(new ti(ih,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return gx(s,o,n)},"PUBLIC")),ji(new ti("analytics-internal",r,"PRIVATE")),Pn(Uv,zv),Pn(Uv,zv,"esm2020");function r(t){try{const n=t.getProvider(ih).getImmediate();return{logEvent:(s,o,u)=>vx(n,s,o,u),setUserProperties:(s,o)=>_x(n,s,o)}}catch(n){throw wn.create("interop-component-reg-failed",{reason:n})}}}Ex();var Bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zr,YE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,S){function C(){}C.prototype=S.prototype,x.F=S.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(j,O,L){for(var I=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)I[ee-2]=arguments[ee];return S.prototype[O].apply(j,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,C){C||(C=0);const j=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)j[O]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(O=0;O<16;++O)j[O]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=x.g[0],C=x.g[1],O=x.g[2];let L=x.g[3],I;I=S+(L^C&(O^L))+j[0]+3614090360&4294967295,S=C+(I<<7&4294967295|I>>>25),I=L+(O^S&(C^O))+j[1]+3905402710&4294967295,L=S+(I<<12&4294967295|I>>>20),I=O+(C^L&(S^C))+j[2]+606105819&4294967295,O=L+(I<<17&4294967295|I>>>15),I=C+(S^O&(L^S))+j[3]+3250441966&4294967295,C=O+(I<<22&4294967295|I>>>10),I=S+(L^C&(O^L))+j[4]+4118548399&4294967295,S=C+(I<<7&4294967295|I>>>25),I=L+(O^S&(C^O))+j[5]+1200080426&4294967295,L=S+(I<<12&4294967295|I>>>20),I=O+(C^L&(S^C))+j[6]+2821735955&4294967295,O=L+(I<<17&4294967295|I>>>15),I=C+(S^O&(L^S))+j[7]+4249261313&4294967295,C=O+(I<<22&4294967295|I>>>10),I=S+(L^C&(O^L))+j[8]+1770035416&4294967295,S=C+(I<<7&4294967295|I>>>25),I=L+(O^S&(C^O))+j[9]+2336552879&4294967295,L=S+(I<<12&4294967295|I>>>20),I=O+(C^L&(S^C))+j[10]+4294925233&4294967295,O=L+(I<<17&4294967295|I>>>15),I=C+(S^O&(L^S))+j[11]+2304563134&4294967295,C=O+(I<<22&4294967295|I>>>10),I=S+(L^C&(O^L))+j[12]+1804603682&4294967295,S=C+(I<<7&4294967295|I>>>25),I=L+(O^S&(C^O))+j[13]+4254626195&4294967295,L=S+(I<<12&4294967295|I>>>20),I=O+(C^L&(S^C))+j[14]+2792965006&4294967295,O=L+(I<<17&4294967295|I>>>15),I=C+(S^O&(L^S))+j[15]+1236535329&4294967295,C=O+(I<<22&4294967295|I>>>10),I=S+(O^L&(C^O))+j[1]+4129170786&4294967295,S=C+(I<<5&4294967295|I>>>27),I=L+(C^O&(S^C))+j[6]+3225465664&4294967295,L=S+(I<<9&4294967295|I>>>23),I=O+(S^C&(L^S))+j[11]+643717713&4294967295,O=L+(I<<14&4294967295|I>>>18),I=C+(L^S&(O^L))+j[0]+3921069994&4294967295,C=O+(I<<20&4294967295|I>>>12),I=S+(O^L&(C^O))+j[5]+3593408605&4294967295,S=C+(I<<5&4294967295|I>>>27),I=L+(C^O&(S^C))+j[10]+38016083&4294967295,L=S+(I<<9&4294967295|I>>>23),I=O+(S^C&(L^S))+j[15]+3634488961&4294967295,O=L+(I<<14&4294967295|I>>>18),I=C+(L^S&(O^L))+j[4]+3889429448&4294967295,C=O+(I<<20&4294967295|I>>>12),I=S+(O^L&(C^O))+j[9]+568446438&4294967295,S=C+(I<<5&4294967295|I>>>27),I=L+(C^O&(S^C))+j[14]+3275163606&4294967295,L=S+(I<<9&4294967295|I>>>23),I=O+(S^C&(L^S))+j[3]+4107603335&4294967295,O=L+(I<<14&4294967295|I>>>18),I=C+(L^S&(O^L))+j[8]+1163531501&4294967295,C=O+(I<<20&4294967295|I>>>12),I=S+(O^L&(C^O))+j[13]+2850285829&4294967295,S=C+(I<<5&4294967295|I>>>27),I=L+(C^O&(S^C))+j[2]+4243563512&4294967295,L=S+(I<<9&4294967295|I>>>23),I=O+(S^C&(L^S))+j[7]+1735328473&4294967295,O=L+(I<<14&4294967295|I>>>18),I=C+(L^S&(O^L))+j[12]+2368359562&4294967295,C=O+(I<<20&4294967295|I>>>12),I=S+(C^O^L)+j[5]+4294588738&4294967295,S=C+(I<<4&4294967295|I>>>28),I=L+(S^C^O)+j[8]+2272392833&4294967295,L=S+(I<<11&4294967295|I>>>21),I=O+(L^S^C)+j[11]+1839030562&4294967295,O=L+(I<<16&4294967295|I>>>16),I=C+(O^L^S)+j[14]+4259657740&4294967295,C=O+(I<<23&4294967295|I>>>9),I=S+(C^O^L)+j[1]+2763975236&4294967295,S=C+(I<<4&4294967295|I>>>28),I=L+(S^C^O)+j[4]+1272893353&4294967295,L=S+(I<<11&4294967295|I>>>21),I=O+(L^S^C)+j[7]+4139469664&4294967295,O=L+(I<<16&4294967295|I>>>16),I=C+(O^L^S)+j[10]+3200236656&4294967295,C=O+(I<<23&4294967295|I>>>9),I=S+(C^O^L)+j[13]+681279174&4294967295,S=C+(I<<4&4294967295|I>>>28),I=L+(S^C^O)+j[0]+3936430074&4294967295,L=S+(I<<11&4294967295|I>>>21),I=O+(L^S^C)+j[3]+3572445317&4294967295,O=L+(I<<16&4294967295|I>>>16),I=C+(O^L^S)+j[6]+76029189&4294967295,C=O+(I<<23&4294967295|I>>>9),I=S+(C^O^L)+j[9]+3654602809&4294967295,S=C+(I<<4&4294967295|I>>>28),I=L+(S^C^O)+j[12]+3873151461&4294967295,L=S+(I<<11&4294967295|I>>>21),I=O+(L^S^C)+j[15]+530742520&4294967295,O=L+(I<<16&4294967295|I>>>16),I=C+(O^L^S)+j[2]+3299628645&4294967295,C=O+(I<<23&4294967295|I>>>9),I=S+(O^(C|~L))+j[0]+4096336452&4294967295,S=C+(I<<6&4294967295|I>>>26),I=L+(C^(S|~O))+j[7]+1126891415&4294967295,L=S+(I<<10&4294967295|I>>>22),I=O+(S^(L|~C))+j[14]+2878612391&4294967295,O=L+(I<<15&4294967295|I>>>17),I=C+(L^(O|~S))+j[5]+4237533241&4294967295,C=O+(I<<21&4294967295|I>>>11),I=S+(O^(C|~L))+j[12]+1700485571&4294967295,S=C+(I<<6&4294967295|I>>>26),I=L+(C^(S|~O))+j[3]+2399980690&4294967295,L=S+(I<<10&4294967295|I>>>22),I=O+(S^(L|~C))+j[10]+4293915773&4294967295,O=L+(I<<15&4294967295|I>>>17),I=C+(L^(O|~S))+j[1]+2240044497&4294967295,C=O+(I<<21&4294967295|I>>>11),I=S+(O^(C|~L))+j[8]+1873313359&4294967295,S=C+(I<<6&4294967295|I>>>26),I=L+(C^(S|~O))+j[15]+4264355552&4294967295,L=S+(I<<10&4294967295|I>>>22),I=O+(S^(L|~C))+j[6]+2734768916&4294967295,O=L+(I<<15&4294967295|I>>>17),I=C+(L^(O|~S))+j[13]+1309151649&4294967295,C=O+(I<<21&4294967295|I>>>11),I=S+(O^(C|~L))+j[4]+4149444226&4294967295,S=C+(I<<6&4294967295|I>>>26),I=L+(C^(S|~O))+j[11]+3174756917&4294967295,L=S+(I<<10&4294967295|I>>>22),I=O+(S^(L|~C))+j[2]+718787259&4294967295,O=L+(I<<15&4294967295|I>>>17),I=C+(L^(O|~S))+j[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.v=function(x,S){S===void 0&&(S=x.length);const C=S-this.blockSize,j=this.C;let O=this.h,L=0;for(;L<S;){if(O==0)for(;L<=C;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<S;)if(j[O++]=x.charCodeAt(L++),O==this.blockSize){o(this,j),O=0;break}}else for(;L<S;)if(j[O++]=x[L++],O==this.blockSize){o(this,j),O=0;break}}this.h=O,this.o+=S},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)x[S++]=this.g[C]>>>j&255;return x};function u(x,S){var C=g;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=S(x)}function f(x,S){this.h=S;const C=[];let j=!0;for(let O=x.length-1;O>=0;O--){const L=x[O]|0;j&&L==S||(C[O]=L,j=!1)}this.g=C}var g={};function p(x){return-128<=x&&x<128?u(x,function(S){return new f([S|0],S<0?-1:0)}):new f([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return A;if(x<0)return W(_(-x));const S=[];let C=1;for(let j=0;x>=C;j++)S[j]=x/C|0,C*=4294967296;return new f(S,0)}function b(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return W(b(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(S,8));let j=A;for(let L=0;L<x.length;L+=8){var O=Math.min(8,x.length-L);const I=parseInt(x.substring(L,L+O),S);O<8?(O=_(Math.pow(S,O)),j=j.j(O).add(_(I))):(j=j.j(C),j=j.add(_(I)))}return j}var A=p(0),N=p(1),H=p(16777216);r=f.prototype,r.m=function(){if(et(this))return-W(this).m();let x=0,S=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);x+=(j>=0?j:4294967296+j)*S,S*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Z(this))return"0";if(et(this))return"-"+W(this).toString(x);const S=_(Math.pow(x,6));var C=this;let j="";for(;;){const O=kt(C,S).g;C=dt(C,O.j(S));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=O,Z(C))return L+j;for(;L.length<6;)L="0"+L;j=L+j}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Z(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function et(x){return x.h==-1}r.l=function(x){return x=dt(this,x),et(x)?-1:Z(x)?0:1};function W(x){const S=x.g.length,C=[];for(let j=0;j<S;j++)C[j]=~x.g[j];return new f(C,~x.h).add(N)}r.abs=function(){return et(this)?W(this):this},r.add=function(x){const S=Math.max(this.g.length,x.g.length),C=[];let j=0;for(let O=0;O<=S;O++){let L=j+(this.i(O)&65535)+(x.i(O)&65535),I=(L>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);j=I>>>16,L&=65535,I&=65535,C[O]=I<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function dt(x,S){return x.add(W(S))}r.j=function(x){if(Z(this)||Z(x))return A;if(et(this))return et(x)?W(this).j(W(x)):W(W(this).j(x));if(et(x))return W(this.j(W(x)));if(this.l(H)<0&&x.l(H)<0)return _(this.m()*x.m());const S=this.g.length+x.g.length,C=[];for(var j=0;j<2*S;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let O=0;O<x.g.length;O++){const L=this.i(j)>>>16,I=this.i(j)&65535,ee=x.i(O)>>>16,he=x.i(O)&65535;C[2*j+2*O]+=I*he,yt(C,2*j+2*O),C[2*j+2*O+1]+=L*he,yt(C,2*j+2*O+1),C[2*j+2*O+1]+=I*ee,yt(C,2*j+2*O+1),C[2*j+2*O+2]+=L*ee,yt(C,2*j+2*O+2)}for(x=0;x<S;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=S;x<2*S;x++)C[x]=0;return new f(C,0)};function yt(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function ht(x,S){this.g=x,this.h=S}function kt(x,S){if(Z(S))throw Error("division by zero");if(Z(x))return new ht(A,A);if(et(x))return S=kt(W(x),S),new ht(W(S.g),W(S.h));if(et(S))return S=kt(x,W(S)),new ht(W(S.g),S.h);if(x.g.length>30){if(et(x)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var C=N,j=S;j.l(x)<=0;)C=Wt(C),j=Wt(j);var O=St(C,1),L=St(j,1);for(j=St(j,2),C=St(C,2);!Z(j);){var I=L.add(j);I.l(x)<=0&&(O=O.add(C),L=I),j=St(j,1),C=St(C,1)}return S=dt(x,O.j(S)),new ht(O,S)}for(O=A;x.l(S)>=0;){for(C=Math.max(1,Math.floor(x.m()/S.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),L=_(C),I=L.j(S);et(I)||I.l(x)>0;)C-=j,L=_(C),I=L.j(S);Z(L)&&(L=N),O=O.add(L),x=dt(x,I)}return new ht(O,x)}r.B=function(x){return kt(this,x).h},r.and=function(x){const S=Math.max(this.g.length,x.g.length),C=[];for(let j=0;j<S;j++)C[j]=this.i(j)&x.i(j);return new f(C,this.h&x.h)},r.or=function(x){const S=Math.max(this.g.length,x.g.length),C=[];for(let j=0;j<S;j++)C[j]=this.i(j)|x.i(j);return new f(C,this.h|x.h)},r.xor=function(x){const S=Math.max(this.g.length,x.g.length),C=[];for(let j=0;j<S;j++)C[j]=this.i(j)^x.i(j);return new f(C,this.h^x.h)};function Wt(x){const S=x.g.length+1,C=[];for(let j=0;j<S;j++)C[j]=x.i(j)<<1|x.i(j-1)>>>31;return new f(C,x.h)}function St(x,S){const C=S>>5;S%=32;const j=x.g.length-C,O=[];for(let L=0;L<j;L++)O[L]=S>0?x.i(L+C)>>>S|x.i(L+C+1)<<32-S:x.i(L+C);return new f(O,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,YE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=b,Zr=f}).apply(typeof Bv<"u"?Bv:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XE,Nl,$E,Hc,Sm,ZE,JE,WE;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<c.length;++m){var E=c[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)t:{var E=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var P=c[w];if(!(P in E))break t;E=E[P]}c=c[c.length-1],w=E[c],m=m(w),m!=w&&m!=null&&t(E,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var E=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&E.push([w,m[w]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function p(c,m,E){return c.call.apply(c.bind,arguments)}function _(c,m,E){return _=p,_.apply(null,arguments)}function b(c,m){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function A(c,m){function E(){}E.prototype=m.prototype,c.Z=m.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,P,q){for(var tt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)tt[bt-2]=arguments[bt];return m.prototype[P].apply(w,tt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function H(c){const m=c.length;if(m>0){const E=Array(m);for(let w=0;w<m;w++)E[w]=c[w];return E}return[]}function Z(c,m){for(let w=1;w<arguments.length;w++){const P=arguments[w];var E=typeof P;if(E=E!="object"?E:P?Array.isArray(P)?"array":E:"null",E=="array"||E=="object"&&typeof P.length=="number"){E=c.length||0;const q=P.length||0;c.length=E+q;for(let tt=0;tt<q;tt++)c[E+tt]=P[tt]}else c.push(P)}}class et{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(c){f.setTimeout(()=>{throw c},0)}function dt(){var c=x;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,E){const w=ht.get();w.set(m,E),this.h?this.h.next=w:this.g=w,this.h=w}}var ht=new et(()=>new kt,c=>c.reset());class kt{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,St=!1,x=new yt,S=()=>{const c=Promise.resolve(void 0);Wt=()=>{c.then(C)}};function C(){for(var c;c=dt();){try{c.h.call(c.g)}catch(E){W(E)}var m=ht;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}St=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,m),f.removeEventListener("test",E,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function ee(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(ee,O),ee.prototype.init=function(c,m){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(E=="mouseover"?m=c.fromElement:E=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(c,m,E,w,P){this.listener=c,this.proxy=null,this.src=m,this.type=E,this.capture=!!w,this.ha=P,this.key=++G,this.da=this.fa=!1}function lt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vt(c,m,E){for(const w in c)m.call(E,c[w],w,c)}function Bt(c,m){for(const E in c)m.call(void 0,c[E],E,c)}function M(c){const m={};for(const E in c)m[E]=c[E];return m}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(c,m){let E,w;for(let P=1;P<arguments.length;P++){w=arguments[P];for(E in w)c[E]=w[E];for(let q=0;q<V.length;q++)E=V[q],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function it(c){this.src=c,this.g={},this.h=0}it.prototype.add=function(c,m,E,w,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const tt=vt(c,m,w,P);return tt>-1?(m=c[tt],E||(m.fa=!1)):(m=new nt(m,this.src,q,!!w,P),m.fa=E,c.push(m)),m};function mt(c,m){const E=m.type;if(E in c.g){var w=c.g[E],P=Array.prototype.indexOf.call(w,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(w,P,1),q&&(lt(m),c.g[E].length==0&&(delete c.g[E],c.h--))}}function vt(c,m,E,w){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==m&&q.capture==!!E&&q.ha==w)return P}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),De={};function se(c,m,E,w,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)se(c,m[q],E,w,P);return null}return E=Ao(E),c&&c[he]?c.J(m,E,g(w)?!!w.capture:!1,P):cs(c,m,E,!1,w,P)}function cs(c,m,E,w,P,q){if(!m)throw Error("Invalid event type");const tt=g(P)?!!P.capture:!!P;let bt=hs(c);if(bt||(c[Lt]=bt=new it(c)),E=bt.add(m,E,w,tt,q),E.proxy)return E;if(w=ra(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)L||(P=tt),P===void 0&&(P=!1),c.addEventListener(m.toString(),w,P);else if(c.attachEvent)c.attachEvent(ai(m.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ra(){function c(E){return m.call(c.src,c.listener,E)}const m=bo;return c}function sa(c,m,E,w,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)sa(c,m[q],E,w,P);else w=g(w)?!!w.capture:!!w,E=Ao(E),c&&c[he]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],E=vt(m,E,w,P),E>-1&&(lt(m[E]),Array.prototype.splice.call(m,E,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=hs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=vt(m,E,w,P)),(E=c>-1?m[c]:null)&&aa(E))}function aa(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[he])mt(m.i,c);else{var E=c.type,w=c.proxy;m.removeEventListener?m.removeEventListener(E,w,c.capture):m.detachEvent?m.detachEvent(ai(E),w):m.addListener&&m.removeListener&&m.removeListener(w),(E=hs(m))?(mt(E,c),E.h==0&&(E.src=null,m[Lt]=null)):lt(c)}}}function ai(c){return c in De?De[c]:De[c]="on"+c}function bo(c,m){if(c.da)c=!0;else{m=new ee(m,this);const E=c.listener,w=c.ha||c.src;c.fa&&aa(c),c=E.call(w,m)}return c}function hs(c){return c=c[Lt],c instanceof it?c:null}var wo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ao(c){return typeof c=="function"?c:(c[wo]||(c[wo]=function(m){return c.handleEvent(m)}),c[wo])}function ve(){j.call(this),this.i=new it(this),this.M=this,this.G=null}A(ve,j),ve.prototype[he]=!0,ve.prototype.removeEventListener=function(c,m,E,w){sa(this,c,m,E,w)};function Oe(c,m){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var P=m;m=new O(w,c),J(m,P)}P=!0;let q,tt;if(E)for(tt=E.length-1;tt>=0;tt--)q=m.g=E[tt],P=ur(q,w,!0,m)&&P;if(q=m.g=c,P=ur(q,w,!0,m)&&P,P=ur(q,w,!1,m)&&P,E)for(tt=0;tt<E.length;tt++)q=m.g=E[tt],P=ur(q,w,!1,m)&&P}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const E=c.g[m];for(let w=0;w<E.length;w++)lt(E[w]);delete c.g[m],c.h--}}this.G=null},ve.prototype.J=function(c,m,E,w){return this.i.add(String(c),m,!1,E,w)},ve.prototype.K=function(c,m,E,w){return this.i.add(String(c),m,!0,E,w)};function ur(c,m,E,w){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==E){const bt=tt.listener,de=tt.ha||tt.src;tt.fa&&mt(c.i,tt),P=bt.call(de,w)!==!1&&P}}return P&&!w.defaultPrevented}function Xh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function lu(c){c.g=Xh(()=>{c.g=null,c.i&&(c.i=!1,lu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class We extends j{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){j.call(this),this.h=c,this.g={}}A(fs,j);var So=[];function xo(c){Vt(c.g,function(m,E){this.g.hasOwnProperty(E)&&aa(m)},c),c.g={}}fs.prototype.N=function(){fs.Z.N.call(this),xo(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=f.JSON.stringify,$h=f.JSON.parse,uu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function cu(){}function hu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){O.call(this,"d")}A(Ue,O);function An(){O.call(this,"c")}A(An,O);var fe={},fu=null;function oa(){return fu=fu||new ve}fe.Ia="serverreachability";function du(c){O.call(this,fe.Ia,c)}A(du,O);function oi(c){const m=oa();Oe(m,new du(m))}fe.STAT_EVENT="statevent";function ds(c,m){O.call(this,fe.STAT_EVENT,c),this.stat=m}A(ds,O);function Ee(c){const m=oa();Oe(m,new ds(m,c))}fe.Ja="timingevent";function li(c,m){O.call(this,fe.Ja,c),this.size=m}A(li,O);function ui(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Zh(c,m,E,w,P,q){c.info(function(){if(c.g)if(q){var tt="",bt=q.split("&");for(let qt=0;qt<bt.length;qt++){var de=bt[qt].split("=");if(de.length>1){const ae=de[0];de=de[1];const Rn=ae.split("_");tt=Rn.length>=2&&Rn[1]=="type"?tt+(ae+"="+de+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+w+") [attempt "+P+"]: "+m+`
`+E+`
`+tt})}function mu(c,m,E,w,P,q,tt){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+P+"]: "+m+`
`+E+`
`+q+" "+tt})}function ci(c,m,E,w){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jh(c,E)+(w?" "+w:"")})}function ms(c,m){c.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Jh(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var E=q[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var P=w[0];if(P!="noop"&&P!="stop"&&P!="close")for(let tt=1;tt<w.length;tt++)w[tt]=""}}}}return cr(q)}catch{return m}}var gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function ps(){}A(ps,cu),ps.prototype.g=function(){return new XMLHttpRequest},Ro=new ps;function Li(c){return encodeURIComponent(String(c))}function gu(c){var m=1;c=c.split(":");const E=[];for(;m>0&&c.length;)E.push(c.shift()),m--;return c.length&&E.push(c.join(":")),E}function qn(c,m,E,w){this.j=c,this.i=m,this.l=E,this.S=w||1,this.V=new fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Te={},je={};function hi(c,m,E){c.M=1,c.A=ys(we(m)),c.u=E,c.R=!0,la(c,null)}function la(c,m){c.F=Date.now(),fi(c),c.B=we(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),fa(E.i,"t",w),c.C=0,E=c.j.L,c.h=new Fn,c.g=Nu(c.j,E?m:null,!c.u),c.P>0&&(c.O=new We(_(c.Y,c,c.g),c.P)),m=c.V,E=c.g,w=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(So[0]=P.toString()),P=So);for(let q=0;q<P.length;q++){const tt=se(E,P[q],w||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),oi(),Zh(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Qn(c)==3?m.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)t:{const bt=Qn(this.g),de=this.g.ya(),qt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||bt!=4||de==7||(de==8||qt<=0?oi(3):oi(2)),di(this);var m=this.g.ca();this.X=m;var E=Wh(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var w,P=this.g;if((w=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var q=w;break e}}q=null}if(c=q)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,Ee(12),dn(this),Sn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<E.length;)if(ae=yu(this,E),ae==je){bt==4&&(this.m=4,Ee(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Te){this.m=4,Ee(15),ci(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,ae,null),mi(this,ae);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||E.length!=0||this.h.h||(this.m=1,Ee(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,E,"[Invalid Chunked Response]"),dn(this),Sn(this);else if(E.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Fo(tt),tt.P=!0,Ee(11))}}else ci(this.i,this.l,E,null),mi(this,E);bt==4&&dn(this),this.o&&!this.K&&(bt==4?xu(this.j,this):(this.o=!1,fi(this)))}else Ui(this.g),m==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),dn(this),Sn(this)}}}catch{}finally{}};function Wh(c){if(!pu(c))return c.g.la();const m=ze(c.g);if(m==="")return"";let E="";const w=m.length,P=Qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),Sn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<w;q++)c.h.h=!0,E+=c.h.i.decode(m[q],{stream:!(P&&q==w-1)});return m.length=0,c.h.g+=E,c.C=0,c.h.g}function pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yu(c,m){var E=c.C,w=m.indexOf(`
`,E);return w==-1?je:(E=Number(m.substring(E,w)),isNaN(E)?Te:(w+=1,w+E>m.length?je:(m=m.slice(w,w+E),c.C=w+E,m)))}qn.prototype.cancel=function(){this.K=!0,dn(this)};function fi(c){c.T=Date.now()+c.H,ua(c,c.H)}function ua(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ui(_(c.aa,c),m)}function di(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ms(this.i,this.B),this.M!=2&&(oi(),Ee(17)),dn(this),this.m=2,Sn(this)):ua(this,this.T-c)};function Sn(c){c.j.I==0||c.K||xu(c.j,c)}function dn(c){di(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,xo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function mi(c,m){try{var E=c.j;if(E.I!=0&&(E.g==c||pi(E.h,c))){if(!c.L&&pi(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var P=w;if(P[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)ya(E),_r(E);else break t;As(E),Ee(18)}}else E.xa=P[1],0<E.xa-E.K&&P[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ui(_(E.Va,E),6e3));gi(E.h)<=1&&E.ta&&(E.ta=void 0)}else bi(E,11)}else if((c.L||E.g==c)&&ya(E),!I(m))for(P=E.Ba.g.parse(m),m=0;m<P.length;m++){let qt=P[m];const ae=qt[0];if(!(ae<=E.K))if(E.K=ae,qt=qt[1],E.I==2)if(qt[0]=="c"){E.M=qt[1],E.ba=qt[2];const Rn=qt[3];Rn!=null&&(E.ka=Rn,E.j.info("VER="+E.ka));const wi=qt[4];wi!=null&&(E.za=wi,E.j.info("SVER="+E.za));const Kn=qt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(w=1.5*Kn,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const Yn=c.g;if(Yn){const Ss=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var q=w.h;q.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Do(q,q.h),q.h=null))}if(w.G){const _a=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(w.wa=_a,Gt(w.J,w.G,_a))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var tt=c;if(w.na=Cu(w,w.L?w.ba:null,w.W),tt.L){Oo(w.h,tt);var bt=tt,de=w.O;de&&(bt.H=de),bt.D&&(di(bt),fi(bt)),w.g=tt}else Au(w);E.i.length>0&&Ti(E)}else qt[0]!="stop"&&qt[0]!="close"||bi(E,7);else E.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?bi(E,7):Bo(E):qt[0]!="noop"&&E.l&&E.l.qa(qt),E.A=0)}}oi(4)}catch{}}var be=class{constructor(c,m){this.g=c,this.map=m}};function Co(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function pi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Do(c,m){c.g?c.g.add(m):c.h=m}function Oo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Co.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const E of c.g.values())m=m.concat(E.G);return m}return H(c.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(c,m){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let P,q=null;w>=0?(P=c[E].substring(0,w),q=c[E].substring(w+1)):P=c[E],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof mn?(this.l=c.l,ke(this,c.j),this.o=c.o,this.g=c.g,hr(this,c.u),this.h=c.h,Vo(this,bu(c.i)),this.m=c.m):c&&(m=String(c).match(_u))?(this.l=!1,ke(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),hr(this,m[4]),this.h=yi(m[5]||"",!0),Vo(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new dr(null,this.l))}mn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(_s(m,ha,!0),":");var E=this.g;return(E||m=="file")&&(c.push("//"),(m=this.o)&&c.push(_s(m,ha,!0),"@"),c.push(Li(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(_s(E,E.charAt(0)=="/"?jo:vu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",_s(E,Eu)),c.join("")},mn.prototype.resolve=function(c){const m=we(this);let E=!!c.j;E?ke(m,c.j):E=!!c.o,E?m.o=c.o:E=!!c.g,E?m.g=c.g:E=c.u!=null;var w=c.h;if(E)hr(m,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var P=m.h.lastIndexOf("/");P!=-1&&(w=m.h.slice(0,P+1)+w)}if(P=w,P==".."||P==".")w="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){w=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let tt=0;tt<P.length;){const bt=P[tt++];bt=="."?w&&tt==P.length&&q.push(""):bt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),w&&tt==P.length&&q.push("")):(q.push(bt),w=!0)}w=q.join("/")}else w=P}return E?m.h=w:E=c.i.toString()!=="",E?Vo(m,bu(c.i)):E=!!c.m,E&&(m.m=c.m),m};function we(c){return new mn(c)}function ke(c,m,E){c.j=E?yi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function hr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Vo(c,m,E){m instanceof dr?(c.i=m,da(c.i,c.l)):(E||(m=_s(m,fr)),c.i=new dr(m,c.l))}function Gt(c,m,E){c.i.set(m,E)}function ys(c){return Gt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,m,E){return typeof c=="string"?(c=encodeURI(c).replace(m,rn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ha=/[#\/\?@]/g,vu=/[#\?:]/g,jo=/[#\?]/g,fr=/[#\?@]/g,Eu=/#/g;function dr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&ca(c.i,function(m,E){c.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}r=dr.prototype,r.add=function(c,m){sn(this),this.i=null,c=mr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(m),this.h+=1,this};function Tu(c,m){sn(c),m=mr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function ko(c,m){return sn(c),m=mr(c,m),c.g.has(m)}r.forEach=function(c,m){sn(this),this.g.forEach(function(E,w){E.forEach(function(P){c.call(m,P,w,this)},this)},this)};function Lo(c,m){sn(c);let E=[];if(typeof m=="string")ko(c,m)&&(E=E.concat(c.g.get(mr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)E=E.concat(c[m]);return E}r.set=function(c,m){return sn(this),this.i=null,c=mr(this,c),ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Lo(this,c),c.length>0?String(c[0]):m):m};function fa(c,m,E){Tu(c,m),E.length>0&&(c.i=null,c.g.set(mr(c,m),H(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var E=m[w];const P=Li(E);E=Lo(this,E);for(let q=0;q<E.length;q++){let tt=P;E[q]!==""&&(tt+="="+Li(E[q])),c.push(tt)}}return this.i=c.join("&")};function bu(c){const m=new dr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function mr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function da(c,m){m&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(E,w){const P=w.toLowerCase();w!=P&&(Tu(this,w),fa(this,P,E))},c)),c.j=m}function Hn(c,m){const E=new Bn;if(f.Image){const w=new Image;w.onload=b(xn,E,"TestLoadImage: loaded",!0,m,w),w.onerror=b(xn,E,"TestLoadImage: error",!1,m,w),w.onabort=b(xn,E,"TestLoadImage: abort",!1,m,w),w.ontimeout=b(xn,E,"TestLoadImage: timeout",!1,m,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else m(!1)}function Po(c,m){const E=new Bn,w=new AbortController,P=setTimeout(()=>{w.abort(),xn(E,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:w.signal}).then(q=>{clearTimeout(P),q.ok?xn(E,"TestPingServer: ok",!0,m):xn(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),xn(E,"TestPingServer: error",!1,m)})}function xn(c,m,E,w,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),w(E)}catch{}}function gr(){this.g=new uu}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}A(_i,cu),_i.prototype.g=function(){return new vs(this.i,this.h)};function vs(c,m){ve.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(vs,ve),r=vs.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Gn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?pr(this):Gn(this),this.readyState==3&&ma(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,pr(this))},r.Na=function(c){this.g&&(this.response=c,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Gn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=m.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let m="";return Vt(c,function(E,w){m+=w,m+=":",m+=E,m+=`\r
`}),m}function Es(c,m,E){t:{for(w in E){var w=!1;break t}w=!0}w||(E=In(E),typeof c=="string"?E!=null&&Li(E):Gt(c,m,E))}function Yt(c){ve.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Yt,ve);var vi=/^https?$/i,Uo=["POST","PUT"];r=Yt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Ts(this,q);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var P in w)E.set(P,w[P]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const q of w.keys())E.set(q,w.get(q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(q=>q.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Uo,m,void 0)>=0)||w||P||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of E)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ts(this,q)}};function Ts(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,zo(c),Pi(c)}function zo(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),Pi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?bs(this):this.Xa())},r.Xa=function(){bs(this)};function bs(c){if(c.h&&typeof u<"u"){if(c.v&&Qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var E;if(!(E=m)){var w;if(w=q===0){let tt=String(c.D).match(_u)[1]||null;!tt&&f.self&&f.self.location&&(tt=f.self.location.protocol.slice(0,-1)),w=!vi.test(tt?tt.toLowerCase():"")}E=w}if(E)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var P=Qn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",zo(c)}}finally{Pi(c)}}}}function Pi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,m||Oe(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),$h(m)}};function ze(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(c){const m={};c=(c.g&&Qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(I(c[w]))continue;var E=gu(c[w]);const P=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const q=m[P]||[];m[P]=q,q.push(E)}Bt(m,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||m}function yr(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(c&&c.concurrentRequestLimit),this.Ba=new gr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=yr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,E,w){Ee(0),this.W=c,this.H=m||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Cu(this,null,this.W),Ti(this)};function Bo(c){if(ga(c),c.I==3){var m=c.V++,E=we(c.J);if(Gt(E,"SID",c.M),Gt(E,"RID",m),Gt(E,"TYPE","terminate"),ws(c,E),m=new qn(c,c.j,m),m.M=2,m.A=ys(we(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=m.A,E=!0),E||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}Ru(c)}function _r(c){c.g&&(Fo(c),c.g.cancel(),c.g=null)}function ga(c){_r(c),c.v&&(f.clearTimeout(c.v),c.v=null),ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ti(c){if(!No(c.h)&&!c.m){c.m=!0;var m=c.Ea;Wt||S(),St||(Wt(),St=!0),x.add(m,c),c.D=0}}function pa(c,m){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ui(_(c.Ea,c,m),Iu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new qn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),J(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,E=0;E<this.i.length;E++){e:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=E;break t}if(m===4096||E===this.i.length-1){m=E+1;break t}}m=1e3}else m=1e3;m=wu(this,P,m),E=we(this.J),Gt(E,"RID",c),Gt(E,"CVER",22),this.G&&Gt(E,"X-HTTP-Session-Id",this.G),ws(this,E),q&&(this.R?m="headers="+Li(In(q))+"&"+m:this.u&&Es(E,this.u,q)),Do(this.h,P),this.Ra&&Gt(E,"TYPE","init"),this.S?(Gt(E,"$req",m),Gt(E,"SID","null"),P.U=!0,hi(P,E,null)):hi(P,E,m),this.I=2}}else this.I==3&&(c?qo(this,c):this.i.length==0||No(this.h)||qo(this))};function qo(c,m){var E;m?E=m.l:E=c.V++;const w=we(c.J);Gt(w,"SID",c.M),Gt(w,"RID",E),Gt(w,"AID",c.K),ws(c,w),c.u&&c.o&&Es(w,c.u,c.o),E=new qn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),m&&(c.i=m.G.concat(c.i)),m=wu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Do(c.h,E),hi(E,w,m)}function ws(c,m){c.H&&Vt(c.H,function(E,w){Gt(m,w,E)}),c.l&&Vt({},function(E,w){Gt(m,w,E)})}function wu(c,m,E){E=Math.min(c.i.length,E);const w=c.l?_(c.l.Ka,c.l,c):null;t:{var P=c.i;let bt=-1;for(;;){const de=["count="+E];bt==-1?E>0?(bt=P[0].g,de.push("ofs="+bt)):bt=0:de.push("ofs="+bt);let qt=!0;for(let ae=0;ae<E;ae++){var q=P[ae].g;const Rn=P[ae].map;if(q-=bt,q<0)bt=Math.max(0,P[ae].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var tt=Rn instanceof Map?Rn:Object.entries(Rn);for(const[wi,Kn]of tt){let Yn=Kn;g(Kn)&&(Yn=cr(Kn)),de.push(q+wi+"="+encodeURIComponent(Yn))}}catch(wi){throw de.push(q+"type="+encodeURIComponent("_badmap")),wi}}catch{w&&w(Rn)}}if(qt){tt=de.join("&");break t}}tt=void 0}return c=c.i.splice(0,E),m.G=c,tt}function Au(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Wt||S(),St||(Wt(),St=!0),x.add(m,c),c.A=0}}function As(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ui(_(c.Da,c),Iu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ui(_(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),_r(this),Su(this))};function Fo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Su(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=we(c.na);Gt(m,"RID","rpc"),Gt(m,"SID",c.M),Gt(m,"AID",c.K),Gt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Gt(m,"TO",c.ia),Gt(m,"TYPE","xmlhttp"),ws(c,m),c.u&&c.o&&Es(m,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=ys(we(m)),E.u=null,E.R=!0,la(E,c)}r.Va=function(){this.C!=null&&(this.C=null,_r(this),As(this),Ee(19))};function ya(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function xu(c,m){var E=null;if(c.g==m){ya(c),Fo(c),c.g=null;var w=2}else if(pi(c.h,m))E=m.G,Oo(c.h,m),w=1;else return;if(c.I!=0){if(m.o)if(w==1){E=m.u?m.u.length:0,m=Date.now()-m.F;var P=c.D;w=oa(),Oe(w,new li(w,E)),Ti(c)}else Au(c);else if(P=m.m,P==3||P==0&&m.X>0||!(w==1&&pa(c,m)||w==2&&As(c)))switch(E&&E.length>0&&(m=c.h,m.i=m.i.concat(E)),P){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Iu(c,m){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*m}function bi(c,m){if(c.j.info("Error code "+m),m==2){var E=_(c.bb,c),w=c.Ua;const P=!w;w=new mn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ke(w,"https"),ys(w),P?Hn(w.toString(),E):Po(w.toString(),E)}else Ee(2);c.I=0,c.l&&c.l.pa(m),Ru(c),ga(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Ru(c){if(c.I=0,c.ja=[],c.l){const m=Mo(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.oa()}}function Cu(c,m,E){var w=E instanceof mn?we(E):new mn(E);if(w.g!="")m&&(w.g=m+"."+w.g),hr(w,w.u);else{var P=f.location;w=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new mn(null);w&&ke(q,w),m&&(q.g=m),P&&hr(q,P),E&&(q.h=E),w=q}return E=c.G,m=c.wa,E&&m&&Gt(w,E,m),Gt(w,"VER",c.ka),ws(c,w),w}function Nu(c,m,E){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Yt(new _i({ab:E})):new Yt(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}r=Du.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function vr(){}vr.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){ve.call(this),this.g=new yr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new zi(this)}A(tn,ve),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Bo(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=cr(c),c=E);m.i.push(new be(m.Ya++,c)),m.I==3&&Ti(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,tn.Z.N.call(this)};function Ou(c){Ue.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const E in m){c=E;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(Ou,Ue);function Mu(){An.call(this),this.status=1}A(Mu,An);function zi(c){this.g=c}A(zi,Du),zi.prototype.ra=function(){Oe(this.g,"a")},zi.prototype.qa=function(c){Oe(this.g,new Ou(c))},zi.prototype.pa=function(c){Oe(this.g,new Mu)},zi.prototype.oa=function(){Oe(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,WE=function(){return new vr},JE=function(){return oa()},ZE=fe,Sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,Hc=gs,Io.COMPLETE="complete",$E=Io,hu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Nl=hu,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,XE=Yt}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const qv="@firebase/firestore",Fv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new bh("@firebase/firestore");function Ya(){return Ks.logLevel}function st(r,...t){if(Ks.logLevel<=Dt.DEBUG){const n=t.map(eg);Ks.debug(`Firestore (${go}): ${r}`,...n)}}function ar(r,...t){if(Ks.logLevel<=Dt.ERROR){const n=t.map(eg);Ks.error(`Firestore (${go}): ${r}`,...n)}}function so(r,...t){if(Ks.logLevel<=Dt.WARN){const n=t.map(eg);Ks.warn(`Firestore (${go}): ${r}`,...n)}}function eg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,tT(r,s,n)}function tT(r,t,n){let s=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ar(s),new Error(s)}function Ht(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||tT(t,o,s)}function Tt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ri{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Tx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n($e.UNAUTHENTICATED)))}shutdown(){}}class bx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wx{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new eT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class Ax{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Sx{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Ax(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xx{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,st("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Hv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Ix(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ot(r,t){return r<t?-1:r>t?1:0}function xm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return um(o)===um(u)?Ot(o,u):um(o)?1:-1}return Ot(r.length,t.length)}const Rx=55296,Cx=57343;function um(r){const t=r.charCodeAt(0);return t>=Rx&&t<=Cx}function ao(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="__name__";class Ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&pt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&pt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ot(t.length,n.length)}static compareSegments(t,n){const s=Ri.isNumericId(t),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(t).compare(Ri.extractNumericId(n)):xm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class ne extends Ri{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const Nx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ri{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return Nx.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gv}static keyField(){return new Qe([Gv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new rt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new rt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(s+=g,o++):(u(),o++)}if(u(),f)throw new rt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ne.fromString(t))}static fromName(t){return new ct(ne.fromString(t).popFirst(5))}static empty(){return new ct(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(r,t,n){if(!n)throw new rt(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Dx(r,t,n,s){if(t===!0&&s===!0)throw new rt(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Qv(r){if(!ct.isDocumentKey(r))throw new rt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Kv(r){if(ct.isDocumentKey(r))throw new rt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function iT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Sh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function ei(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sh(r);throw new rt(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r,t){const n={typeString:r};return t&&(n.value=t),n}function Zl(r,t){if(!iT(r))throw new rt(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new rt(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=-62135596800,Xv=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(t){return Jt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Xv);return new Jt(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Yv)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zl(t,Jt._jsonSchema))return new Jt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Yv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Ne("string",Jt._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new Jt(0,0))}static max(){return new _t(new Jt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=-1;function Ox(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(s===1e9?new Jt(n+1,0):new Jt(n,s));return new es(o,ct.empty(),t)}function Mx(r){return new es(r.readTime,r.key,Bl)}class es{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new es(_t.min(),ct.empty(),Bl)}static max(){return new es(_t.max(),ct.empty(),Bl)}}function Vx(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ct.comparator(r.documentKey,t.documentKey),n!==0?n:Ot(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==jx)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,s)=>{n(t)}))}static reject(t){return new $(((n,s)=>{s(t)}))}static waitFor(t){return new $(((n,s)=>{let o=0,u=0,f=!1;t.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next((o=>o?$.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new $(((s,o)=>{const u=t.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const _=p;n(t[_]).next((b=>{f[_]=b,++g,g===u&&s(f)}),(b=>o(b)))}}))}static doWhile(t,n){return new $(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Lx(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=-1;function Ih(r){return r==null}function rh(r){return r===0&&1/r==-1/0}function Px(r){return typeof r=="number"&&Number.isInteger(r)&&!rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="";function Ux(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=$v(t)),t=zx(r.get(n),t);return $v(t)}function zx(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case rT:n+="";break;default:n+=u}}return n}function $v(r){return r+rT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function os(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function sT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pc(this.root,t,this.comparator,!0)}}class Pc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ge(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jv(this.data.getIterator())}getIteratorFrom(t){return new Jv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class Jv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new bn([])}unionWith(t){let n=new Ve(Qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new bn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ao(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new aT("Invalid base64 string: "+u):u}})(t);return new Ke(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Ke(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const Bx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=Bx.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function is(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="server_timestamp",lT="__type__",uT="__previous_value__",cT="__local_write_time__";function rg(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[lT])==null?void 0:s.stringValue)===oT}function Rh(r){const t=r.mapValue.fields[uT];return rg(t)?Rh(t):t}function ql(r){const t=ns(r.mapValue.fields[cT].timestampValue);return new Jt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t,n,s,o,u,f,g,p,_,b){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=b}}const sh="(default)";class Fl{constructor(t,n){this.projectId=t,this.database=n||sh}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===sh}isEqual(t){return t instanceof Fl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="__type__",Fx="__max__",Uc={mapValue:{}},fT="__vector__",ah="value";function rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?rg(r)?4:Gx(r)?9007199254740991:Hx(r)?10:11:pt(28295,{value:r})}function ki(r,t){if(r===t)return!0;const n=rs(r);if(n!==rs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return ql(r).isEqual(ql(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ns(o.timestampValue),g=ns(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return is(o.bytesValue).isEqual(is(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pe(o.doubleValue),g=pe(u.doubleValue);return f===g?rh(f)===rh(g):isNaN(f)&&isNaN(g)}return!1})(r,t);case 9:return ao(r.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Zv(f)!==Zv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!ki(f[p],g[p])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function Hl(r,t){return(r.values||[]).find((n=>ki(n,t)))!==void 0}function oo(r,t){if(r===t)return 0;const n=rs(r),s=rs(t);if(n!==s)return Ot(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const g=pe(u.integerValue||u.doubleValue),p=pe(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,t);case 3:return Wv(r.timestampValue,t.timestampValue);case 4:return Wv(ql(r),ql(t));case 5:return xm(r.stringValue,t.stringValue);case 6:return(function(u,f){const g=is(u),p=is(f);return g.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const b=Ot(g[_],p[_]);if(b!==0)return b}return Ot(g.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const g=Ot(pe(u.latitude),pe(f.latitude));return g!==0?g:Ot(pe(u.longitude),pe(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return t0(r.arrayValue,t.arrayValue);case 10:return(function(u,f){var N,H,Z,et;const g=u.fields||{},p=f.fields||{},_=(N=g[ah])==null?void 0:N.arrayValue,b=(H=p[ah])==null?void 0:H.arrayValue,A=Ot(((Z=_==null?void 0:_.values)==null?void 0:Z.length)||0,((et=b==null?void 0:b.values)==null?void 0:et.length)||0);return A!==0?A:t0(_,b)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Uc.mapValue&&f===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(f===Uc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),_=f.fields||{},b=Object.keys(_);p.sort(),b.sort();for(let A=0;A<p.length&&A<b.length;++A){const N=xm(p[A],b[A]);if(N!==0)return N;const H=oo(g[p[A]],_[b[A]]);if(H!==0)return H}return Ot(p.length,b.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:n})}}function Wv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ot(r,t);const n=ns(r),s=ns(t),o=Ot(n.seconds,s.seconds);return o!==0?o:Ot(n.nanos,s.nanos)}function t0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=oo(n[o],s[o]);if(u)return u}return Ot(n.length,s.length)}function lo(r){return Im(r)}function Im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ns(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return is(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ct.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Im(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Im(n.fields[f])}`;return o+"}"})(r.mapValue):pt(61005,{value:r})}function Gc(r){switch(rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rh(r);return t?16+Gc(t):16;case 5:return 2*r.stringValue.length;case 6:return is(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Gc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return os(s.fields,((u,f)=>{o+=u.length+Gc(f)})),o})(r.mapValue);default:throw pt(13486,{value:r})}}function e0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Rm(r){return!!r&&"integerValue"in r}function sg(r){return!!r&&"arrayValue"in r}function n0(r){return!!r&&"nullValue"in r}function i0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qc(r){return!!r&&"mapValue"in r}function Hx(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[hT])==null?void 0:s.stringValue)===fT}function jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return os(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=jl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jl(r.arrayValue.values[n]);return t}return{...r}}function Gx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Fx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Qc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=jl(n)}setAll(t){let n=Qe.emptyPath(),s={},o=[];t.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=g.popLast()}f?s[g.lastSegment()]=jl(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){os(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new fn(jl(this.value))}}function dT(r){const t=[];return os(r.fields,((n,s)=>{const o=new Qe([n]);if(Qc(s)){const u=dT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,n,s,o,u,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,_t.min(),_t.min(),_t.min(),fn.empty(),0)}static newFoundDocument(t,n,s,o){return new Ze(t,1,n,_t.min(),s,o,0)}static newNoDocument(t,n){return new Ze(t,2,n,_t.min(),_t.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new Ze(t,3,n,_t.min(),_t.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,n){this.position=t,this.inclusive=n}}function r0(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=ct.comparator(ct.fromName(f.referenceValue),n.key):s=oo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function s0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ki(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(t,n="asc"){this.field=t,this.dir=n}}function Qx(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{}class Ce extends mT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new Yx(t,n,s):n==="array-contains"?new Zx(t,s):n==="in"?new Jx(t,s):n==="not-in"?new Wx(t,s):n==="array-contains-any"?new tI(t,s):new Ce(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new Xx(t,s):new $x(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oo(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends mT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ni(t,n)}matches(t){return gT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gT(r){return r.op==="and"}function pT(r){return Kx(r)&&gT(r)}function Kx(r){for(const t of r.filters)if(t instanceof ni)return!1;return!0}function Cm(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+lo(r.value);if(pT(r))return r.filters.map((t=>Cm(t))).join(",");{const t=r.filters.map((n=>Cm(n))).join(",");return`${r.op}(${t})`}}function yT(r,t){return r instanceof Ce?(function(s,o){return o instanceof Ce&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)})(r,t):r instanceof ni?(function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,g)=>u&&yT(f,o.filters[g])),!0):!1})(r,t):void pt(19439)}function _T(r){return r instanceof Ce?(function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`})(r):r instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(_T).join(" ,")+"}"})(r):"Filter"}class Yx extends Ce{constructor(t,n,s){super(t,n,s),this.key=ct.fromName(s.referenceValue)}matches(t){const n=ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class Xx extends Ce{constructor(t,n){super(t,"in",n),this.keys=vT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class $x extends Ce{constructor(t,n){super(t,"not-in",n),this.keys=vT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function vT(r,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map((s=>ct.fromName(s.referenceValue)))}class Zx extends Ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return sg(n)&&Hl(n.arrayValue,this.value)}}class Jx extends Ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Hl(this.value.arrayValue,n)}}class Wx extends Ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hl(this.value.arrayValue,n)}}class tI extends Ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Hl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,n=null,s=[],o=[],u=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function a0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new eI(r,t,n,s,o,u,f)}function ag(r){const t=Tt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Cm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ih(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>lo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>lo(s))).join(",")),t.Te=n}return t.Te}function og(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Qx(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!yT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!s0(r.startAt,t.startAt)&&s0(r.endAt,t.endAt)}function Nm(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t,n=null,s=[],o=[],u=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nI(r,t,n,s,o,u,f,g){return new _o(r,t,n,s,o,u,f,g)}function lg(r){return new _o(r)}function o0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ET(r){return r.collectionGroup!==null}function kl(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ve(Qe.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Gl(u,s))})),n.has(Qe.keyField().canonicalString())||t.Ie.push(new Gl(Qe.keyField(),s))}return t.Ie}function Ci(r){const t=Tt(r);return t.Ee||(t.Ee=iI(t,kl(r))),t.Ee}function iI(r,t){if(r.limitType==="F")return a0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Gl(o.field,u)}));const n=r.endAt?new oh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new oh(r.startAt.position,r.startAt.inclusive):null;return a0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Dm(r,t){const n=r.filters.concat([t]);return new _o(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Om(r,t,n){return new _o(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Ch(r,t){return og(Ci(r),Ci(t))&&r.limitType===t.limitType}function TT(r){return`${ag(Ci(r))}|lt:${r.limitType}`}function Xa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>_T(o))).join(", ")}]`),Ih(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>lo(o))).join(",")),`Target(${s})`})(Ci(r))}; limitType=${r.limitType})`}function Nh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ct.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,g,p){const _=r0(f,g,p);return f.inclusive?_<=0:_<0})(s.startAt,kl(s),o)||s.endAt&&!(function(f,g,p){const _=r0(f,g,p);return f.inclusive?_>=0:_>0})(s.endAt,kl(s),o))})(r,t)}function rI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function bT(r){return(t,n)=>{let s=!1;for(const o of kl(r)){const u=sI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function sI(r,t,n){const s=r.field.isKeyField()?ct.comparator(t.key,n.key):(function(u,f,g){const p=f.data.field(u),_=g.data.field(u);return p!==null&&_!==null?oo(p,_):pt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){os(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return sT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new le(ct.comparator);function or(){return aI}const wT=new le(ct.comparator);function Dl(...r){let t=wT;for(const n of r)t=t.insert(n.key,n);return t}function AT(r){let t=wT;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Fs(){return Ll()}function ST(){return Ll()}function Ll(){return new Js((r=>r.toString()),((r,t)=>r.isEqual(t)))}const oI=new le(ct.comparator),lI=new Ve(ct.comparator);function Mt(...r){let t=lI;for(const n of r)t=t.add(n);return t}const uI=new Ve(Ot);function cI(){return uI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(t)?"-0":t}}function xT(r){return{integerValue:""+r}}function hI(r,t){return Px(t)?xT(t):ug(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this._=void 0}}function fI(r,t,n){return r instanceof lh?(function(o,u){const f={fields:{[lT]:{stringValue:oT},[cT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&rg(u)&&(u=Rh(u)),u&&(f.fields[uT]=u),{mapValue:f}})(n,t):r instanceof Ql?RT(r,t):r instanceof Kl?CT(r,t):(function(o,u){const f=IT(o,u),g=l0(f)+l0(o.Ae);return Rm(f)&&Rm(o.Ae)?xT(g):ug(o.serializer,g)})(r,t)}function dI(r,t,n){return r instanceof Ql?RT(r,t):r instanceof Kl?CT(r,t):n}function IT(r,t){return r instanceof uh?(function(s){return Rm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class lh extends Dh{}class Ql extends Dh{constructor(t){super(),this.elements=t}}function RT(r,t){const n=NT(t);for(const s of r.elements)n.some((o=>ki(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Kl extends Dh{constructor(t){super(),this.elements=t}}function CT(r,t){let n=NT(t);for(const s of r.elements)n=n.filter((o=>!ki(o,s)));return{arrayValue:{values:n}}}class uh extends Dh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function l0(r){return pe(r.integerValue||r.doubleValue)}function NT(r){return sg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function mI(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Ql&&o instanceof Ql||s instanceof Kl&&o instanceof Kl?ao(s.elements,o.elements,ki):s instanceof uh&&o instanceof uh?ki(s.Ae,o.Ae):s instanceof lh&&o instanceof lh})(r.transform,t.transform)}class gI{constructor(t,n){this.version=t,this.transformResults=n}}class Un{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Un}static exists(t){return new Un(void 0,t)}static updateTime(t){return new Un(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Oh{}function DT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new cg(r.key,Un.none()):new Jl(r.key,r.data,Un.none());{const n=r.data,s=fn.empty();let o=new Ve(Qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ls(r.key,s,new bn(o.toArray()),Un.none())}}function pI(r,t,n){r instanceof Jl?(function(o,u,f){const g=o.value.clone(),p=c0(o.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):r instanceof ls?(function(o,u,f){if(!Kc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=c0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(OT(o)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Pl(r,t,n,s){return r instanceof Jl?(function(u,f,g,p){if(!Kc(u.precondition,f))return g;const _=u.value.clone(),b=h0(u.fieldTransforms,p,f);return _.setAll(b),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(r,t,n,s):r instanceof ls?(function(u,f,g,p){if(!Kc(u.precondition,f))return g;const _=h0(u.fieldTransforms,p,f),b=f.data;return b.setAll(OT(u)),b.setAll(_),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,t,n,s):(function(u,f,g){return Kc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,t,n)}function yI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=IT(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function u0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ao(s,o,((u,f)=>mI(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Jl extends Oh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ls extends Oh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function OT(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function c0(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,g=t.data.field(u.field);s.set(u.field,dI(f,g,n[o]))}return s}function h0(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,fI(u,f,t))}return s}class cg extends Oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _I extends Oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&pI(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Pl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Pl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=ST();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(o.key)?null:g;const p=DT(f,g);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&ao(this.mutations,t.mutations,((n,s)=>u0(n,s)))&&ao(this.baseMutations,t.baseMutations,((n,s)=>u0(n,s)))}}class hg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return oI})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new hg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Pt;function bI(r){switch(r){case Y.OK:return pt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function MT(r){if(r===void 0)return ar("GRPC error has no .code"),Y.UNKNOWN;switch(r){case Re.OK:return Y.OK;case Re.CANCELLED:return Y.CANCELLED;case Re.UNKNOWN:return Y.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Y.INTERNAL;case Re.UNAVAILABLE:return Y.UNAVAILABLE;case Re.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Re.NOT_FOUND:return Y.NOT_FOUND;case Re.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Re.ABORTED:return Y.ABORTED;case Re.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Re.DATA_LOSS:return Y.DATA_LOSS;default:return pt(39323,{code:r})}}(Pt=Re||(Re={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Zr([4294967295,4294967295],0);function f0(r){const t=wI().encode(r),n=new YE;return n.update(t),new Uint8Array(n.digest())}function d0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zr([n,s],0),new Zr([o,u],0)]}class fg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(s<0)throw new Ol(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Zr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Zr.fromNumber(s)));return o.compare(AI)===1&&(o=new Zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=f0(t),[s,o]=d0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new fg(u,o,n);return s.forEach((g=>f.insert(g))),f}insert(t){if(this.ge===0)return;const n=f0(t),[s,o]=d0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Wl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Mh(_t.min(),o,new le(Ot),or(),Mt())}}class Wl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Wl(s,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class VT{constructor(t,n){this.targetId=t,this.Ce=n}}class jT{constructor(t,n,s=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class m0{constructor(){this.ve=0,this.Fe=g0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),n=Mt(),s=Mt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:pt(38017,{changeType:u})}})),new Wl(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=g0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SI{constructor(t){this.Ge=t,this.ze=new Map,this.je=or(),this.Je=zc(),this.He=zc(),this.Ye=new le(Ot)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Nm(u))if(s===0){const f=new ct(u.path);this.et(n,f,Ze.newNoDocument(f,_t.min()))}else Ht(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(t),p=g?this.ct(g,t,f):1;if(p!==0){this.it(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,g;try{f=is(s).toUint8Array()}catch(p){if(p instanceof aT)return so("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new fg(f,o,u)}catch(p){return so(p instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Nm(g.target)){const p=new ct(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Ze.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Mt();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Mh(t,n,this.Ye,this.je,s);return this.je=or(),this.Je=zc(),this.He=zc(),this.Ye=new le(Ot),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new m0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ve(Ot),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ve(Ot),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||st("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new m0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function zc(){return new le(ct.comparator)}function g0(){return new le(ct.comparator)}const xI={asc:"ASCENDING",desc:"DESCENDING"},II={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RI={and:"AND",or:"OR"};class CI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Mm(r,t){return r.useProto3Json||Ih(t)?t:{value:t}}function ch(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function NI(r,t){return ch(r,t.toTimestamp())}function Ni(r){return Ht(!!r,49232),_t.fromTimestamp((function(n){const s=ns(n);return new Jt(s.seconds,s.nanos)})(r))}function dg(r,t){return Vm(r,t).canonicalString()}function Vm(r,t){const n=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function LT(r){const t=ne.fromString(r);return Ht(qT(t),10190,{key:t.toString()}),t}function jm(r,t){return dg(r.databaseId,t.path)}function cm(r,t){const n=LT(t);if(n.get(1)!==r.databaseId.projectId)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ct(UT(n))}function PT(r,t){return dg(r.databaseId,t)}function DI(r){const t=LT(r);return t.length===4?ne.emptyPath():UT(t)}function km(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function UT(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function p0(r,t,n){return{name:jm(r,t),fields:n.value.mapValue.fields}}function OI(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(_,b){return _.useProto3Json?(Ht(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Ht(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(_){const b=_.code===void 0?Y.UNKNOWN:MT(_.code);return new rt(b,_.message||"")})(f);n=new jT(s,o,u,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=cm(r,s.document.name),u=Ni(s.document.updateTime),f=s.document.createTime?Ni(s.document.createTime):_t.min(),g=new fn({mapValue:{fields:s.document.fields}}),p=Ze.newFoundDocument(o,u,f,g),_=s.targetIds||[],b=s.removedTargetIds||[];n=new Yc(_,b,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=cm(r,s.document),u=s.readTime?Ni(s.readTime):_t.min(),f=Ze.newNoDocument(o,u),g=s.removedTargetIds||[];n=new Yc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=cm(r,s.document),u=s.removedTargetIds||[];n=new Yc([],u,o,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new TI(o,u),g=s.targetId;n=new VT(g,f)}}return n}function MI(r,t){let n;if(t instanceof Jl)n={update:p0(r,t.key,t.value)};else if(t instanceof cg)n={delete:jm(r,t.key)};else if(t instanceof ls)n={update:p0(r,t.key,t.data),updateMask:qI(t.fieldMask)};else{if(!(t instanceof _I))return pt(16599,{Vt:t.type});n={verify:jm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const g=f.transform;if(g instanceof lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Kl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:NI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:pt(27497)})(r,t.precondition)),n}function VI(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ni(o.updateTime):Ni(u);return f.isEqual(_t.min())&&(f=Ni(u)),new gI(f,o.transformResults||[])})(n,t)))):[]}function jI(r,t){return{documents:[PT(r,t.path)]}}function kI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=PT(r,o);const u=(function(_){if(_.length!==0)return BT(ni.create(_,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(_){if(_.length!==0)return _.map((b=>(function(N){return{field:$a(N.field),direction:UI(N.dir)}})(b)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Mm(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:n,parent:o}}function LI(r){let t=DI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let u=[];n.where&&(u=(function(A){const N=zT(A);return N instanceof ni&&pT(N)?N.getFilters():[N]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((N=>(function(Z){return new Gl(Za(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(N)))})(n.orderBy));let g=null;n.limit&&(g=(function(A){let N;return N=typeof A=="object"?A.value:A,Ih(N)?null:N})(n.limit));let p=null;n.startAt&&(p=(function(A){const N=!!A.before,H=A.values||[];return new oh(H,N)})(n.startAt));let _=null;return n.endAt&&(_=(function(A){const N=!A.before,H=A.values||[];return new oh(H,N)})(n.endAt)),nI(t,o,f,u,g,"F",p,_)}function PI(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function zT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Za(n.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Za(n.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(n.unaryFilter.field);return Ce.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Za(n.unaryFilter.field);return Ce.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ce.create(Za(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((s=>zT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(n.compositeFilter.op))})(r):pt(30097,{filter:r})}function UI(r){return xI[r]}function zI(r){return II[r]}function BI(r){return RI[r]}function $a(r){return{fieldPath:r.canonicalString()}}function Za(r){return Qe.fromServerFormat(r.fieldPath)}function BT(r){return r instanceof Ce?(function(n){if(n.op==="=="){if(i0(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NAN"}};if(n0(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i0(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NAN"}};if(n0(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(n.field),op:zI(n.op),value:n.value}}})(r):r instanceof ni?(function(n){const s=n.getFilters().map((o=>BT(o)));return s.length===1?s[0]:{compositeFilter:{op:BI(n.op),filters:s}}})(r):pt(54877,{filter:r})}function qI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function qT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,n,s,o,u=_t.min(),f=_t.min(),g=Ke.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.yt=t}}function HI(r){const t=LI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Om(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.Cn=new QI}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(es.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(es.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class QI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ve(ne.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ve(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FT=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(FT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new uo(0)}static cr(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="LruGarbageCollector",KI=1048576;function v0([r,t],[n,s]){const o=Ot(r,n);return o===0?Ot(t,s):o}class YI{constructor(t){this.Ir=t,this.buffer=new Ve(v0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();v0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(_0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yo(n)?st(_0,"Ignoring IndexedDB error during garbage collection: ",n):await po(n)}await this.Vr(3e5)}))}}class $I{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(xh.ce);const s=new YI(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(y0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,g,p,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(s=A,g=Date.now(),this.removeTargets(t,s,n)))).next((A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(_=Date.now(),Ya()<=Dt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${A} documents in `+(_-p)+`ms
Total Duration: ${_-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function ZI(r,t){return new $I(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.changes=new Js((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Pl(s.mutation,o,bn.empty(),Jt.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Mt()){const o=Fs();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Dl();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Fs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Mt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(t,n,s,o){let u=or();const f=Ll(),g=(function(){return Ll()})();return n.forEach(((p,_)=>{const b=s.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof ls)?u=u.insert(_.key,_):b!==void 0?(f.set(_.key,b.mutation.getFieldMask()),Pl(b.mutation,_,b.mutation.getFieldMask(),Jt.now())):f.set(_.key,bn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((_,b)=>f.set(_,b))),n.forEach(((_,b)=>g.set(_,new WI(b,f.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,n){const s=Ll();let o=new le(((f,g)=>f-g)),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const _=n.get(p);if(_===null)return;let b=s.get(p)||bn.empty();b=g.applyToLocalView(_,b),s.set(p,b);const A=(o.get(g.batchId)||Mt()).add(p);o=o.insert(g.batchId,A)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,b=p.value,A=ST();b.forEach((N=>{if(!u.has(N)){const H=DT(n.get(N),s.get(N));H!==null&&A.set(N,H),u=u.add(N)}})),f.push(this.documentOverlayCache.saveOverlays(t,_,A))}return $.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return ct.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):ET(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):$.resolve(Fs());let g=Bl,p=u;return f.next((_=>$.forEach(_,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),u.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((N=>{p=p.insert(b,N)}))))).next((()=>this.populateOverlays(t,_,u))).next((()=>this.computeViews(t,p,_,Mt()))).next((b=>({batchId:g,changes:AT(b)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ct(n)).next((s=>{let o=Dl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Dl();return this.indexManager.getCollectionParents(t,u).next((g=>$.forEach(g,(p=>{const _=(function(A,N){return new _o(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,s,o).next((b=>{b.forEach(((A,N)=>{f=f.insert(A,N)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,_)=>{const b=_.getKey();f.get(b)===null&&(f=f.insert(b,Ze.newInvalidDocument(b)))}));let g=Dl();return f.forEach(((p,_)=>{const b=u.get(p);b!==void 0&&Pl(b.mutation,_,bn.empty(),Jt.now()),Nh(n,_)&&(g=g.insert(p,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:HI(o.bundledQuery),readTime:Ni(o.readTime)}})(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.overlays=new le(ct.comparator),this.qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Fs();return $.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),$.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const o=Fs(),u=n.length+1,f=new ct(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new le(((_,b)=>_-b));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let b=u.get(_.largestBatchId);b===null&&(b=Fs(),u=u.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=Fs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,b)=>g.set(_,b))),!(g.size()>=o)););return $.resolve(g)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new EI(n,s));let u=this.qr.get(n);u===void 0&&(u=Mt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.Qr=new Ve(Pe.$r),this.Ur=new Ve(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Pe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new ct(new ne([])),s=new Pe(n,t),o=new Pe(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new ct(new ne([])),s=new Pe(n,t),o=new Pe(n,t+1);let u=Mt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Pe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return ct.comparator(t.key,n.key)||Ot(t.Yr,n.Yr)}static Kr(t,n){return Ot(t.Yr,n.Yr)||ct.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Pe.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new vI(u,n,s,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new Pe(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?ig:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const g=this.Xr(f.Yr);u.push(g)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ve(Ot);return n.forEach((o=>{const u=new Pe(o,0),f=new Pe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{s=s.add(g.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;ct.isDocumentKey(u)||(u=u.child(""));const f=new Pe(new ct(u),0);let g=new Ve(Ot);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(g=g.add(p.Yr)),!0)}),f),$.resolve(this.ti(g))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,(o=>{const u=new Pe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Pe(n,0),o=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t){this.ri=t,this.docs=(function(){return new le(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(t,n){let s=or();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ze.newInvalidDocument(o))})),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=or();const f=n.path,g=new ct(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:b}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||Vx(Mx(b),s)<=0||(o.has(b.key)||Nh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,s,o){pt(9500)}ii(t,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new aR(this)}getSize(t){return $.resolve(this.size)}}class aR extends JI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),$.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.persistence=t,this.si=new Js((n=>ag(n)),og),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new mg,this.targetCount=0,this.ai=uo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new uo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Pr(n),$.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),$.waitFor(u).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t,n){this.ui={},this.overlays={},this.ci=new xh(0),this.li=!1,this.li=!0,this.hi=new iR,this.referenceDelegate=t(this),this.Pi=new oR(this),this.indexManager=new GI,this.remoteDocumentCache=(function(o){return new sR(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new FI(n),this.Ii=new eR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new nR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new rR(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){st("MemoryPersistence","Starting transaction:",t);const o=new lR(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class lR extends kx{constructor(t){super(),this.currentSequenceNumber=t}}class gg{constructor(t){this.persistence=t,this.Ri=new mg,this.Vi=null}static mi(t){return new gg(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const o=ct.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,_t.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class hh{constructor(t,n){this.persistence=t,this.pi=new Js((s=>Ux(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ZI(this,n)}static mi(t,n){return new hh(t,n)}Ei(){}di(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return $.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?$.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((g=>{g||(s++,u.removeEntry(f,_t.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Gc(t.data.value)),n}br(t,n,s){return $.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Mt(),o=Mt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new pg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return OA()?8:Lx(Je())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new uR;return this.Ss(t,n,f).next((g=>{if(u.result=g,this.Vs)return this.bs(t,n,f,g.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Ya()<=Dt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ya()<=Dt.DEBUG&&st("QueryEngine","Query:",Xa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ya()<=Dt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(n))):$.resolve())}ys(t,n){if(o0(n))return $.resolve(null);let s=Ci(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Om(n,null,"F"),s=Ci(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Mt(...u);return this.ps.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,s).next((p=>{const _=this.Ds(n,g);return this.Cs(n,_,f,p.readTime)?this.ys(t,Om(n,null,"F")):this.vs(t,_,n,p)}))))})))))}ws(t,n,s,o){return o0(n)||o.isEqual(_t.min())?$.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?$.resolve(null):(Ya()<=Dt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xa(n)),this.vs(t,f,n,Ox(o,Bl)).next((g=>g)))}))}Ds(t,n){let s=new Ve(bT(t));return n.forEach(((o,u)=>{Nh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Ya()<=Dt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.ps.getDocumentsMatchingQuery(t,n,es.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="LocalStore",hR=3e8;class fR{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new le(Ot),this.xs=new Js((u=>ag(u)),og),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function dR(r,t,n,s){return new fR(r,t,n,s)}async function GT(r,t){const n=Tt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],g=[];let p=Mt();for(const _ of o){f.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of u){g.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next((_=>({Ls:_,removedBatchIds:f,addedBatchIds:g})))}))}))}function mR(r,t){const n=Tt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,b){const A=_.batch,N=A.keys();let H=$.resolve();return N.forEach((Z=>{H=H.next((()=>b.getEntry(p,Z))).next((et=>{const W=_.docVersions.get(Z);Ht(W!==null,48541),et.version.compareTo(W)<0&&(A.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),b.addEntry(et)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(p,A)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function QT(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function gR(r,t){const n=Tt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const g=[];t.targetChanges.forEach(((b,A)=>{const N=o.get(A);if(!N)return;g.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,A))));let H=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?H=H.withResumeToken(Ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,s)),o=o.insert(A,H),(function(et,W,dt){return et.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=hR?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(N,H,b)&&g.push(n.Pi.updateTargetData(u,H))}));let p=or(),_=Mt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),g.push(pR(u,f,t.documentUpdates).next((b=>{p=b.ks,_=b.qs}))),!s.isEqual(_t.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(b)}return $.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,_))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function pR(r,t,n){let s=Mt(),o=Mt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=or();return n.forEach(((g,p)=>{const _=u.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(_t.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):st(yg,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function yR(r,t){const n=Tt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ig),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function _R(r,t){const n=Tt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,$.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Yr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Lm(r,t,n){const s=Tt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!yo(f))throw f;st(yg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function E0(r,t,n){const s=Tt(r);let o=_t.min(),u=Mt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,_,b){const A=Tt(p),N=A.xs.get(b);return N!==void 0?$.resolve(A.Ms.get(N)):A.Pi.getTargetData(_,b)})(s,f,Ci(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:_t.min(),n?u:Mt()))).next((g=>(vR(s,rI(t),g),{documents:g,Qs:u})))))}function vR(r,t,n){let s=r.Os.get(t)||_t.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class T0{constructor(){this.activeTargetIds=cI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ER{constructor(){this.Mo=new T0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new T0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="ConnectivityMonitor";class w0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(b0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(b0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function Pm(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="RestConnection",bR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Pm(),g=this.zo(t,n.toUriEncodedString());st(hm,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:_}=new URL(g),b=fo(_);return this.Jo(t,g,p,s,b).then((A=>(st(hm,`Received RPC '${t}' ${f}: `,A),A)),(A=>{throw so(hm,`RPC '${t}' ${f} failed with error: `,A,"url: ",g,"request:",s),A}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=bR[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class SR extends wR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Pm();return new Promise(((g,p)=>{const _=new XE;_.setWithCredentials(!0),_.listenOnce($E.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const A=_.getResponseJson();st(Xe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),g(A);break;case Hc.TIMEOUT:st(Xe,`RPC '${t}' ${f} timed out`),p(new rt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const N=_.getStatus();if(st(Xe,`RPC '${t}' ${f} failed with status:`,N,"response text:",_.getResponseText()),N>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H==null?void 0:H.error;if(Z&&Z.status&&Z.message){const et=(function(dt){const yt=dt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(yt)>=0?yt:Y.UNKNOWN})(Z.status);p(new rt(et,Z.message))}else p(new rt(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new rt(Y.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Xe,`RPC '${t}' ${f} completed.`)}}));const b=JSON.stringify(o);st(Xe,`RPC '${t}' ${f} sending request:`,o),_.send(n,"POST",b,s,15)}))}T_(t,n,s){const o=Pm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=WE(),g=JE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const b=u.join("");st(Xe,`Creating RPC '${t}' stream ${o}: ${b}`,p);const A=f.createWebChannel(b,p);this.I_(A);let N=!1,H=!1;const Z=new AR({Yo:W=>{H?st(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(N||(st(Xe,`Opening RPC '${t}' stream ${o} transport.`),A.open(),N=!0),st(Xe,`RPC '${t}' stream ${o} sending:`,W),A.send(W))},Zo:()=>A.close()}),et=(W,dt,yt)=>{W.listen(dt,(ht=>{try{yt(ht)}catch(kt){setTimeout((()=>{throw kt}),0)}}))};return et(A,Nl.EventType.OPEN,(()=>{H||(st(Xe,`RPC '${t}' stream ${o} transport opened.`),Z.o_())})),et(A,Nl.EventType.CLOSE,(()=>{H||(H=!0,st(Xe,`RPC '${t}' stream ${o} transport closed`),Z.a_(),this.E_(A))})),et(A,Nl.EventType.ERROR,(W=>{H||(H=!0,so(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),Z.a_(new rt(Y.UNAVAILABLE,"The operation could not be completed")))})),et(A,Nl.EventType.MESSAGE,(W=>{var dt;if(!H){const yt=W.data[0];Ht(!!yt,16349);const ht=yt,kt=(ht==null?void 0:ht.error)||((dt=ht[0])==null?void 0:dt.error);if(kt){st(Xe,`RPC '${t}' stream ${o} received error:`,kt);const Wt=kt.status;let St=(function(C){const j=Re[C];if(j!==void 0)return MT(j)})(Wt),x=kt.message;St===void 0&&(St=Y.INTERNAL,x="Unknown error status: "+Wt+" with message "+kt.message),H=!0,Z.a_(new rt(St,x)),A.close()}else st(Xe,`RPC '${t}' stream ${o} received:`,yt),Z.u_(yt)}})),et(g,ZE.STAT_EVENT,(W=>{W.stat===Sm.PROXY?st(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===Sm.NOPROXY&&st(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(r){return new CI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="PersistentStream";class YT{constructor(t,n,s,o,u,f,g,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new rt(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(A0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(st(A0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xR extends YT{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=OI(this.serializer,t),s=(function(u){if(!("targetChange"in u))return _t.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?_t.min():f.readTime?Ni(f.readTime):_t.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=km(this.serializer),n.addTarget=(function(u,f){let g;const p=f.target;if(g=Nm(p)?{documents:jI(u,p)}:{query:kI(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=kT(u,f.resumeToken);const _=Mm(u,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(_t.min())>0){g.readTime=ch(u,f.snapshotVersion.toTimestamp());const _=Mm(u,f.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const s=PI(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=km(this.serializer),n.removeTarget=t,this.q_(n)}}class IR extends YT{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=VI(t.writeResults,t.commitTime),s=Ni(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=km(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>MI(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{}class CR extends RR{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Vm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt(Y.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(t,Vm(n,s),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt(Y.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ar(n),this.aa=!1):st("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class DR{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Ws(this)&&(st(Ys,"Restarting streams for network reachability change."),await(async function(p){const _=Tt(p);_.Ea.add(4),await tu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await jh(_)})(this))}))})),this.Ra=new NR(s,o)}}async function jh(r){if(Ws(r))for(const t of r.da)await t(!0)}async function tu(r){for(const t of r.da)await t(!1)}function XT(r,t){const n=Tt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Tg(n)?Eg(n):vo(n).O_()&&vg(n,t))}function _g(r,t){const n=Tt(r),s=vo(n);n.Ia.delete(t),s.O_()&&$T(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ws(n)&&n.Ra.set("Unknown"))}function vg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vo(r).Y_(t)}function $T(r,t){r.Va.Ue(t),vo(r).Z_(t)}function Eg(r){r.Va=new SI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.Ra.ua()}function Tg(r){return Ws(r)&&!vo(r).x_()&&r.Ia.size>0}function Ws(r){return Tt(r).Ea.size===0}function ZT(r){r.Va=void 0}async function OR(r){r.Ra.set("Online")}async function MR(r){r.Ia.forEach(((t,n)=>{vg(r,t)}))}async function VR(r,t){ZT(r),Tg(r)?(r.Ra.ha(t),Eg(r)):r.Ra.set("Unknown")}async function jR(r,t,n){if(r.Ra.set("Online"),t instanceof jT&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(r,t)}catch(s){st(Ys,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await fh(r,s)}else if(t instanceof Yc?r.Va.Ze(t):t instanceof VT?r.Va.st(t):r.Va.tt(t),!n.isEqual(_t.min()))try{const s=await QT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(_);b&&u.Ia.set(_,b.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,_)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),$T(u,p);const A=new Yr(b.target,p,_,b.sequenceNumber);vg(u,A)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){st(Ys,"Failed to raise snapshot:",s),await fh(r,s)}}async function fh(r,t,n){if(!yo(t))throw t;r.Ea.add(1),await tu(r),r.Ra.set("Offline"),n||(n=()=>QT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Ys,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await jh(r)}))}function JT(r,t){return t().catch((n=>fh(r,n,t)))}async function kh(r){const t=Tt(r),n=ss(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ig;for(;kR(t);)try{const o=await yR(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,LR(t,o)}catch(o){await fh(t,o)}WT(t)&&t1(t)}function kR(r){return Ws(r)&&r.Ta.length<10}function LR(r,t){r.Ta.push(t);const n=ss(r);n.O_()&&n.X_&&n.ea(t.mutations)}function WT(r){return Ws(r)&&!ss(r).x_()&&r.Ta.length>0}function t1(r){ss(r).start()}async function PR(r){ss(r).ra()}async function UR(r){const t=ss(r);for(const n of r.Ta)t.ea(n.mutations)}async function zR(r,t,n){const s=r.Ta.shift(),o=hg.from(s,t,n);await JT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await kh(r)}async function BR(r,t){t&&ss(r).X_&&await(async function(s,o){if((function(f){return bI(f)&&f!==Y.ABORTED})(o.code)){const u=s.Ta.shift();ss(s).B_(),await JT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await kh(s)}})(r,t),WT(r)&&t1(r)}async function S0(r,t){const n=Tt(r);n.asyncQueue.verifyOperationInProgress(),st(Ys,"RemoteStore received new credentials");const s=Ws(n);n.Ea.add(3),await tu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await jh(n)}async function qR(r,t){const n=Tt(r);t?(n.Ea.delete(2),await jh(n)):t||(n.Ea.add(2),await tu(n),n.Ra.set("Unknown"))}function vo(r){return r.ma||(r.ma=(function(n,s,o){const u=Tt(n);return u.sa(),new xR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:OR.bind(null,r),t_:MR.bind(null,r),r_:VR.bind(null,r),H_:jR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Tg(r)?Eg(r):r.Ra.set("Unknown")):(await r.ma.stop(),ZT(r))}))),r.ma}function ss(r){return r.fa||(r.fa=(function(n,s,o){const u=Tt(n);return u.sa(),new IR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:PR.bind(null,r),r_:BR.bind(null,r),ta:UR.bind(null,r),na:zR.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await kh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Ys,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,g=new bg(t,n,f,o,u);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(r,t){if(ar("AsyncQueue",`${t}: ${r}`),yo(r))return new rt(Y.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ct.comparator(n.key,s.key):(n,s)=>ct.comparator(n.key,s.key),this.keyedMap=Dl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new to;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.ga=new le(ct.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class co{constructor(t,n,s,o,u,f,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new co(t,n,to.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class HR{constructor(){this.queries=I0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Tt(n),u=o.queries;o.queries=I0(),u.forEach(((f,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new rt(Y.ABORTED,"Firestore shutting down"))}}function I0(){return new Js((r=>TT(r)),Ch)}async function e1(r,t){const n=Tt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new FR,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=wg(f,`Initialization of query '${Xa(t.query)}' failed`);return void t.onError(g)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Ag(n)}async function n1(r,t){const n=Tt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function GR(r,t){const n=Tt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(s=!0);f.wa=o}}s&&Ag(n)}function QR(r,t,n){const s=Tt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Ag(r){r.Ca.forEach((t=>{t.next()}))}var Um,R0;(R0=Um||(Um={})).Ma="default",R0.Cache="cache";class i1{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new co(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=co.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t){this.key=t}}class s1{constructor(t){this.key=t}}class KR{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=bT(t),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new x0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,A)=>{const N=o.get(b),H=Nh(this.query,A)?A:null,Z=!!N&&this.mutatedKeys.has(N.key),et=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;N&&H?N.data.isEqual(H.data)?Z!==et&&(s.track({type:3,doc:H}),W=!0):this.su(N,H)||(s.track({type:2,doc:H}),W=!0,(p&&this.eu(H,p)>0||_&&this.eu(H,_)<0)&&(g=!0)):!N&&H?(s.track({type:0,doc:H}),W=!0):N&&!H&&(s.track({type:1,doc:N}),W=!0,(p||_)&&(g=!0)),W&&(H?(f=f.add(H),u=et?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:g,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((b,A)=>(function(H,Z){const et=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:W})}};return et(H)-et(Z)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(s),o=o??!1;const g=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,_=p!==this.Za;return this.Za=p,f.length!==0||_?{snapshot:new co(this.query,t.tu,u,f,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new x0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new s1(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new r1(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Mt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class YR{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class XR{constructor(t){this.key=t,this.hu=!1}}class $R{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Js((g=>TT(g)),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new le(ct.comparator),this.Au=new Map,this.Ru=new mg,this.Vu={},this.mu=new Map,this.fu=uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZR(r,t,n=!0){const s=h1(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await a1(s,t,n,!0),o}async function JR(r,t){const n=h1(r);await a1(n,t,!0,!1)}async function a1(r,t,n,s){const o=await _R(r.localStore,Ci(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await WR(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&XT(r.remoteStore,o),g}async function WR(r,t,n,s,o){r.pu=(A,N,H)=>(async function(et,W,dt,yt){let ht=W.view.ru(dt);ht.Cs&&(ht=await E0(et.localStore,W.query,!1).then((({documents:x})=>W.view.ru(x,ht))));const kt=yt&&yt.targetChanges.get(W.targetId),Wt=yt&&yt.targetMismatches.get(W.targetId)!=null,St=W.view.applyChanges(ht,et.isPrimaryClient,kt,Wt);return N0(et,W.targetId,St.au),St.snapshot})(r,A,N,H);const u=await E0(r.localStore,t,!0),f=new KR(t,u.Qs),g=f.ru(u.documents),p=Wl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(g,r.isPrimaryClient,p);N0(r,n,_.au);const b=new YR(t,n,f);return r.Tu.set(t,b),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),_.snapshot}async function tC(r,t,n){const s=Tt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Ch(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Lm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&_g(s.remoteStore,o.targetId),zm(s,o.targetId)})).catch(po)):(zm(s,o.targetId),await Lm(s.localStore,o.targetId,!0))}async function eC(r,t){const n=Tt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),_g(n.remoteStore,s.targetId))}async function nC(r,t,n){const s=uC(r);try{const o=await(function(f,g){const p=Tt(f),_=Jt.now(),b=g.reduce(((H,Z)=>H.add(Z.key)),Mt());let A,N;return p.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Z=or(),et=Mt();return p.Ns.getEntries(H,b).next((W=>{Z=W,Z.forEach(((dt,yt)=>{yt.isValidDocument()||(et=et.add(dt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(H,Z))).next((W=>{A=W;const dt=[];for(const yt of g){const ht=yI(yt,A.get(yt.key).overlayedDocument);ht!=null&&dt.push(new ls(yt.key,ht,dT(ht.value.mapValue),Un.exists(!0)))}return p.mutationQueue.addMutationBatch(H,_,dt,g)})).next((W=>{N=W;const dt=W.applyToLocalDocumentSet(A,et);return p.documentOverlayCache.saveOverlays(H,W.batchId,dt)}))})).then((()=>({batchId:N.batchId,changes:AT(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,g,p){let _=f.Vu[f.currentUser.toKey()];_||(_=new le(Ot)),_=_.insert(g,p),f.Vu[f.currentUser.toKey()]=_})(s,o.batchId,n),await eu(s,o.changes),await kh(s.remoteStore)}catch(o){const u=wg(o,"Failed to persist write");n.reject(u)}}async function o1(r,t){const n=Tt(r);try{const s=await gR(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ht(f.hu,14607):o.removedDocuments.size>0&&(Ht(f.hu,42227),f.hu=!1))})),await eu(n,s,t)}catch(s){await po(s)}}function C0(r,t,n){const s=Tt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const g=f.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const p=Tt(f);p.onlineState=g;let _=!1;p.queries.forEach(((b,A)=>{for(const N of A.Sa)N.va(g)&&(_=!0)})),_&&Ag(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function iC(r,t,n){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new le(ct.comparator);f=f.insert(u,Ze.newNoDocument(u,_t.min()));const g=Mt().add(u),p=new Mh(_t.min(),new Map,new le(Ot),f,g);await o1(s,p),s.du=s.du.remove(u),s.Au.delete(t),xg(s)}else await Lm(s.localStore,t,!1).then((()=>zm(s,t,n))).catch(po)}async function rC(r,t){const n=Tt(r),s=t.batch.batchId;try{const o=await mR(n.localStore,t);u1(n,s,null),l1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await eu(n,o)}catch(o){await po(o)}}async function sC(r,t,n){const s=Tt(r);try{const o=await(function(f,g){const p=Tt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return p.mutationQueue.lookupMutationBatch(_,g).next((A=>(Ht(A!==null,37113),b=A.keys(),p.mutationQueue.removeMutationBatch(_,A)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,b,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>p.localDocuments.getDocuments(_,b)))}))})(s.localStore,t);u1(s,t,n),l1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await eu(s,o)}catch(o){await po(o)}}function l1(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function u1(r,t,n){const s=Tt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function zm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||c1(r,s)}))}function c1(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(_g(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),xg(r))}function N0(r,t,n){for(const s of n)s instanceof r1?(r.Ru.addReference(s.key,t),aC(r,s)):s instanceof s1?(st(Sg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||c1(r,s.key)):pt(19791,{wu:s})}function aC(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(st(Sg,"New document in limbo: "+n),r.Eu.add(s),xg(r))}function xg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new ct(ne.fromString(t)),s=r.fu.next();r.Au.set(s,new XR(n)),r.du=r.du.insert(n,s),XT(r.remoteStore,new Yr(Ci(lg(n.path)),s,"TargetPurposeLimboResolution",xh.ce))}}async function eu(r,t,n){const s=Tt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{f.push(s.pu(p,t,n).then((_=>{var b;if((_||n)&&s.isPrimaryClient){const A=_?!_.fromCache:(b=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(_){o.push(_);const A=pg.As(p.targetId,_);u.push(A)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,_){const b=Tt(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(_,(N=>$.forEach(N.Es,(H=>b.persistence.referenceDelegate.addReference(A,N.targetId,H))).next((()=>$.forEach(N.ds,(H=>b.persistence.referenceDelegate.removeReference(A,N.targetId,H)))))))))}catch(A){if(!yo(A))throw A;st(yg,"Failed to update sequence numbers: "+A)}for(const A of _){const N=A.targetId;if(!A.fromCache){const H=b.Ms.get(N),Z=H.snapshotVersion,et=H.withLastLimboFreeSnapshotVersion(Z);b.Ms=b.Ms.insert(N,et)}}})(s.localStore,u))}async function oC(r,t){const n=Tt(r);if(!n.currentUser.isEqual(t)){st(Sg,"User change. New user:",t.toKey());const s=await GT(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new rt(Y.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await eu(n,s.Ls)}}function lC(r,t){const n=Tt(r),s=n.Au.get(t);if(s&&s.hu)return Mt().add(s.key);{let o=Mt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const g=n.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function h1(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=o1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iC.bind(null,t),t.Pu.H_=GR.bind(null,t.eventManager),t.Pu.yu=QR.bind(null,t.eventManager),t}function uC(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sC.bind(null,t),t}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return dR(this.persistence,new cR,t.initialUser,this.serializer)}Cu(t){return new HT(gg.mi,this.serializer)}Du(t){return new ER}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class cC extends dh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new XI(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new HT((s=>hh.mi(s,n)),this.serializer)}}class Bm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>C0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oC.bind(null,this.syncEngine),await qR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new HR})()}createDatastore(t){const n=Vh(t.databaseInfo.databaseId),s=(function(u){return new SR(u)})(t.databaseInfo);return(function(u,f,g,p){return new CR(u,f,g,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,g){return new DR(s,o,u,f,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>C0(this.syncEngine,n,0)),(function(){return w0.v()?new w0:new TR})())}createSyncEngine(t,n){return(function(o,u,f,g,p,_,b){const A=new $R(o,u,f,g,p,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=Tt(o);st(Ys,"RemoteStore shutting down."),u.Ea.add(5),await tu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}Bm.provider={build:()=>new Bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ar("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="FirestoreClient";class hC{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{st(as,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(st(as,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=wg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function dm(r,t){r.asyncQueue.verifyOperationInProgress(),st(as,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await GT(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function D0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await fC(r);st(as,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>S0(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>S0(t.remoteStore,o))),r._onlineComponents=t}async function fC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(as,"Using user provided OfflineComponentProvider");try{await dm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await dm(r,new dh)}}else st(as,"Using default OfflineComponentProvider"),await dm(r,new cC(void 0));return r._offlineComponents}async function d1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(as,"Using user provided OnlineComponentProvider"),await D0(r,r._uninitializedComponentsProvider._online)):(st(as,"Using default OnlineComponentProvider"),await D0(r,new Bm))),r._onlineComponents}function dC(r){return d1(r).then((t=>t.syncEngine))}async function m1(r){const t=await d1(r),n=t.eventManager;return n.onListen=ZR.bind(null,t.syncEngine),n.onUnlisten=tC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=JR.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=eC.bind(null,t.syncEngine),n}function mC(r,t,n={}){const s=new rr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,_){const b=new f1({next:N=>{b.Nu(),f.enqueueAndForget((()=>n1(u,A)));const H=N.docs.has(g);!H&&N.fromCache?_.reject(new rt(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&N.fromCache&&p&&p.source==="server"?_.reject(new rt(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(N)},error:N=>_.reject(N)}),A=new i1(lg(g.path),b,{includeMetadataChanges:!0,qa:!0});return e1(u,A)})(await m1(r),r.asyncQueue,t,n,s))),s.promise}function gC(r,t,n={}){const s=new rr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,_){const b=new f1({next:N=>{b.Nu(),f.enqueueAndForget((()=>n1(u,A))),N.fromCache&&p.source==="server"?_.reject(new rt(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),A=new i1(g,b,{includeMetadataChanges:!0,qa:!0});return e1(u,A)})(await m1(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firestore.googleapis.com",M0=!0;class V0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p1,this.ssl=M0}else this.host=t.host,this.ssl=t.ssl??M0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=FT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<KI)throw new rt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Dx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Lh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Tx;switch(s.type){case"firstParty":return new Sx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=O0.get(n);s&&(st("ComponentProvider","Removing Datastore"),O0.delete(n),s.terminate())})(this),Promise.resolve()}}function pC(r,t,n,s={}){var _;r=ei(r,Lh);const o=fo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${n}`;o&&(pE(`https://${g}`),yE("Firestore",!0)),u.host!==p1&&u.host!==g&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:o,emulatorOptions:s};if(!ts(p,f)&&(r._setSettings(p),s.mockUserToken)){let b,A;if(typeof s.mockUserToken=="string")b=s.mockUserToken,A=$e.MOCK_USER;else{b=AA(s.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new rt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $e(N)}r._authCredentials=new bx(new eT(b,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ta(this.firestore,t,this._query)}}class ye{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ye(this.firestore,t,this._key)}toJSON(){return{type:ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Zl(n,ye._jsonSchema))return new ye(t,s||null,new ct(ne.fromString(n.referencePath)))}}ye._jsonSchemaVersion="firestore/documentReference/1.0",ye._jsonSchema={type:Ne("string",ye._jsonSchemaVersion),referencePath:Ne("string")};class Jr extends ta{constructor(t,n,s){super(t,n,lg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ye(this.firestore,null,new ct(t))}withConverter(t){return new Jr(this.firestore,t,this._path)}}function nu(r,t,...n){if(r=_e(r),nT("collection","path",t),r instanceof Lh){const s=ne.fromString(t,...n);return Kv(s),new Jr(r,null,s)}{if(!(r instanceof ye||r instanceof Jr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return Kv(s),new Jr(r.firestore,null,s)}}function ea(r,t,...n){if(r=_e(r),arguments.length===1&&(t=ng.newId()),nT("doc","path",t),r instanceof Lh){const s=ne.fromString(t,...n);return Qv(s),new ye(r,null,new ct(s))}{if(!(r instanceof ye||r instanceof Jr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return Qv(s),new ye(r.firestore,r instanceof Jr?r.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="AsyncQueue";class k0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KT(this,"async_queue_retry"),this._c=()=>{const s=fm();s&&st(j0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!yo(t))throw t;st(j0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ar("INTERNAL UNHANDLED ERROR: ",L0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=bg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:L0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function L0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class na extends Lh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new k0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new k0(t),this._firestoreClient=void 0,await t}}}function yC(r,t){const n=typeof r=="object"?r:Ym(),s=typeof r=="string"?r:sh,o=Zs(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=bA("firestore");u&&pC(o,...u)}return o}function Ig(r){if(r._terminated)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_C(r),r._firestoreClient}function _C(r){var s,o,u;const t=r._freezeSettings(),n=(function(g,p,_,b){return new qx(g,p,_,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,g1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new hC(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(n){throw new rt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ne("string",Ln._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(Zl(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Ne("string",Di._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zl(t,Oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Oi(t.vectorValues);throw new rt(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Ne("string",Oi._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=/^__.*__$/;class EC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ls(t,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(t,this.data,n,this.fieldTransforms)}}class y1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ls(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function _1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class Cg{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Cg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return mh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(_1(this.Ac)&&vC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class TC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Vh(t)}Cc(t,n,s,o=!1){return new Cg({Ac:t,methodName:n,Dc:s,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uh(r){const t=r._freezeSettings(),n=Vh(r._databaseId);return new TC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function v1(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);Ng("Data must be an object, but it was:",f,s);const g=E1(s,f);let p,_;if(u.merge)p=new bn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const A of u.mergeFields){const N=qm(t,A,n);if(!f.contains(N))throw new rt(Y.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);b1(b,N)||b.push(N)}p=new bn(b),_=f.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,_=f.fieldTransforms;return new EC(new fn(g),p,_)}class zh extends Rg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zh}}function bC(r,t,n,s){const o=r.Cc(1,t,n);Ng("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();os(s,((p,_)=>{const b=Dg(t,p,n);_=_e(_);const A=o.yc(b);if(_ instanceof zh)u.push(b);else{const N=iu(_,A);N!=null&&(u.push(b),f.set(b,N))}}));const g=new bn(u);return new y1(f,g,o.fieldTransforms)}function wC(r,t,n,s,o,u){const f=r.Cc(1,t,n),g=[qm(t,s,n)],p=[o];if(u.length%2!=0)throw new rt(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)g.push(qm(t,u[N])),p.push(u[N+1]);const _=[],b=fn.empty();for(let N=g.length-1;N>=0;--N)if(!b1(_,g[N])){const H=g[N];let Z=p[N];Z=_e(Z);const et=f.yc(H);if(Z instanceof zh)_.push(H);else{const W=iu(Z,et);W!=null&&(_.push(H),b.set(H,W))}}const A=new bn(_);return new y1(b,A,f.fieldTransforms)}function AC(r,t,n,s=!1){return iu(n,r.Cc(s?4:3,t))}function iu(r,t){if(T1(r=_e(r)))return Ng("Unsupported field value:",t,r),E1(r,t);if(r instanceof Rg)return(function(s,o){if(!_1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const g of s){let p=iu(g,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=_e(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Jt.fromDate(s);return{timestampValue:ch(o.serializer,u)}}if(s instanceof Jt){const u=new Jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ch(o.serializer,u)}}if(s instanceof Di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:kT(o.serializer,s._byteString)};if(s instanceof ye){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Oi)return(function(f,g){return{mapValue:{fields:{[hT]:{stringValue:fT},[ah]:{arrayValue:{values:f.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return ug(g.serializer,_)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Sh(s)}`)})(r,t)}function E1(r,t){const n={};return sT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):os(r,((s,o)=>{const u=iu(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function T1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Jt||r instanceof Di||r instanceof Ln||r instanceof ye||r instanceof Rg||r instanceof Oi)}function Ng(r,t,n){if(!T1(n)||!iT(n)){const s=Sh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function qm(r,t,n){if((t=_e(t))instanceof Ph)return t._internalPath;if(typeof t=="string")return Dg(r,t);throw mh("Field path arguments must be of type string or ",r,!1,void 0,n)}const SC=new RegExp("[~\\*/\\[\\]]");function Dg(r,t,n){if(t.search(SC)>=0)throw mh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ph(...t.split("."))._internalPath}catch{throw mh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function mh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new rt(Y.INVALID_ARGUMENT,g+r+p)}function b1(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Bh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xC extends w1{data(){return super.data()}}function Bh(r,t){return typeof t=="string"?Dg(r,t):t instanceof Ph?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class A1 extends Og{}function S1(r,t,...n){let s=[];t instanceof Og&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Mg)).length,g=u.filter((p=>p instanceof qh)).length;if(f>1||f>0&&g>0)throw new rt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class qh extends A1{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new qh(t,n,s)}_apply(t){const n=this._parse(t);return x1(t._query,n),new ta(t.firestore,t.converter,Dm(t._query,n))}_parse(t){const n=Uh(t.firestore);return(function(u,f,g,p,_,b,A){let N;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){U0(A,b);const Z=[];for(const et of A)Z.push(P0(p,u,et));N={arrayValue:{values:Z}}}else N=P0(p,u,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||U0(A,b),N=AC(g,f,A,b==="in"||b==="not-in");return Ce.create(_,b,N)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function RC(r,t,n){const s=t,o=Bh("where",r);return qh._create(o,s,n)}class Mg extends Og{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Mg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const g=u.getFlattenedFilters();for(const p of g)x1(f,p),f=Dm(f,p)})(t._query,n),new ta(t.firestore,t.converter,Dm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vg extends A1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Vg(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(u,f)})(t._query,this._field,this._direction);return new ta(t.firestore,t.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new _o(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,n))}}function CC(r,t="asc"){const n=t,s=Bh("orderBy",r);return Vg._create(s,n)}function P0(r,t,n){if(typeof(n=_e(n))=="string"){if(n==="")throw new rt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ET(t)&&n.indexOf("/")!==-1)throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!ct.isDocumentKey(s))throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return e0(r,new ct(s))}if(n instanceof ye)return e0(r,n._key);throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(n)}.`)}function U0(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function x1(r,t){const n=(function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class NC{convertValue(t,n="none"){switch(rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(is(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return os(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var s,o,u;const n=(u=(o=(s=t.fields)==null?void 0:s[ah].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>pe(f.doubleValue)));return new Oi(n)}convertGeoPoint(t){return new Di(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Rh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const n=ns(t);return new Jt(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Ht(qT(s),9688,{name:t});const o=new Fl(s.get(1),s.get(3)),u=new ct(s.popFirst(5));return o.isEqual(n)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class Ml{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hs extends w1{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Bh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Hs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:Ne("string",Hs._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Xc extends Hs{data(t={}){return super.data(t)}}class eo{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ml(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Xc(this._firestore,this._userDataWriter,s.key,s,new Ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const p=new Xc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ml(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new Xc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ml(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),b=f.indexOf(g.doc.key)),{type:DC(g.type),doc:p,oldIndex:_,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=eo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(r){r=ei(r,ye);const t=ei(r.firestore,na);return mC(Ig(t),r._key).then((n=>VC(t,r,n)))}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Ne("string",eo._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class R1 extends NC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ye(this.firestore,null,n)}}function jg(r){r=ei(r,ta);const t=ei(r.firestore,na),n=Ig(t),s=new R1(t);return IC(r._query),gC(n,r._query).then((o=>new eo(t,s,r,o)))}function MC(r,t,n){r=ei(r,ye);const s=ei(r.firestore,na),o=I1(r.converter,t,n);return Fh(s,[v1(Uh(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Un.none())])}function C1(r,t,n,...s){r=ei(r,ye);const o=ei(r.firestore,na),u=Uh(o);let f;return f=typeof(t=_e(t))=="string"||t instanceof Ph?wC(u,"updateDoc",r._key,t,n,s):bC(u,"updateDoc",r._key,t),Fh(o,[f.toMutation(r._key,Un.exists(!0))])}function N1(r){return Fh(ei(r.firestore,na),[new cg(r._key,Un.none())])}function D1(r,t){const n=ei(r.firestore,na),s=ea(r),o=I1(r.converter,t);return Fh(n,[v1(Uh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Un.exists(!1))]).then((()=>s))}function Fh(r,t){return(function(s,o){const u=new rr;return s.asyncQueue.enqueueAndForget((async()=>nC(await dC(s),o,u))),u.promise})(Ig(r),t)}function VC(r,t,n){const s=n.docs.get(t._key),o=new R1(r);return new Hs(r,o,t._key,s,new Ml(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){go=o})(mo),ji(new ti("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new na(new wx(s.getProvider("auth-internal")),new xx(f,s.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(_.options.projectId,b)})(f,o),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Pn(qv,Fv,t),Pn(qv,Fv,"esm2020")})();function O1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jC=O1,M1=new $s("auth","Firebase",O1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new bh("@firebase/auth");function kC(r,...t){gh.logLevel<=Dt.WARN&&gh.warn(`Auth (${mo}): ${r}`,...t)}function $c(r,...t){gh.logLevel<=Dt.ERROR&&gh.error(`Auth (${mo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(r,...t){throw kg(r,...t)}function Mi(r,...t){return kg(r,...t)}function V1(r,t,n){const s={...jC(),[t]:n};return new $s("auth","Firebase",s).create(t,{appName:r.name})}function Wr(r){return V1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return M1.create(r,...t)}function gt(r,t,...n){if(!r)throw kg(t,...n)}function nr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw $c(t),new Error(t)}function lr(r,t){r||nr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function LC(){return z0()==="http:"||z0()==="https:"}function z0(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LC()||_E()||"connection"in navigator)?navigator.onLine:!0}function UC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t,n){this.shortDelay=t,this.longDelay=n,lr(n>t,"Short delay should be less than long delay!"),this.isMobile=IA()||NA()}get(){return PC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(r,t){lr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qC=new ru(3e4,6e4);function ia(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function us(r,t,n,s,o={}){return k1(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const g=$l({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:p,...u};return CA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&fo(r.emulatorConfig.host)&&(_.credentials="include"),j1.fetch()(await L1(r,r.config.apiHost,n,g),_)})}async function k1(r,t,n){r._canInitEmulator=!1;const s={...zC,...t};try{const o=new HC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw qc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw qc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw qc(r,"user-disabled",f);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw V1(r,b,_);ii(r,b)}}catch(o){if(o instanceof ri)throw o;ii(r,"network-request-failed",{message:String(o)})}}async function Hh(r,t,n,s,o={}){const u=await us(r,t,n,s,o);return"mfaPendingCredential"in u&&ii(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function L1(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Lg(r.config,o):`${r.config.apiScheme}://${o}`;return BC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function FC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Mi(this.auth,"network-request-failed")),qC.get())})}}function qc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Mi(r,t,s);return o.customData._tokenResponse=n,o}function B0(r){return r!==void 0&&r.enterprise!==void 0}class GC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return FC(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QC(r,t){return us(r,"GET","/v2/recaptchaConfig",ia(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(r,t){return us(r,"POST","/v1/accounts:delete",t)}async function ph(r,t){return us(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function YC(r,t=!1){const n=_e(r),s=await n.getIdToken(t),o=Pg(s);gt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ul(mm(o.auth_time)),issuedAtTime:Ul(mm(o.iat)),expirationTime:Ul(mm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mm(r){return Number(r)*1e3}function Pg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const o=fE(n);return o?JSON.parse(o):($c("Failed to decode base64 JWT payload"),null)}catch(o){return $c("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function q0(r){const t=Pg(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ri&&XC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function XC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(r){var A;const t=r.auth,n=await r.getIdToken(),s=await Yl(r,ph(t,{idToken:n}));gt(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(A=o.providerUserInfo)!=null&&A.length?P1(o.providerUserInfo):[],f=JC(r.providerData,u),g=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),_=g?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function ZC(r){const t=_e(r);await yh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function JC(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function P1(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(r,t){const n=await k1(r,{},async()=>{const s=$l({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await L1(r,o,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&fo(r.emulatorConfig.host)&&(p.credentials="include"),j1.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tN(r,t){return us(r,"POST","/v2/accounts:revokeToken",ia(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):q0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=q0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await WC(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new no;return s&&(gt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(gt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(gt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $C(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Yl(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return YC(this,t)}reload(){return ZC(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Wr(this.auth));const t=await this.getIdToken();return await Yl(this,KC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,_=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:A,emailVerified:N,isAnonymous:H,providerData:Z,stsTokenManager:et}=n;gt(A&&et,t,"internal-error");const W=no.fromJSON(this.name,et);gt(typeof A=="string",t,"internal-error"),qr(s,t.name),qr(o,t.name),gt(typeof N=="boolean",t,"internal-error"),gt(typeof H=="boolean",t,"internal-error"),qr(u,t.name),qr(f,t.name),qr(g,t.name),qr(p,t.name),qr(_,t.name),qr(b,t.name);const dt=new Wn({uid:A,auth:t,email:o,emailVerified:N,displayName:s,isAnonymous:H,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:W,createdAt:_,lastLoginAt:b});return Z&&Array.isArray(Z)&&(dt.providerData=Z.map(yt=>({...yt}))),p&&(dt._redirectEventId=p),dt}static async _fromIdTokenResponse(t,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await yh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];gt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?P1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),g=new no;g.updateFromIdToken(s);const p=new Wn({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;function ir(r){lr(r instanceof Function,"Expected a class definition");let t=F0.get(r);return t?(lr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,F0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}U1.type="NONE";const H0=U1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(r,t,n){return`firebase:${r}:${t}:${n}`}class io{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ph(this.auth,{idToken:t}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new io(ir(H0),t,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||ir(H0);const f=Zc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const b=await _._get(f);if(b){let A;if(typeof b=="string"){const N=await ph(t,{idToken:b}).catch(()=>{});if(!N)break;A=await Wn._fromGetAccountInfoResponse(t,N,b)}else A=Wn._fromJSON(t,b);_!==u&&(g=A),u=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new io(u,t,s):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new io(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(F1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(z1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(G1(t))return"Blackberry";if(Q1(t))return"Webos";if(B1(t))return"Safari";if((t.includes("chrome/")||q1(t))&&!t.includes("edge/"))return"Chrome";if(H1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function z1(r=Je()){return/firefox\//i.test(r)}function B1(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function q1(r=Je()){return/crios\//i.test(r)}function F1(r=Je()){return/iemobile/i.test(r)}function H1(r=Je()){return/android/i.test(r)}function G1(r=Je()){return/blackberry/i.test(r)}function Q1(r=Je()){return/webos/i.test(r)}function Ug(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function eN(r=Je()){var t;return Ug(r)&&!!((t=window.navigator)!=null&&t.standalone)}function nN(){return DA()&&document.documentMode===10}function K1(r=Je()){return Ug(r)||H1(r)||Q1(r)||G1(r)||/windows phone/i.test(r)||F1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(r,t=[]){let n;switch(r){case"Browser":n=G0(Je());break;case"Worker":n=`${G0(Je())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,g)=>{try{const p=t(u);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(r,t={}){return us(r,"GET","/v2/passwordPolicy",ia(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=6;class aN{constructor(t){var s;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q0(this),this.idTokenSubscription=new Q0(this),this.beforeStateQueue=new iN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await io.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ph(this,{idToken:t}),s=await Wn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(Jn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await yh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=UC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jn(this.app))return Promise.reject(Wr(this));const n=t?_e(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jn(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await rN(this),n=new aN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $s("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await tN(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ir(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Y1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var n;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&kC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Eo(r){return _e(r)}class Q0{constructor(t){this.auth=t,this.observer=null,this.addObserver=PA(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lN(r){Gh=r}function X1(r){return Gh.loadJS(r)}function uN(){return Gh.recaptchaEnterpriseScript}function cN(){return Gh.gapiScript}function hN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class fN{constructor(){this.enterprise=new dN}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class dN{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const mN="recaptcha-enterprise",$1="NO_RECAPTCHA";class gN{constructor(t){this.type=mN,this.auth=Eo(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{QC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new GC(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(p=>{g(p)})})}function o(u,f,g){const p=window.grecaptcha;B0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(_=>{f(_)}).catch(()=>{f($1)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(g=>{if(!n&&B0(window.grecaptcha))o(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=uN();p.length!==0&&(p+=g),X1(p).then(()=>{o(g,u,f)}).catch(_=>{f(_)})}}).catch(g=>{f(g)})})}}async function K0(r,t,n,s=!1,o=!1){const u=new gN(r);let f;if(o)f=$1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const g={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Y0(r,t,n,s,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await K0(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await K0(r,t,n,n==="getOobCode");return s(r,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(r,t){const n=Zs(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ts(u,t??{}))return o;ii(o,"already-initialized")}return n.initialize({options:t})}function yN(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ir);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function _N(r,t,n){const s=Eo(r);gt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=Z1(t),{host:f,port:g}=vN(t),p=g===null?"":`:${g}`,_={url:`${u}//${f}${p}/`},b=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){gt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),gt(ts(_,s.config.emulator)&&ts(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,fo(f)?(pE(`${u}//${f}${p}`),yE("Auth",!0)):EN()}function Z1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function vN(r){const t=Z1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:X0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:X0(f)}}}function X0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function EN(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(t){return nr("not implemented")}_linkToIdToken(t,n){return nr("not implemented")}_getReauthenticationResolver(t){return nr("not implemented")}}async function TN(r,t){return us(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(r,t){return Hh(r,"POST","/v1/accounts:signInWithPassword",ia(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(r,t){return Hh(r,"POST","/v1/accounts:signInWithEmailLink",ia(r,t))}async function AN(r,t){return Hh(r,"POST","/v1/accounts:signInWithEmailLink",ia(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends zg{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Xl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Xl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y0(t,n,"signInWithPassword",bN);case"emailLink":return wN(t,{email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y0(t,s,"signUpPassword",TN);case"emailLink":return AN(t,{idToken:n,email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(r,t){return Hh(r,"POST","/v1/accounts:signInWithIdp",ia(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="http://localhost";class Xs extends zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Xs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Xs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ro(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ro(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ro(t,n)}buildRequest(){const t={requestUri:SN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=$l(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IN(r){const t=Rl(Cl(r)).link,n=t?Rl(Cl(t)).deep_link_id:null,s=Rl(Cl(r)).deep_link_id;return(s?Rl(Cl(s)).link:null)||s||n||t||r}class Bg{constructor(t){const n=Rl(Cl(t)),s=n.apiKey??null,o=n.oobCode??null,u=xN(n.mode??null);gt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=IN(t);try{return new Bg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(t,n){return Xl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Bg.parseLink(n);return gt(s,"argument-error"),Xl._fromEmailAndCode(t,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends J1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends su{constructor(){super("facebook.com")}static credential(t){return Xs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends su{constructor(){super("github.com")}static credential(t){return Xs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qr.credential(t.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends su{constructor(){super("twitter.com")}static credential(t,n){return Xs._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Wn._fromIdTokenResponse(t,s,o),f=$0(s);return new ho({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=$0(s);return new ho({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function $0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends ri{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new _h(t,n,s,o)}}function W1(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(r,u,t,s):u})}async function RN(r,t,n=!1){const s=await Yl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ho._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(r,t,n=!1){const{auth:s}=r;if(Jn(s.app))return Promise.reject(Wr(s));const o="reauthenticate";try{const u=await Yl(r,W1(s,o,t,r),n);gt(u.idToken,s,"internal-error");const f=Pg(u.idToken);gt(f,s,"internal-error");const{sub:g}=f;return gt(r.uid===g,s,"user-mismatch"),ho._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ii(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tb(r,t,n=!1){if(Jn(r.app))return Promise.reject(Wr(r));const s="signIn",o=await W1(r,s,t),u=await ho._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function NN(r,t){return tb(Eo(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(r){const t=Eo(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function ON(r,t,n){return Jn(r.app)?Promise.reject(Wr(r)):NN(_e(r),To.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&DN(r),s})}function MN(r,t,n,s){return _e(r).onIdTokenChanged(t,n,s)}function VN(r,t,n){return _e(r).beforeAuthStateChanged(t,n)}function jN(r,t,n,s){return _e(r).onAuthStateChanged(t,n,s)}function kN(r){return _e(r).signOut()}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=1e3,PN=10;class nb extends eb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);nN()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,PN):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},LN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}nb.type="LOCAL";const UN=nb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib extends eb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}ib.type="SESSION";const rb=ib;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Qh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(f).map(async _=>_(n.origin,u)),p=await zN(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const _=qg("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const N=A;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(N.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function qN(r){Vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function FN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function GN(){return sb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="firebaseLocalStorageDb",QN=1,Eh="firebaseLocalStorage",ob="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(r,t){return r.transaction([Eh],t?"readwrite":"readonly").objectStore(Eh)}function KN(){const r=indexedDB.deleteDatabase(ab);return new au(r).toPromise()}function Gm(){const r=indexedDB.open(ab,QN);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Eh,{keyPath:ob})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Eh)?t(s):(s.close(),await KN(),t(await Gm()))})})}async function Z0(r,t,n){const s=Kh(r,!0).put({[ob]:t,value:n});return new au(s).toPromise()}async function YN(r,t){const n=Kh(r,!1).get(t),s=await new au(n).toPromise();return s===void 0?null:s.value}function J0(r,t){const n=Kh(r,!0).delete(t);return new au(n).toPromise()}const XN=800,$N=3;class lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>$N)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(GN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await FN(),!this.activeServiceWorker)return;this.sender=new BN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gm();return await Z0(t,vh,"1"),await J0(t,vh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Z0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>YN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>J0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Kh(o,!1).getAll();return new au(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lb.type="LOCAL";const ZN=lb;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(r,t){return t?ir(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends zg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ro(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ro(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function WN(r){return tb(r.auth,new Fg(r),r.bypassAuthState)}function t4(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),CN(n,new Fg(r),r.bypassAuthState)}async function e4(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),RN(n,new Fg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return WN;case"linkViaPopup":case"linkViaRedirect":return e4;case"reauthViaPopup":case"reauthViaRedirect":return t4;default:ii(this.auth,"internal-error")}}resolve(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=new ru(2e3,1e4);class Ja extends ub{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const t=qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,n4.get())};t()}}Ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="pendingRedirect",Jc=new Map;class r4 extends ub{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Jc.get(this.auth._key());if(!t){try{const s=await s4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Jc.set(this.auth._key(),t)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s4(r,t){const n=l4(t),s=o4(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function a4(r,t){Jc.set(r._key(),t)}function o4(r){return ir(r._redirectPersistence)}function l4(r){return Zc(i4,r.config.apiKey,r.name)}async function u4(r,t,n=!1){if(Jn(r.app))return Promise.reject(Wr(r));const s=Eo(r),o=JN(s,t),f=await new r4(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=600*1e3;class h4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!f4(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!cb(t)){const o=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Mi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=c4&&this.cachedEventUids.clear(),this.cachedEventUids.has(W0(t))}saveEventToCache(t){this.cachedEventUids.add(W0(t)),this.lastProcessedEventTime=Date.now()}}function W0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function cb({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function f4(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(r,t={}){return us(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g4=/^https?/;async function p4(r){if(r.config.emulator)return;const{authorizedDomains:t}=await d4(r);for(const n of t)try{if(y4(n))return}catch{}ii(r,"unauthorized-domain")}function y4(r){const t=Fm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!g4.test(n))return!1;if(m4.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new ru(3e4,6e4);function tE(){const r=Vi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function v4(r){return new Promise((t,n)=>{var o,u,f;function s(){tE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tE(),n(Mi(r,"network-request-failed"))},timeout:_4.get()})}if((u=(o=Vi().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=Vi().gapi)!=null&&f.load)s();else{const g=hN("iframefcb");return Vi()[g]=()=>{gapi.load?s():n(Mi(r,"network-request-failed"))},X1(`${cN()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw Wc=null,t})}let Wc=null;function E4(r){return Wc=Wc||v4(r),Wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=new ru(5e3,15e3),b4="__/auth/iframe",w4="emulator/auth/iframe",A4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x4(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Lg(t,w4):`https://${r.config.authDomain}/${b4}`,s={apiKey:t.apiKey,appName:r.name,v:mo},o=S4.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${$l(s).slice(1)}`}async function I4(r){const t=await E4(r),n=Vi().gapi;return gt(n,r,"internal-error"),t.open({where:document.body,url:x4(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A4,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Mi(r,"network-request-failed"),g=Vi().setTimeout(()=>{u(f)},T4.get());function p(){Vi().clearTimeout(g),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C4=500,N4=600,D4="_blank",O4="http://localhost";class eE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M4(r,t,n,s=C4,o=N4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...R4,width:s.toString(),height:o.toString(),top:u,left:f},_=Je().toLowerCase();n&&(g=q1(_)?D4:n),z1(_)&&(t=t||O4,p.scrollbars="yes");const b=Object.entries(p).reduce((N,[H,Z])=>`${N}${H}=${Z},`,"");if(eN(_)&&g!=="_self")return V4(t||"",g),new eE(null);const A=window.open(t||"",g,b);gt(A,r,"popup-blocked");try{A.focus()}catch{}return new eE(A)}function V4(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="__/auth/handler",k4="emulator/auth/handler",L4=encodeURIComponent("fac");async function nE(r,t,n,s,o,u){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:mo,eventId:o};if(t instanceof J1){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",LA(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))f[b]=A}if(t instanceof su){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(f.scopes=b.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const p=await r._getAppCheckToken(),_=p?`#${L4}=${encodeURIComponent(p)}`:"";return`${P4(r)}?${$l(g).slice(1)}${_}`}function P4({config:r}){return r.emulator?Lg(r,k4):`https://${r.authDomain}/${j4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="webStorageSupport";class U4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rb,this._completeRedirectFn=u4,this._overrideRedirectResult=a4}async _openPopup(t,n,s,o){var f;lr((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await nE(t,n,s,Fm(),o);return M4(t,u,qg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await nE(t,n,s,Fm(),o);return qN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(lr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await I4(t),s=new h4(t);return n.register("authEvent",o=>(gt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(gm,{type:gm},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[gm];u!==void 0&&n(!!u),ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=p4(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return K1()||B1()||Ug()}}const z4=U4;var iE="@firebase/auth",rE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F4(r){ji(new ti("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;gt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y1(r)},_=new oN(s,o,u,p);return yN(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ji(new ti("auth-internal",t=>{const n=Eo(t.getProvider("auth").getImmediate());return(s=>new B4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(iE,rE,q4(r)),Pn(iE,rE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=300,G4=gE("authIdTokenMaxAge")||H4;let sE=null;const Q4=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>G4)return;const o=n==null?void 0:n.token;sE!==o&&(sE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function K4(r=Ym()){const t=Zs(r,"auth");if(t.isInitialized())return t.getImmediate();const n=pN(r,{popupRedirectResolver:z4,persistence:[ZN,UN,rb]}),s=gE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=Q4(u.toString());VN(n,f,()=>f(n.currentUser)),MN(n,g=>f(g))}}const o=dE("auth");return o&&_N(n,`http://${o}`),n}function Y4(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}lN({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Mi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Y4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F4("Browser");const X4={apiKey:"AIzaSyCxjlE8ijBg5nh4vzM9ETEaOignWiYXkBM",authDomain:"smart-95d4a.firebaseapp.com",projectId:"smart-95d4a",storageBucket:"smart-95d4a.firebasestorage.app",messagingSenderId:"20782961512",appId:"1:20782961512:web:5717ab37753cec8ef87cdd",measurementId:"G-7Q56B143H4"},Hg=AE(X4);typeof window<"u"&&px(Hg);const si=yC(Hg),pm=K4(Hg),hb="site_settings",fb=async()=>{try{const r=ea(si,"settings",hb),t=await OC(r);return t.exists()?t.data():{}}catch(r){return console.error("Error getting settings:",r),{}}},$4=async r=>{try{const t=ea(si,"settings",hb);await MC(t,r,{merge:!0})}catch(t){throw console.error("Error updating settings:",t),t}},ym=({icon:r,title:t,description:n})=>y.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse",children:[y.jsx("div",{className:"flex-shrink-0 bg-[#F59E0B] text-white rounded-full p-3 shadow-lg",children:r}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-[#0A1F44] mb-2",children:t}),y.jsx("p",{className:"text-gray-600",children:n})]})]}),Z4=()=>{const[r,t]=Nt.useState({});return Nt.useEffect(()=>{(async()=>{const s=await fb();t(s)})()},[]),y.jsx("section",{className:"py-20 bg-[#F9FAFB]",children:y.jsx("div",{className:"container mx-auto px-6",children:y.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12",children:[y.jsxs("div",{className:"lg:w-1/2",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#0A1F44] mb-6",children:"   "}),y.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"         .          ."}),y.jsxs("div",{className:"space-y-8",children:[y.jsx(ym,{icon:y.jsx(tm,{className:"w-6 h-6"}),title:" ",description:"        ."}),y.jsx(ym,{icon:y.jsx(tm,{className:"w-6 h-6"}),title:"  ",description:"           ."}),y.jsx(ym,{icon:y.jsx(tm,{className:"w-6 h-6"}),title:"  ",description:"          ."})]})]}),y.jsx("div",{className:"lg:w-1/2 flex justify-center",children:y.jsxs("div",{className:"relative w-[350px] h-[450px] md:w-[450px] md:h-[550px]",children:[y.jsx("div",{className:"absolute inset-0 bg-[#F59E0B]/20 rounded-3xl transform rotate-6"}),y.jsx("img",{src:r.partnerImageUrl||"https://picsum.photos/seed/strategy-meeting/600/800",alt:"   ",className:"relative w-full h-full object-cover rounded-3xl shadow-2xl"})]})})]})})})},J4=({icon:r,title:t,description:n,onNavigate:s})=>y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 h-full flex flex-col",children:[y.jsx("div",{className:"mx-auto inline-block bg-[#F59E0B] text-white p-4 rounded-full mb-6 shadow-lg",children:r}),y.jsx("h3",{className:"text-2xl font-bold mb-4 text-[#0A1F44] text-center",children:t}),y.jsx("div",{className:"text-gray-600 text-right flex-grow",children:n}),y.jsx("div",{className:"mt-auto pt-6 text-center",children:y.jsx("button",{onClick:()=>s(t),className:"inline-block bg-white border border-[#3B82F6] text-[#3B82F6] hover:bg-[#3B82F6] hover:text-white font-semibold py-2 px-6 rounded-full transition-colors duration-300",children:" "})})]}),W4=({onNavigate:r})=>{const t=[{icon:y.jsx(aA,{className:"w-8 h-8"}),title:"  ",description:y.jsxs("ul",{className:"space-y-2 list-disc list-inside",children:[y.jsx("li",{children:"   "}),y.jsx("li",{children:"   "}),y.jsx("li",{children:"    (SMART)"}),y.jsx("li",{children:"    "}),y.jsx("li",{children:"     "})]})},{icon:y.jsx(sA,{className:"w-8 h-8"}),title:" ",description:y.jsxs("ul",{className:"space-y-2 list-disc list-inside",children:[y.jsx("li",{children:"   "}),y.jsx("li",{children:"    "}),y.jsx("li",{children:"   "}),y.jsx("li",{children:"    "}),y.jsx("li",{children:"   "})]})},{icon:y.jsx(oA,{className:"w-8 h-8"}),title:"  ",description:y.jsxs("ul",{className:"space-y-2 list-disc list-inside",children:[y.jsx("li",{children:"     "}),y.jsx("li",{children:"    "}),y.jsx("li",{children:"   "}),y.jsx("li",{children:"     "}),y.jsx("li",{children:"    "})]})},{icon:y.jsx(lA,{className:"w-8 h-8"}),title:" ",description:y.jsxs("ul",{className:"space-y-2 list-disc list-inside",children:[y.jsx("li",{children:"    "}),y.jsx("li",{children:"    "}),y.jsx("li",{children:"    "}),y.jsx("li",{children:"     "}),y.jsx("li",{children:"   "})]})},{icon:y.jsx(uA,{className:"w-8 h-8"}),title:" ",description:y.jsxs("ul",{className:"space-y-2 list-disc list-inside",children:[y.jsx("li",{children:"    "}),y.jsx("li",{children:"   "}),y.jsx("li",{children:"   IVR "}),y.jsx("li",{children:"   "}),y.jsx("li",{children:"    "})]})}];return y.jsx("section",{className:"py-20 bg-[#F9FAFB]",children:y.jsxs("div",{className:"container mx-auto px-6",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#0A1F44]",children:"    "}),y.jsx("p",{className:"text-lg text-gray-700 mt-4 max-w-2xl mx-auto",children:"             ."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((n,s)=>y.jsx(J4,{...n,onNavigate:r},s))})]})})},tD=()=>y.jsxs("section",{className:"bg-[#3B82F6] text-white relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#3B82F6]/90 to-[#0A1F44]/80"}),y.jsxs("div",{className:"container mx-auto px-6 py-20 text-center relative z-10",children:[y.jsx("h2",{className:"text-4xl font-bold mb-4",children:"   !"}),y.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"             ."}),y.jsx("a",{href:"#",className:"inline-block bg-[#F59E0B] hover:bg-amber-500 text-[#0A1F44] font-bold py-4 px-10 rounded-full transition-transform transform hover:scale-105 duration-300 shadow-lg text-lg",children:"  "})]})]}),Fc=({number:r,title:t,description:n})=>y.jsxs("div",{className:"relative flex flex-col items-center text-center p-6 bg-white rounded-xl shadow-md",children:[y.jsx("div",{className:"absolute -top-6 bg-[#3B82F6] text-white text-2xl font-bold w-12 h-12 flex items-center justify-center rounded-full border-4 border-[#F9FAFB]",children:r}),y.jsx("h3",{className:"mt-8 text-xl font-bold text-[#0A1F44] mb-2",children:t}),y.jsx("p",{className:"text-gray-600",children:n})]}),eD=()=>y.jsx("section",{className:"py-20 bg-[#F9FAFB]",children:y.jsxs("div",{className:"container mx-auto px-6",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#0A1F44]",children:"  "}),y.jsx("p",{className:"text-lg text-gray-700 mt-4 max-w-2xl mx-auto",children:"             ."})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"hidden lg:block absolute top-1/2 left-0 w-full h-0.5 bg-gray-300 -translate-y-1/2"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-16 lg:gap-8",children:[y.jsx(Fc,{number:"01",title:" ",description:"          ."}),y.jsx(Fc,{number:"02",title:" ",description:"         ."}),y.jsx(Fc,{number:"03",title:" ",description:"          ."}),y.jsx(Fc,{number:"04",title:" ",description:"           ."})]})]})]})}),_m=({value:r,label:t})=>y.jsxs("div",{className:"text-center",children:[y.jsxs("p",{className:"text-5xl md:text-7xl font-extrabold text-[#3B82F6]",children:[r,"+"]}),y.jsx("p",{className:"text-xl text-gray-300 mt-2",children:t})]}),nD=()=>y.jsxs("section",{className:"bg-[#0A1F44] text-white relative py-20 overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-20 overflow-hidden",style:{lineHeight:0},children:y.jsx("svg",{viewBox:"0 0 1440 120",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full block",preserveAspectRatio:"none",children:y.jsx("path",{d:"M1440,20 C1200,20 1200,80 960,80 C720,80 720,20 480,20 C240,20 240,80 0,80 L0,0 L1440,0 Z",fill:"#F9FAFB"})})}),y.jsxs("div",{className:"container mx-auto px-6 z-10 relative",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"  "}),y.jsx("p",{className:"text-lg text-gray-400 mt-4 max-w-2xl mx-auto",children:"   .       ."})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[y.jsx(_m,{value:"150",label:" "}),y.jsx(_m,{value:"95",label:" "}),y.jsx(_m,{value:"500",label:" "})]})]}),y.jsx("div",{className:"absolute bottom-0 left-0 w-full h-20 overflow-hidden",style:{lineHeight:0},children:y.jsx("svg",{viewBox:"0 0 1440 120",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full block",preserveAspectRatio:"none",children:y.jsx("path",{d:"M1440,80 C1200,80 1200,20 960,20 C720,20 720,80 480,80 C240,80 240,20 0,20 L0,120 L1440,120 Z",fill:"#0A1F44"})})})]}),Yh="featuredProjects",db=async()=>{try{const r=S1(nu(si,Yh),CC("order","asc"));return(await jg(r)).docs.map(n=>({id:n.id,...n.data()}))}catch(r){return console.error("Error getting featured projects:",r),[]}},iD=async r=>{try{return(await D1(nu(si,Yh),{...r,order:r.order||0})).id}catch(t){throw console.error("Error adding featured project:",t),t}},rD=async(r,t)=>{try{const n=ea(si,Yh,r);await C1(n,t)}catch(n){throw console.error("Error updating featured project:",n),n}},sD=async r=>{try{await N1(ea(si,Yh,r))}catch(t){throw console.error("Error deleting featured project:",t),t}},aD=({imageUrl:r,title:t,description:n,serviceLink:s,onNavigate:o})=>{const u=f=>{s&&o&&(f.preventDefault(),o(s))};return y.jsxs("div",{className:`group relative overflow-hidden rounded-lg shadow-lg h-80 ${s?"cursor-pointer":""}`,onClick:u,children:[y.jsx("img",{src:r,alt:t,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),y.jsxs("div",{className:"absolute bottom-0 left-0 p-6 w-full",children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:t}),n&&y.jsx("p",{className:"text-white text-sm mt-2",children:n})]})]})},oD=({onNavigate:r})=>{const[t,n]=Nt.useState([]),[s,o]=Nt.useState(!0);return Nt.useEffect(()=>{(async()=>{try{const f=await db();n(f.slice(0,4))}catch(f){console.error("Error loading featured projects:",f)}finally{o(!1)}})()},[]),y.jsxs("section",{className:"bg-[#0A1F44] py-20 text-white relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0A1F44]/95 to-[#0A1F44]"}),y.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"  "}),y.jsx("p",{className:"text-lg text-gray-400 mt-4 max-w-2xl mx-auto",children:"         ."})]}),s?y.jsx("p",{className:"text-center text-gray-400 py-8",children:" ..."}):t.length===0?y.jsx("p",{className:"text-center text-gray-400 py-8",children:"   "}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map(u=>y.jsx(aD,{imageUrl:u.imageUrl,title:u.title,description:u.description,serviceLink:u.serviceLink,onNavigate:r},u.id))})]})]})},lD=({icon:r,title:t,cta:n,href:s,hoverColor:o})=>y.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"group bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 flex flex-col items-center text-center transform hover:-translate-y-1",children:[y.jsx("div",{className:`p-4 rounded-full text-white bg-[#3B82F6] transition-colors duration-300 ${o}`,children:r}),y.jsx("h3",{className:"text-xl font-bold mt-4 mb-1 text-[#0A1F44]",children:t}),y.jsx("p",{className:"text-[#3B82F6] font-semibold",children:n})]}),uD=()=>{const r=[{icon:y.jsx(hA,{className:"w-8 h-8"}),title:"",cta:"  ",href:"https://wa.me/+966123456789",hoverColor:"group-hover:bg-[#25D366]"},{icon:y.jsx(lE,{className:"w-8 h-8"}),title:"",cta:" ",href:"https://www.facebook.com/",hoverColor:"group-hover:bg-[#1877F2]"},{icon:y.jsx(uE,{className:"w-8 h-8"}),title:"",cta:" ",href:"https://www.instagram.com/",hoverColor:"group-hover:bg-[#E4405F]"},{icon:y.jsx(fA,{className:"w-8 h-8"}),title:" ",cta:"  ",href:"tel:+966123456789",hoverColor:"group-hover:bg-[#3B82F6]"},{icon:y.jsx(dA,{className:"w-8 h-8"}),title:" ",cta:" ",href:"mailto:info@smartmedia.com",hoverColor:"group-hover:bg-[#778599]"}];return y.jsx("section",{className:"py-20 bg-[#F9FAFB]",children:y.jsxs("div",{className:"container mx-auto px-6",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#0A1F44]",children:"  "}),y.jsx("p",{className:"text-lg text-gray-700 mt-4 max-w-2xl mx-auto",children:"  .           ."})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:r.map((t,n)=>y.jsx(lD,{...t},n))})]})})},Fr=({href:r,children:t})=>y.jsx("li",{children:y.jsx("a",{href:r,className:"text-gray-400 hover:text-white transition-colors duration-300",children:t})}),cD=()=>y.jsx("footer",{className:"bg-[#0A1F44] text-gray-300 pt-16 pb-8",children:y.jsxs("div",{className:"container mx-auto px-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Smart Media"}),y.jsx("p",{className:"text-gray-400",children:"            ."}),y.jsxs("div",{className:"flex space-x-4 space-x-reverse pt-2",children:[y.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:y.jsx(lE,{})}),y.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:y.jsx(cA,{})}),y.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:y.jsx(uE,{})})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-xl font-semibold text-white",children:" "}),y.jsxs("ul",{className:"space-y-3",children:[y.jsx(Fr,{href:"#",children:""}),y.jsx(Fr,{href:"#",children:""}),y.jsx(Fr,{href:"#",children:""}),y.jsx(Fr,{href:"#",children:" "})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-xl font-semibold text-white",children:""}),y.jsxs("ul",{className:"space-y-3",children:[y.jsx(Fr,{href:"#",children:" "}),y.jsx(Fr,{href:"#",children:"  "}),y.jsx(Fr,{href:"#",children:"  "}),y.jsx(Fr,{href:"#",children:"  "})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-xl font-semibold text-white",children:" "}),y.jsxs("ul",{className:"space-y-3 text-gray-400",children:[y.jsx("li",{children:"   "}),y.jsx("li",{children:"info@smartmedia.com"}),y.jsx("li",{children:"+966 12 345 6789"})]})]})]}),y.jsx("div",{className:"border-t border-gray-800 pt-6 text-center text-gray-500",children:y.jsxs("p",{children:[" ",new Date().getFullYear()," Smart Media.   ."]})})]})}),ou="projects",hD=async r=>{try{return(await D1(nu(si,ou),{...r,createdAt:Jt.now(),updatedAt:Jt.now()})).id}catch(t){throw console.error("Error adding project:",t),t}},fD=async(r,t)=>{try{const n=ea(si,ou,r);await C1(n,{...t,updatedAt:Jt.now()})}catch(n){throw console.error("Error updating project:",n),n}},dD=async r=>{try{const t=ea(si,ou,r);await N1(t)}catch(t){throw console.error("Error deleting project:",t),t}},mD=async r=>{try{const t=S1(nu(si,ou),RC("serviceTitle","==",r)),n=await jg(t),s=[];return n.forEach(o=>{s.push({id:o.id,...o.data()})}),s}catch(t){throw console.error("Error getting projects:",t),t}},gD=async()=>{try{const r=await jg(nu(si,ou)),t=[];return r.forEach(n=>{t.push({id:n.id,...n.data()})}),t}catch(r){throw console.error("Error getting all projects:",r),r}},pD=({isOpen:r,onClose:t,mediaUrl:n,mediaType:s,title:o})=>r?y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:t,children:y.jsxs("div",{className:"relative max-w-6xl w-full max-h-[90vh] bg-white rounded-2xl shadow-2xl overflow-hidden",onClick:u=>u.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-[#0A1F44] to-[#1e3a6f] text-white",children:[y.jsx("h3",{className:"text-xl font-bold",children:o}),y.jsx("button",{onClick:t,className:"text-white hover:text-gray-300 transition-colors p-2 hover:bg-white/10 rounded-lg","aria-label":"",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsx("div",{className:"p-4 bg-gray-50",children:s==="youtube"?y.jsx("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:y.jsx("iframe",{src:`${n}?autoplay=1`,className:"absolute top-0 left-0 w-full h-full rounded-lg",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):y.jsx("div",{className:"flex items-center justify-center",children:y.jsx("img",{src:n,alt:o,className:"max-w-full max-h-[75vh] object-contain rounded-lg"})})}),y.jsx("div",{className:"p-3 bg-gray-100 text-center text-gray-600 text-sm",children:"      "})]})}):null,yD=({serviceTitle:r,onBack:t})=>{const[n,s]=Nt.useState([]),[o,u]=Nt.useState(!0),[f,g]=Nt.useState(null);return Nt.useEffect(()=>{(async()=>{try{u(!0);const _=await mD(r);s(_)}catch(_){console.error("Error loading projects:",_)}finally{u(!1)}})()},[r]),y.jsx("section",{className:"pt-4 pb-20 bg-gray-50 min-h-screen",children:y.jsxs("div",{className:"container mx-auto px-6",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#0A1F44]",children:r}),y.jsxs("p",{className:"text-lg text-gray-700 mt-4 max-w-2xl mx-auto",children:["        ",r,"."]})]}),o?y.jsxs("div",{className:"text-center text-gray-600 py-12",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#F59E0B]"}),y.jsx("p",{className:"mt-4",children:" ..."})]}):n.length>0?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(p=>y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-shadow duration-300",children:[y.jsx("div",{className:"relative cursor-pointer group",onClick:()=>g({url:p.mediaUrl,type:p.mediaType,title:p.title}),children:p.mediaType==="youtube"?y.jsxs("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:[y.jsx("img",{src:`https://img.youtube.com/vi/${p.mediaUrl.split("/").pop()}/maxresdefault.jpg`,alt:p.title,className:"absolute top-0 left-0 w-full h-full object-cover",onError:_=>{_.currentTarget.src=`https://img.youtube.com/vi/${p.mediaUrl.split("/").pop()}/hqdefault.jpg`}}),y.jsx("div",{className:"absolute inset-0 bg-black/30 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:y.jsx("div",{className:"bg-red-600 rounded-full p-4 group-hover:scale-110 transition-transform shadow-2xl",children:y.jsx("svg",{className:"w-12 h-12 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M8 5v14l11-7z"})})})})]}):y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:p.mediaUrl,alt:p.title,className:"w-full h-64 object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:y.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-white/90 rounded-full p-3 shadow-lg",children:y.jsx("svg",{className:"w-8 h-8 text-[#0A1F44]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})})]})}),y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:"text-xl font-bold text-[#0A1F44] mb-2",children:p.title}),p.description&&y.jsx("p",{className:"text-gray-600 mb-3",children:p.description}),p.category&&y.jsx("span",{className:"inline-block bg-[#F59E0B]/10 text-[#F59E0B] px-3 py-1 rounded-full text-sm font-semibold",children:p.category})]})]},p.id))}),y.jsx(pD,{isOpen:f!==null,onClose:()=>g(null),mediaUrl:(f==null?void 0:f.url)||"",mediaType:(f==null?void 0:f.type)||"image",title:(f==null?void 0:f.title)||""})]}):y.jsxs("div",{className:"text-center text-gray-600 p-12 bg-white rounded-lg shadow-md max-w-2xl mx-auto",children:[y.jsx("h3",{className:"text-2xl font-semibold text-[#0A1F44]",children:"    "}),y.jsx("p",{className:"mt-2",children:"           .     !"})]})]})})},aE=r=>{if(!r)return r;const t=/drive\.google\.com\/file\/d\/([a-zA-Z0-9_-]+)/,n=r.match(t);return n&&n[1]?`https://drive.google.com/uc?export=view&id=${n[1]}`:r},_D=r=>{if(!r)return null;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/,/youtube\.com\/v\/([a-zA-Z0-9_-]{11})/];for(const n of t){const s=r.match(n);if(s&&s[1])return s[1]}return null},vD=r=>{const t=_D(r);return t?`https://www.youtube.com/embed/${t}`:null},ED=r=>r?r.includes("youtube.com")||r.includes("youtu.be")?"youtube":r.includes("drive.google.com")||/\.(jpg|jpeg|png|gif|webp|svg)$/i.test(r)?"image":"unknown":"unknown",TD=({onBack:r})=>{const[t,n]=Nt.useState("projects"),[s,o]=Nt.useState([]),[u,f]=Nt.useState(!0),[g,p]=Nt.useState(null),[_,b]=Nt.useState(!1),[A,N]=Nt.useState({serviceTitle:"",title:"",description:"",mediaUrl:"",category:""}),[H,Z]=Nt.useState({}),[et,W]=Nt.useState(!1),[dt,yt]=Nt.useState([]),[ht,kt]=Nt.useState(null),[Wt,St]=Nt.useState(!1),[x,S]=Nt.useState({title:"",description:"",imageUrl:"",serviceLink:"",order:0}),C=["  "," ","  "," "," "];Nt.useEffect(()=>{nt(),j(),L()},[]);const j=async()=>{try{const V=await fb();Z(V)}catch(V){console.error("Error loading settings:",V)}},O=async()=>{try{W(!0),await $4(H),alert("   ")}catch(V){console.error("Error saving settings:",V),alert("    ")}finally{W(!1)}},L=async()=>{try{const V=await db();yt(V)}catch(V){console.error("Error loading featured projects:",V)}},I=async V=>{if(V.preventDefault(),!x.title||!x.imageUrl){alert("     ");return}try{let J=x.imageUrl;J=aE(x.imageUrl);const it={...x,imageUrl:J};ht!=null&&ht.id?(await rD(ht.id,it),alert("   ")):(await iD(it),alert("   ")),G(),L()}catch(J){console.error("Error saving featured project:",J),alert("    ")}},ee=V=>{kt(V),S({title:V.title,description:V.description,imageUrl:V.imageUrl,serviceLink:V.serviceLink||"",order:V.order||0}),St(!0)},he=async V=>{if(confirm("      "))try{await sD(V),alert("   "),L()}catch(J){console.error("Error deleting featured project:",J),alert("    ")}},G=()=>{S({title:"",description:"",imageUrl:"",serviceLink:"",order:0}),kt(null),St(!1)},nt=async()=>{try{f(!0);const V=await gD();o(V)}catch(V){console.error("Error loading projects:",V),alert("    ")}finally{f(!1)}},lt=async V=>{if(V.preventDefault(),!A.serviceTitle||!A.title||!A.mediaUrl){alert("    ");return}try{let J=A.mediaUrl;const it=ED(A.mediaUrl);if(it==="image")J=aE(A.mediaUrl);else if(it==="youtube"){const vt=vD(A.mediaUrl);vt&&(J=vt)}const mt={...A,mediaUrl:J,mediaType:it==="youtube"?"youtube":"image"};g!=null&&g.id?(await fD(g.id,mt),alert("   ")):(await hD(mt),alert("   ")),M(),nt()}catch(J){console.error("Error saving project:",J),alert("    ")}},Vt=V=>{p(V),N({serviceTitle:V.serviceTitle,title:V.title,description:V.description,mediaUrl:V.mediaUrl,category:V.category||""}),b(!0)},Bt=async V=>{if(confirm("      "))try{await dD(V),alert("   "),nt()}catch(J){console.error("Error deleting project:",J),alert("    ")}},M=()=>{N({serviceTitle:"",title:"",description:"",mediaUrl:"",category:""}),p(null),b(!1)};return y.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:y.jsxs("div",{className:"container mx-auto px-6",children:[y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-3xl font-bold text-[#0A1F44]",children:" "}),y.jsx("button",{onClick:r,className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors",children:"  "})]}),y.jsxs("div",{className:"flex gap-4 mt-6 border-b",children:[y.jsx("button",{onClick:()=>n("projects"),className:`pb-3 px-4 font-semibold transition-colors ${t==="projects"?"text-[#F59E0B] border-b-2 border-[#F59E0B]":"text-gray-600 hover:text-gray-900"}`,children:"  "}),y.jsx("button",{onClick:()=>n("featured"),className:`pb-3 px-4 font-semibold transition-colors ${t==="featured"?"text-[#F59E0B] border-b-2 border-[#F59E0B]":"text-gray-600 hover:text-gray-900"}`,children:"  "}),y.jsx("button",{onClick:()=>n("settings"),className:`pb-3 px-4 font-semibold transition-colors ${t==="settings"?"text-[#F59E0B] border-b-2 border-[#F59E0B]":"text-gray-600 hover:text-gray-900"}`,children:""})]})]}),t==="settings"&&y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold text-[#0A1F44] mb-6",children:"  "}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:'  "   "'}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"  "}),y.jsx("input",{type:"url",value:H.partnerImageUrl||"",onChange:V=>Z({...H,partnerImageUrl:V.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-[#F59E0B]",placeholder:"https://example.com/image.jpg   Google Drive"}),y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'        "   "'})]})]}),y.jsx("button",{onClick:O,disabled:et,className:"bg-[#F59E0B] hover:bg-[#EF8C00] text-white font-bold px-8 py-3 rounded-lg transition-colors disabled:opacity-50",children:et?" ...":" "})]})]}),t==="featured"&&y.jsxs(y.Fragment,{children:[!Wt&&y.jsx("button",{onClick:()=>St(!0),className:"bg-[#F59E0B] hover:bg-[#EF8C00] text-white font-bold px-8 py-3 rounded-lg shadow-lg mb-6 transition-colors",children:"+   "}),Wt&&y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold text-[#0A1F44] mb-6",children:ht?" ":"  "}),y.jsxs("form",{onSubmit:I,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"  *"}),y.jsx("input",{type:"text",value:x.title,onChange:V=>S({...x,title:V.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-[#F59E0B]",placeholder:":   ",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:""}),y.jsx("textarea",{value:x.description,onChange:V=>S({...x,description:V.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-[#F59E0B]",placeholder:"  ...",rows:3})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"  *"}),y.jsx("input",{type:"url",value:x.imageUrl,onChange:V=>S({...x,imageUrl:V.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-[#F59E0B]",placeholder:"   Google Drive",required:!0}),y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"    Google Drive "})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"    ()"}),y.jsxs("select",{value:x.serviceLink,onChange:V=>S({...x,serviceLink:V.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-[#F59E0B]",children:[y.jsx("option",{value:"",children:" "}),y.jsx("option",{value:"  ",children:"  "}),y.jsx("option",{value:" ",children:" "}),y.jsx("option",{value:"  ",children:"  "}),y.jsx("option",{value:" ",children:" "}),y.jsx("option",{value:" ",children:" "})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:""}),y.jsx("input",{type:"number",value:x.order,onChange:V=>S({...x,order:parseInt(V.target.value)||0}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-[#F59E0B]",placeholder:"0"}),y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"   "})]}),y.jsxs("div",{className:"flex gap-4 pt-4",children:[y.jsx("button",{type:"submit",className:"bg-[#F59E0B] hover:bg-[#EF8C00] text-white font-bold px-8 py-3 rounded-lg transition-colors",children:ht?" ":" "}),y.jsx("button",{type:"button",onClick:G,className:"bg-gray-500 hover:bg-gray-600 text-white font-bold px-8 py-3 rounded-lg transition-colors",children:""})]})]})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-[#0A1F44] mb-6",children:"    "}),dt.length===0?y.jsx("p",{className:"text-center text-gray-600 py-8",children:"   "}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:dt.map(V=>y.jsxs("div",{className:"border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[y.jsx("img",{src:V.imageUrl,alt:V.title,className:"w-full h-48 object-cover"}),y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"font-bold text-lg mb-2",children:V.title}),V.description&&y.jsx("p",{className:"text-gray-600 text-sm mb-2",children:V.description}),V.serviceLink&&y.jsxs("p",{className:"text-xs text-blue-600 mb-3",children:["  : ",V.serviceLink]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>ee(V),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-1 rounded transition-colors text-sm",children:""}),y.jsx("button",{onClick:()=>he(V.id),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-1 rounded transition-colors text-sm",children:""})]})]})]},V.id))})]})]}),t==="projects"&&y.jsxs(y.Fragment,{children:[!_&&y.jsx("button",{onClick:()=>b(!0),className:"bg-[#F59E0B] hover:bg-[#EF8C00] text-white font-bold px-8 py-3 rounded-lg shadow-lg mb-6 transition-colors",children:"+   "}),_&&y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold text-[#0A1F44] mb-6",children:g?" ":"  "}),y.jsxs("form",{onSubmit:lt,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:" *"}),y.jsxs("select",{value:A.serviceTitle,onChange:V=>N({...A,serviceTitle:V.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-[#F59E0B]",required:!0,children:[y.jsx("option",{value:"",children:" "}),C.map(V=>y.jsx("option",{value:V,children:V},V))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"  *"}),y.jsx("input",{type:"text",value:A.title,onChange:V=>N({...A,title:V.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-[#F59E0B]",placeholder:":   ",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:""}),y.jsx("textarea",{value:A.description,onChange:V=>N({...A,description:V.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-[#F59E0B]",placeholder:" ...",rows:3})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"    *"}),y.jsx("input",{type:"url",value:A.mediaUrl,onChange:V=>N({...A,mediaUrl:V.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-[#F59E0B]",placeholder:" Google Drive  YouTube",required:!0}),y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" Google Drive:    | YouTube:   "})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:" ()"}),y.jsx("input",{type:"text",value:A.category,onChange:V=>N({...A,category:V.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-[#F59E0B]",placeholder:":   ..."})]}),y.jsxs("div",{className:"flex gap-4 pt-4",children:[y.jsx("button",{type:"submit",className:"bg-[#F59E0B] hover:bg-[#EF8C00] text-white font-bold px-8 py-3 rounded-lg transition-colors",children:g?" ":" "}),y.jsx("button",{type:"button",onClick:M,className:"bg-gray-500 hover:bg-gray-600 text-white font-bold px-8 py-3 rounded-lg transition-colors",children:""})]})]})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-[#0A1F44] mb-6",children:" "}),u?y.jsx("p",{className:"text-center text-gray-600 py-8",children:" ..."}):s.length===0?y.jsx("p",{className:"text-center text-gray-600 py-8",children:"   "}):y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 text-right",children:""}),y.jsx("th",{className:"px-4 py-3 text-right",children:""}),y.jsx("th",{className:"px-4 py-3 text-right",children:""}),y.jsx("th",{className:"px-4 py-3 text-right",children:""}),y.jsx("th",{className:"px-4 py-3 text-center",children:""})]})}),y.jsx("tbody",{children:s.map(V=>y.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[y.jsx("td",{className:"px-4 py-3",children:V.serviceTitle}),y.jsx("td",{className:"px-4 py-3",children:V.title}),y.jsx("td",{className:"px-4 py-3",children:y.jsx("span",{className:`px-2 py-1 rounded text-xs ${V.mediaType==="youtube"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:V.mediaType==="youtube"?" ":" "})}),y.jsx("td",{className:"px-4 py-3",children:V.category||"-"}),y.jsx("td",{className:"px-4 py-3",children:y.jsxs("div",{className:"flex gap-2 justify-center",children:[y.jsx("button",{onClick:()=>Vt(V),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-1 rounded transition-colors text-sm",children:""}),y.jsx("button",{onClick:()=>Bt(V.id),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-1 rounded transition-colors text-sm",children:""})]})})]},V.id))})]})})]})]})]})})},bD=({onBack:r})=>{const[t,n]=Nt.useState(!1),[s,o]=Nt.useState(!0),[u,f]=Nt.useState(""),[g,p]=Nt.useState(""),[_,b]=Nt.useState("");Nt.useEffect(()=>{const H=jN(pm,Z=>{n(!!Z),o(!1)});return()=>H()},[]);const A=async H=>{H.preventDefault(),b("");try{await ON(pm,u,g)}catch(Z){b("      "),console.error("Login error:",Z)}},N=async()=>{try{await kN(pm),r()}catch(H){console.error("Logout error:",H)}};return s?y.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#F59E0B]"}),y.jsx("p",{className:"mt-4 text-gray-600",children:" ..."})]})}):t?y.jsxs("div",{children:[y.jsx("div",{className:"bg-[#F59E0B] text-white py-3 px-6 flex justify-end",children:y.jsx("button",{onClick:N,className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:" "})}),y.jsx(TD,{onBack:r})]}):y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0A1F44] to-[#1e3a6f] flex items-center justify-center py-12 px-4",children:y.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h2",{className:"text-3xl font-bold text-[#0A1F44]",children:" "}),y.jsx("p",{className:"text-gray-600 mt-2",children:"  "})]}),y.jsxs("form",{onSubmit:A,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:" "}),y.jsx("input",{type:"email",value:u,onChange:H=>f(H.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:border-[#F59E0B] transition-colors",placeholder:"admin@smartmedia.com",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:" "}),y.jsx("input",{type:"password",value:g,onChange:H=>p(H.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:border-[#F59E0B] transition-colors",placeholder:"",required:!0})]}),_&&y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:_}),y.jsx("button",{type:"submit",className:"w-full bg-[#F59E0B] hover:bg-[#EF8C00] text-white font-bold py-3 px-6 rounded-lg transition-colors shadow-lg",children:""})]}),y.jsx("button",{onClick:r,className:"w-full mt-4 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-lg transition-colors",children:"  "})]})})},wD=()=>{const[r,t]=Nt.useState({page:"home",serviceTitle:null});Nt.useEffect(()=>{const u=window.location.hash;if(u==="#admin")t({page:"admin",serviceTitle:null});else if(u.startsWith("#portfolio/")){const f=decodeURIComponent(u.replace("#portfolio/",""));t({page:"portfolio",serviceTitle:f})}},[]),Nt.useEffect(()=>{const u=f=>{if(f.state)t(f.state);else{const g=window.location.hash;if(g==="#admin")t({page:"admin",serviceTitle:null});else if(g.startsWith("#portfolio/")){const p=decodeURIComponent(g.replace("#portfolio/",""));t({page:"portfolio",serviceTitle:p})}else t({page:"home",serviceTitle:null})}};return window.addEventListener("popstate",u),()=>window.removeEventListener("popstate",u)},[]);const n=u=>{const f={page:"portfolio",serviceTitle:u};t(f),window.history.pushState(f,"",`#portfolio/${encodeURIComponent(u)}`),window.scrollTo(0,0)},s=()=>{const u={page:"home",serviceTitle:null};t(u),window.history.pushState(u,"","#")},o=()=>{const u={page:"admin",serviceTitle:null};t(u),window.history.pushState(u,"","#admin"),window.scrollTo(0,0)};return Nt.useEffect(()=>{window.openAdmin=o},[]),y.jsxs("div",{className:"text-[#0A1F44]",style:r.page==="home"?{background:"linear-gradient(135deg, #0A1F44 0%, #1e3a6f 50%, #2d4a7c 100%)"}:{background:"#f9fafb"},children:[r.page!=="admin"&&y.jsx(iA,{onNavigateHome:s}),y.jsx("main",{children:r.page==="home"?y.jsxs(y.Fragment,{children:[y.jsx(rA,{}),y.jsx(Z4,{}),y.jsx(W4,{onNavigate:n}),y.jsx(tD,{}),y.jsx(eD,{}),y.jsx(nD,{}),y.jsx(oD,{onNavigate:n}),y.jsx(uD,{})]}):r.page==="admin"?y.jsx(bD,{onBack:s}):y.jsx(yD,{serviceTitle:r.serviceTitle,onBack:s})}),r.page!=="admin"&&y.jsx(cD,{})]})},mb=document.getElementById("root");if(!mb)throw new Error("Could not find root element to mount to");const AD=nA.createRoot(mb);AD.render(y.jsx(Yw.StrictMode,{children:y.jsx(wD,{})}));
